module.exports=[59639,(e,t,r)=>{t.exports=e.x("node:process",()=>require("node:process"))},60526,(e,t,r)=>{t.exports=e.x("node:os",()=>require("node:os"))},83705,(e,t,r)=>{let{hasOwnProperty:o}=Object.prototype,n=(e,t={})=>{"string"==typeof t&&(t={section:t}),t.align=!0===t.align,t.newline=!0===t.newline,t.sort=!0===t.sort,t.whitespace=!0===t.whitespace||!0===t.align,t.platform=t.platform||"undefined"!=typeof process&&process.platform,t.bracketedArray=!1!==t.bracketedArray;let r="win32"===t.platform?"\r\n":"\n",o=t.whitespace?" = ":"=",a=[],s=t.sort?Object.keys(e).sort():Object.keys(e),u=0;t.align&&(u=l(s.filter(t=>null===e[t]||Array.isArray(e[t])||"object"!=typeof e[t]).map(t=>Array.isArray(e[t])?`${t}[]`:t).concat([""]).reduce((e,t)=>l(e).length>=l(t).length?e:t)).length);let p="",d=t.bracketedArray?"[]":"";for(let t of s){let n=e[t];if(n&&Array.isArray(n))for(let e of n)p+=l(`${t}${d}`).padEnd(u," ")+o+l(e)+r;else n&&"object"==typeof n?a.push(t):p+=l(t).padEnd(u," ")+o+l(n)+r}for(let o of(t.section&&p.length&&(p="["+l(t.section)+"]"+(t.newline?r+r:r)+p),a)){let a=i(o,".").join("\\."),s=(t.section?t.section+".":"")+a,l=n(e[o],{...t,section:s});p.length&&l.length&&(p+=r),p+=l}return p};function i(e,t){var r=0,o=0,n=0,i=[];do if(-1!==(n=e.indexOf(t,r))){if(r=n+t.length,n>0&&"\\"===e[n-1])continue;i.push(e.slice(o,n)),o=n+t.length}while(-1!==n)return i.push(e.slice(o)),i}let a=(e,t={})=>{t.bracketedArray=!1!==t.bracketedArray;let r=Object.create(null),n=r,a=null,s=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,l=e.split(/[\r\n]+/g),p={};for(let e of l){let i;if(!e||e.match(/^\s*[;#]/)||e.match(/^\s*$/))continue;let l=e.match(s);if(!l)continue;if(void 0!==l[1]){if("__proto__"===(a=u(l[1]))){n=Object.create(null);continue}n=r[a]=r[a]||Object.create(null);continue}let d=u(l[2]);t.bracketedArray?i=d.length>2&&"[]"===d.slice(-2):(p[d]=(p?.[d]||0)+1,i=p[d]>1);let c=i&&d.endsWith("[]")?d.slice(0,-2):d;if("__proto__"===c)continue;let h=!l[3]||u(l[4]),m="true"===h||"false"===h||"null"===h?JSON.parse(h):h;i&&(o.call(n,c)?Array.isArray(n[c])||(n[c]=[n[c]]):n[c]=[]),Array.isArray(n[c])?n[c].push(m):n[c]=m}let d=[];for(let e of Object.keys(r)){if(!o.call(r,e)||"object"!=typeof r[e]||Array.isArray(r[e]))continue;let t=i(e,".");n=r;let a=t.pop(),s=a.replace(/\\\./g,".");for(let e of t)"__proto__"!==e&&(o.call(n,e)&&"object"==typeof n[e]||(n[e]=Object.create(null)),n=n[e]);(n!==r||s!==a)&&(n[s]=r[e],d.push(e))}for(let e of d)delete r[e];return r},s=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"),l=e=>"string"!=typeof e||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&s(e)||e!==e.trim()?JSON.stringify(e):e.split(";").join("\\;").split("#").join("\\#"),u=e=>{if(s(e=(e||"").trim())){"'"===e.charAt(0)&&(e=e.slice(1,-1));try{e=JSON.parse(e)}catch{}}else{let t=!1,r="";for(let o=0,n=e.length;o<n;o++){let n=e.charAt(o);if(t)-1!=="\\;#".indexOf(n)?r+=n:r+="\\"+n,t=!1;else if(-1!==";#".indexOf(n))break;else"\\"===n?t=!0:r+=n}return t&&(r+="\\"),r.trim()}return e};t.exports={parse:a,decode:a,stringify:n,encode:n,safe:l,unsafe:u}},15078,e=>{e.v({name:"dotenv",version:"16.6.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}})},66494,(e,t,r)=>{let o=e.r(22734),n=e.r(14747),i=e.r(46786),a=e.r(54799),s=e.r(15078).version,l=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function u(e){console.log(`[dotenv@${s}][DEBUG] ${e}`)}function p(e){console.log(`[dotenv@${s}] ${e}`)}function d(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function c(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)o.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=n.resolve(process.cwd(),".env.vault");return o.existsSync(t)?t:null}function h(e){return"~"===e[0]?n.join(i.homedir(),e.slice(1)):e}let m={configDotenv:function(e){let t,r=n.resolve(process.cwd(),".env"),i="utf8",a=!!(e&&e.debug),s=!e||!("quiet"in e)||e.quiet;e&&e.encoding?i=e.encoding:a&&u("No encoding is specified. UTF-8 is used by default");let l=[r];if(e&&e.path)if(Array.isArray(e.path))for(let t of(l=[],e.path))l.push(h(t));else l=[h(e.path)];let d={};for(let r of l)try{let t=m.parse(o.readFileSync(r,{encoding:i}));m.populate(d,t,e)}catch(e){a&&u(`Failed to load ${r} ${e.message}`),t=e}let c=process.env;if(e&&null!=e.processEnv&&(c=e.processEnv),m.populate(c,d,e),a||!s){let e=Object.keys(d).length,r=[];for(let e of l)try{let t=n.relative(process.cwd(),e);r.push(t)}catch(r){a&&u(`Failed to load ${e} ${r.message}`),t=r}p(`injecting env (${e}) from ${r.join(",")}`)}return t?{parsed:d,error:t}:{parsed:d}},_configVault:function(e){let t=!!(e&&e.debug),r=!e||!("quiet"in e)||e.quiet;(t||!r)&&p("Loading env from encrypted .env.vault");let o=m._parseVault(e),n=process.env;return e&&null!=e.processEnv&&(n=e.processEnv),m.populate(n,o,e),{parsed:o}},_parseVault:function(e){let t,r=c(e=e||{});e.path=r;let o=m.configDotenv(e);if(!o.parsed){let e=Error(`MISSING_DATA: Cannot parse ${r} for an unknown reason`);throw e.code="MISSING_DATA",e}let n=d(e).split(","),i=n.length;for(let e=0;e<i;e++)try{let r=n[e].trim(),i=function(e,t){let r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){let e=Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}let o=r.password;if(!o){let e=Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}let n=r.searchParams.get("environment");if(!n){let e=Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}let i=`DOTENV_VAULT_${n.toUpperCase()}`,a=e.parsed[i];if(!a){let e=Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:a,key:o}}(o,r);t=m.decrypt(i.ciphertext,i.key);break}catch(t){if(e+1>=i)throw t}return m.parse(t)},config:function(e){if(0===d(e).length)return m.configDotenv(e);let t=c(e);if(!t){var r;return r=`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`,console.log(`[dotenv@${s}][WARN] ${r}`),m.configDotenv(e)}return m._configVault(e)},decrypt:function(e,t){let r=Buffer.from(t.slice(-64),"hex"),o=Buffer.from(e,"base64"),n=o.subarray(0,12),i=o.subarray(-16);o=o.subarray(12,-16);try{let e=a.createDecipheriv("aes-256-gcm",r,n);return e.setAuthTag(i),`${e.update(o)}${e.final()}`}catch(o){let e=o instanceof RangeError,t="Invalid key length"===o.message,r="Unsupported state or unable to authenticate data"===o.message;if(e||t){let e=Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(r){let e=Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw o}},parse:function(e){let t,r={},o=e.toString();for(o=o.replace(/\r\n?/mg,"\n");null!=(t=l.exec(o));){let e=t[1],o=t[2]||"",n=(o=o.trim())[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),'"'===n&&(o=(o=o.replace(/\\n/g,"\n")).replace(/\\r/g,"\r")),r[e]=o}return r},populate:function(e,t,r={}){let o=!!(r&&r.debug),n=!!(r&&r.override);if("object"!=typeof t){let e=Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(let r of Object.keys(t))Object.prototype.hasOwnProperty.call(e,r)?(!0===n&&(e[r]=t[r]),o&&(!0===n?u(`"${r}" is already defined and WAS overwritten`):u(`"${r}" is already defined and was NOT overwritten`))):e[r]=t[r]}};t.exports.configDotenv=m.configDotenv,t.exports._configVault=m._configVault,t.exports._parseVault=m._parseVault,t.exports.config=m.config,t.exports.decrypt=m.decrypt,t.exports.parse=m.parse,t.exports.populate=m.populate,t.exports=m},13252,(e,t,r)=>{let o={};null!=process.env.DOTENV_CONFIG_ENCODING&&(o.encoding=process.env.DOTENV_CONFIG_ENCODING),null!=process.env.DOTENV_CONFIG_PATH&&(o.path=process.env.DOTENV_CONFIG_PATH),null!=process.env.DOTENV_CONFIG_QUIET&&(o.quiet=process.env.DOTENV_CONFIG_QUIET),null!=process.env.DOTENV_CONFIG_DEBUG&&(o.debug=process.env.DOTENV_CONFIG_DEBUG),null!=process.env.DOTENV_CONFIG_OVERRIDE&&(o.override=process.env.DOTENV_CONFIG_OVERRIDE),null!=process.env.DOTENV_CONFIG_DOTENV_KEY&&(o.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY),t.exports=o},84855,(e,t,r)=>{let o=/^dotenv_config_(encoding|path|quiet|debug|override|DOTENV_KEY)=(.+)$/;t.exports=function(e){let t=e.reduce(function(e,t){let r=t.match(o);return r&&(e[r[1]]=r[2]),e},{});return"quiet"in t||(t.quiet="true"),t}},98746,(e,t,r)=>{e.r(66494).config(Object.assign({},e.r(13252),e.r(84855)(process.argv)))},87444,(e,t,r)=>{"use strict";t.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,o="boolean"==typeof t.cycles&&t.cycles,n=t.cmp&&(r=t.cmp,function(e){return function(t,o){return r({key:t,value:e[t]},{key:o,value:e[o]})}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);if(Array.isArray(t)){for(r=0,a="[";r<t.length;r++)r&&(a+=","),a+=e(t[r])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(o)return JSON.stringify("__cycle__");throw TypeError("Converting circular structure to JSON")}var r,a,s=i.push(t)-1,l=Object.keys(t).sort(n&&n(t));for(r=0,a="";r<l.length;r++){var u=l[r],p=e(t[u]);p&&(a&&(a+=","),a+=JSON.stringify(u)+":"+p)}return i.splice(s,1),"{"+a+"}"}}(e)}},28943,(e,t,r)=>{"use strict";var o=Array.prototype,n=Object.prototype,i={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},a=/[&"'<>\\]/g,s=t.exports={};function l(e,t){return n.hasOwnProperty.call(e,t)}function u(e){return i[e]}function p(e,t,r){if(e instanceof Error&&(e=(n=e).name+": "+n.message),Object.setPrototypeOf?Object.setPrototypeOf(o=Error(e),p.prototype):(o=this,Object.defineProperty(o,"message",{enumerable:!1,writable:!0,value:e})),Object.defineProperty(o,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(o,this.constructor),n){var o,n,i,a=Object.getOwnPropertyDescriptor(n,"stack");(i=a&&(a.get||function(){return a.value}))||(i=function(){return n.stack})}else{var s=Error(e).stack;i=function(){return s}}return Object.defineProperty(o,"stack",{get:function(){return i.call(o)}}),Object.defineProperty(o,"cause",{value:n}),o.lineno=t,o.colno=r,o.firstUpdate=!0,o.Update=function(e){var t="("+(e||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?t+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(t+=" [Line "+this.lineno+"]")),t+="\n ",this.firstUpdate&&(t+=" "),this.message=t+(this.message||""),this.firstUpdate=!1,this},o}function d(e){return"[object Function]"===n.toString.call(e)}function c(e){return"[object Array]"===n.toString.call(e)}function h(e){return"[object String]"===n.toString.call(e)}function m(e){return"[object Object]"===n.toString.call(e)}function g(e){var t=e?"string"==typeof e?e.split("."):[e]:[];return function(e){for(var r=e,o=0;o<t.length;o++){var n=t[o];if(!l(r,n))return;r=r[n]}return r}}function f(e){return Array.prototype.slice.call(e)}function y(e,t,r){return Array.prototype.indexOf.call(e||[],t,r)}function _(e){var t=[];for(var r in e)l(e,r)&&t.push(r);return t}s.hasOwnProp=l,s._prettifyError=function(e,t,r){if(r.Update||(r=new s.TemplateError(r)),r.Update(e),!t){var o=r;(r=Error(o.message)).name=o.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(p.prototype,Error.prototype):p.prototype=Object.create(Error.prototype,{constructor:{value:p}}),s.TemplateError=p,s.escape=function(e){return e.replace(a,u)},s.isFunction=d,s.isArray=c,s.isString=h,s.isObject=m,s.getAttrGetter=g,s.groupBy=function(e,t,r){for(var o={},n=d(t)?t:g(t),i=0;i<e.length;i++){var a=e[i],s=n(a,i);if(void 0===s&&!0===r)throw TypeError('groupby: attribute "'+t+'" resolved to undefined');(o[s]||(o[s]=[])).push(a)}return o},s.toArray=f,s.without=function(e){var t=[];if(!e)return t;for(var r=e.length,o=f(arguments).slice(1),n=-1;++n<r;)-1===y(o,e[n])&&t.push(e[n]);return t},s.repeat=function(e,t){for(var r="",o=0;o<t;o++)r+=e;return r},s.each=function(e,t,r){if(null!=e){if(o.forEach&&e.forEach===o.forEach)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)}},s.map=function(e,t){var r=[];if(null==e)return r;if(o.map&&e.map===o.map)return e.map(t);for(var n=0;n<e.length;n++)r[r.length]=t(e[n],n);return e.length===+e.length&&(r.length=e.length),r},s.asyncIter=function(e,t,r){var o=-1;!function n(){++o<e.length?t(e[o],o,n,r):r()}()},s.asyncFor=function(e,t,r){var o=_(e||{}),n=o.length,i=-1;!function a(){var s=o[++i];i<n?t(s,e[s],i,n,a):r()}()},s.indexOf=y,s.keys=_,s._entries=function(e){return _(e).map(function(t){return[t,e[t]]})},s._values=function(e){return _(e).map(function(t){return e[t]})},s._assign=s.extend=function(e,t){return e=e||{},_(t).forEach(function(r){e[r]=t[r]}),e},s.inOperator=function(e,t){if(c(t)||h(t))return -1!==t.indexOf(e);if(m(t))return e in t;throw Error('Cannot use "in" operator to search for "'+e+'" in unexpected types.')}},63317,(e,t,r)=>{t.exports=e.x("domain",()=>require("domain"))},56136,(e,t,r)=>{"use strict";var o,n="function"==typeof setImmediate;function i(e){a.length||(p(),s=!0),a[a.length]=e}t.exports=i;var a=[],s=!1,l=0;function u(){for(;l<a.length;){var e=l;if(l+=1,a[e].call(),l>1024){for(var t=0,r=a.length-l;t<r;t++)a[t]=a[t+l];a.length-=l,l=0}}a.length=0,l=0,s=!1}function p(){var t=process.domain;t&&(o||(o=e.r(63317)),o.active=process.domain=null),s&&n?setImmediate(u):process.nextTick(u),t&&(o.active=process.domain=t)}i.requestFlush=p},51202,(e,t,r)=>{"use strict";var o=e.r(56136),n=[];function i(){this.task=null,this.domain=null}t.exports=function(e){var t;(t=n.length?n.pop():new i).task=e,t.domain=process.domain,o(t)},i.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&o.requestFlush(),this.task=null,this.domain=null,n.push(this)}}},94867,(e,t,r)=>{!function(r){"use strict";var o=function(){var e=Array.prototype.slice.call(arguments);"function"==typeof e[0]&&e[0].apply(null,e.splice(1))},n=function(e){"function"==typeof setImmediate?setImmediate(e):"undefined"!=typeof process&&process.nextTick?process.nextTick(e):setTimeout(e,0)},i=function(e){var t=function(r){var o=function(){return e.length&&e[r].apply(null,arguments),o.next()};return o.next=function(){return r<e.length-1?t(r+1):null},o};return t(0)},a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(e,t,r){var s=r?n:o;if(t=t||function(){},!a(e)){var l=Error("First argument to waterfall must be an array of functions");return t(l)}if(!e.length)return t();var u=function(e){return function(r){if(r)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),n=e.next();n?o.push(u(n)):o.push(t),s(function(){e.apply(null,o)})}}};u(i(e))()};if("undefined"!=typeof define&&define.amd)void 0!==s&&e.v(s);else t.exports?t.exports=s:r.waterfall=s}(e.e)},39915,(e,t,r)=>{"use strict";var o=e.r(28943),n=" \n	\rÂ ",i="()[]{}%*-+~/#,:|.<>=!",a="string",s="whitespace",l="data",u="block-start",p="block-end",d="variable-start",c="variable-end",h="comment",m="left-paren",g="right-paren",f="left-bracket",y="right-bracket",_="left-curly",v="right-curly",b="operator",w="comma",D="colon",C="tilde",E="pipe",k="float",x="boolean",T="none",S="symbol",R="regex";function j(e,t,r,o){return{type:e,value:t,lineno:r,colno:o}}var F=function(){function e(e,t){this.str=e,this.index=0,this.len=e.length,this.lineno=0,this.colno=0,this.in_code=!1;var r=(t=t||{}).tags||{};this.tags={BLOCK_START:r.blockStart||"{%",BLOCK_END:r.blockEnd||"%}",VARIABLE_START:r.variableStart||"{{",VARIABLE_END:r.variableEnd||"}}",COMMENT_START:r.commentStart||"{#",COMMENT_END:r.commentEnd||"#}"},this.trimBlocks=!!t.trimBlocks,this.lstripBlocks=!!t.lstripBlocks}var t=e.prototype;return t.nextToken=function(){var e=this.lineno,t=this.colno;if(this.in_code){var r=this.current();if(this.isFinished())return null;if('"'===r||"'"===r)return j(a,this._parseString(r),e,t);if(I=this._extract(n))return j(s,I,e,t);else if((I=this._extractString(this.tags.BLOCK_END))||(I=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(r=this.current())?this.forward():"\r"===r&&(this.forward(),"\n"===(r=this.current())?this.forward():this.back())),j(p,I,e,t);else if((I=this._extractString(this.tags.VARIABLE_END))||(I=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,j(c,I,e,t);else if("r"===r&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var F="";!this.isFinished();)if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}else F+=this.current(),this.forward();for(var P=["g","i","m","y"],O="";!this.isFinished();)if(-1!==P.indexOf(this.current()))O+=this.current(),this.forward();else break;return j(R,{body:F,flags:O},e,t)}else if(-1!==i.indexOf(r)){this.forward();var I,A,N=["==","===","!=","!==","<=",">=","//","**"],B=r+this.current();switch(-1!==o.indexOf(N,B)&&(this.forward(),r=B,-1!==o.indexOf(N,B+this.current())&&(r=B+this.current(),this.forward())),r){case"(":A=m;break;case")":A=g;break;case"[":A=f;break;case"]":A=y;break;case"{":A=_;break;case"}":A=v;break;case",":A=w;break;case":":A=D;break;case"~":A=C;break;case"|":A=E;break;default:A=b}return j(A,r,e,t)}else{if((I=this._extractUntil(n+i)).match(/^[-+]?[0-9]+$/))if("."===this.current())return this.forward(),j(k,I+"."+this._extract("0123456789"),e,t);else return j("int",I,e,t);if(I.match(/^(true|false)$/))return j(x,I,e,t);if("none"===I)return j(T,I,e,t);else if("null"===I)return j(T,I,e,t);else if(I)return j(S,I,e,t);else throw Error("Unexpected value while parsing: "+I)}}var M=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((I=this._extractString(this.tags.BLOCK_START+"-"))||(I=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,j(u,I,e,t);if((I=this._extractString(this.tags.VARIABLE_START+"-"))||(I=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,j(d,I,e,t);I="";var U,L=!1;for(this._matches(this.tags.COMMENT_START)&&(L=!0,I=this._extractString(this.tags.COMMENT_START));null!==(U=this._extractUntil(M));){if(I+=U,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!L){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=I.length){var q=I.slice(-this.colno);if(/^\s+$/.test(q)&&!(I=I.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!L)throw Error("unexpected end of comment");I+=this._extractString(this.tags.COMMENT_END);break}I+=this.current(),this.forward()}if(null===U&&L)throw Error("expected end of comment, got end of file");return j(L?h:l,I,e,t)},t._parseString=function(e){this.forward();for(var t="";!this.isFinished()&&this.current()!==e;){var r=this.current();if("\\"===r){switch(this.forward(),this.current()){case"n":t+="\n";break;case"t":t+="	";break;case"r":t+="\r";break;default:t+=this.current()}this.forward()}else t+=r,this.forward()}return this.forward(),t},t._matches=function(e){return this.index+e.length>this.len?null:this.str.slice(this.index,this.index+e.length)===e},t._extractString=function(e){return this._matches(e)?(this.forwardN(e.length),e):null},t._extractUntil=function(e){return this._extractMatching(!0,e||"")},t._extract=function(e){return this._extractMatching(!1,e)},t._extractMatching=function(e,t){if(this.isFinished())return null;var r=t.indexOf(this.current());if(e&&-1===r||!e&&-1!==r){var o=this.current();this.forward();for(var n=t.indexOf(this.current());(e&&-1===n||!e&&-1!==n)&&!this.isFinished();)o+=this.current(),this.forward(),n=t.indexOf(this.current());return o}return""},t._extractRegex=function(e){var t=this.currentStr().match(e);return t?(this.forwardN(t[0].length),t):null},t.isFinished=function(){return this.index>=this.len},t.forwardN=function(e){for(var t=0;t<e;t++)this.forward()},t.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},t.backN=function(e){for(var t=0;t<e;t++)this.back()},t.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var e=this.src.lastIndexOf("\n",this.index-1);-1===e?this.colno=this.index:this.colno=this.index-e}else this.colno--},t.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},t.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},t.previous=function(){return this.str.charAt(this.index-1)},e}();t.exports={lex:function(e,t){return new F(e,t)},TOKEN_STRING:a,TOKEN_WHITESPACE:s,TOKEN_DATA:l,TOKEN_BLOCK_START:u,TOKEN_BLOCK_END:p,TOKEN_VARIABLE_START:d,TOKEN_VARIABLE_END:c,TOKEN_COMMENT:h,TOKEN_LEFT_PAREN:m,TOKEN_RIGHT_PAREN:g,TOKEN_LEFT_BRACKET:f,TOKEN_RIGHT_BRACKET:y,TOKEN_LEFT_CURLY:_,TOKEN_RIGHT_CURLY:v,TOKEN_OPERATOR:b,TOKEN_COMMA:w,TOKEN_COLON:D,TOKEN_TILDE:C,TOKEN_PIPE:E,TOKEN_INT:"int",TOKEN_FLOAT:k,TOKEN_BOOLEAN:x,TOKEN_NONE:T,TOKEN_SYMBOL:S,TOKEN_SPECIAL:"special",TOKEN_REGEX:R}},27699,(e,t,r)=>{t.exports=e.x("events",()=>require("events"))},63709,(e,t,r)=>{"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o.key),o)}}function n(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var s=e.r(27699),l=e.r(28943);function u(e,t,r){r=r||{},l.keys(r).forEach(function(t){var o,n;r[t]=(o=e.prototype[t],n=r[t],"function"!=typeof o||"function"!=typeof n?n:function(){var e=this.parent;this.parent=o;var t=n.apply(this,arguments);return this.parent=e,t})});var o=function(e){function r(){return e.apply(this,arguments)||this}return i(r,e),n(r,[{key:"typename",get:function(){return t}}]),r}(e);return l._assign(o.prototype,r),o}t.exports={Obj:function(){function e(){this.init.apply(this,arguments)}return e.prototype.init=function(){},e.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),u(this,e,t)},n(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(),EmitterObj:function(e){function t(){var t;return(t=e.call(this)||this).init.apply(t,arguments),t}return i(t,e),t.prototype.init=function(){},t.extend=function(e,t){return"object"==typeof e&&(t=e,e="anonymous"),u(this,e,t)},n(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(s)}},71349,(e,t,r)=>{"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o.key),o)}}function n(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t,r){e instanceof t&&r.push(e),e instanceof l&&e.findAll(t,r)}var l=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var r=t.prototype;return r.init=function(e,t){for(var r=arguments,o=this,n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];this.lineno=e,this.colno=t,this.fields.forEach(function(e,t){var n=r[t+2];void 0===n&&(n=null),o[e]=n})},r.findAll=function(e,t){var r=this;return t=t||[],this instanceof p?this.children.forEach(function(r){return s(r,e,t)}):this.fields.forEach(function(o){return s(r[o],e,t)}),t},r.iterFields=function(e){var t=this;this.fields.forEach(function(r){e(t[r],r)})},t}(e.r(63709).Obj),u=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),n(t,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),t}(l),p=function(e){function t(){return e.apply(this,arguments)||this}i(t,e);var r=t.prototype;return r.init=function(t,r,o){e.prototype.init.call(this,t,r,o||[])},r.addChild=function(e){this.children.push(e)},n(t,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),t}(l),d=p.extend("Root"),c=u.extend("Literal"),h=u.extend("Symbol"),m=p.extend("Group"),g=p.extend("Array"),f=l.extend("Pair",{fields:["key","value"]}),y=p.extend("Dict"),_=l.extend("LookupVal",{fields:["target","val"]}),v=l.extend("If",{fields:["cond","body","else_"]}),b=v.extend("IfAsync"),w=l.extend("InlineIf",{fields:["cond","body","else_"]}),D=l.extend("For",{fields:["arr","name","body","else_"]}),C=D.extend("AsyncEach"),E=D.extend("AsyncAll"),k=l.extend("Macro",{fields:["name","args","body"]}),x=k.extend("Caller"),T=l.extend("Import",{fields:["template","target","withContext"]}),S=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.init=function(t,r,o,n,i){e.prototype.init.call(this,t,r,o,n||new p,i)},n(t,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),t}(l),R=l.extend("FunCall",{fields:["name","args"]}),j=R.extend("Filter"),F=j.extend("FilterAsync",{fields:["name","args","symbol"]}),P=y.extend("KeywordArgs"),O=l.extend("Block",{fields:["name","body"]}),I=l.extend("Super",{fields:["blockName","symbol"]}),A=l.extend("TemplateRef",{fields:["template"]}).extend("Extends"),N=l.extend("Include",{fields:["template","ignoreMissing"]}),B=l.extend("Set",{fields:["targets","value"]}),M=l.extend("Switch",{fields:["expr","cases","default"]}),U=l.extend("Case",{fields:["cond","body"]}),L=p.extend("Output"),q=l.extend("Capture",{fields:["body"]}),$=c.extend("TemplateData"),z=l.extend("UnaryOp",{fields:["target"]}),W=l.extend("BinOp",{fields:["left","right"]}),V=W.extend("In"),K=W.extend("Is"),G=W.extend("Or"),H=W.extend("And"),Z=z.extend("Not"),J=W.extend("Add"),Y=W.extend("Concat"),Q=W.extend("Sub"),X=W.extend("Mul"),ee=W.extend("Div"),et=W.extend("FloorDiv"),er=W.extend("Mod"),eo=W.extend("Pow"),en=z.extend("Neg"),ei=z.extend("Pos"),ea=l.extend("Compare",{fields:["expr","ops"]}),es=l.extend("CompareOperand",{fields:["expr","type"]}),el=l.extend("CallExtension",{init:function(e,t,r,o){this.parent(),this.extName=e.__name||e,this.prop=t,this.args=r||new p,this.contentArgs=o||[],this.autoescape=e.autoescape},fields:["extName","prop","args","contentArgs"]}),eu=el.extend("CallExtensionAsync");function ep(e,t,r){var o=e.split("\n");o.forEach(function(e,n){e&&(r&&n>0||!r)&&process.stdout.write(" ".repeat(t));var i=n===o.length-1?"":"\n";process.stdout.write(""+e+i)})}t.exports={Node:l,Root:d,NodeList:p,Value:u,Literal:c,Symbol:h,Group:m,Array:g,Pair:f,Dict:y,Output:L,Capture:q,TemplateData:$,If:v,IfAsync:b,InlineIf:w,For:D,AsyncEach:C,AsyncAll:E,Macro:k,Caller:x,Import:T,FromImport:S,FunCall:R,Filter:j,FilterAsync:F,KeywordArgs:P,Block:O,Super:I,Extends:A,Include:N,Set:B,Switch:M,Case:U,LookupVal:_,BinOp:W,In:V,Is:K,Or:G,And:H,Not:Z,Add:J,Concat:Y,Sub:Q,Mul:X,Div:ee,FloorDiv:et,Mod:er,Pow:eo,Neg:en,Pos:ei,Compare:ea,CompareOperand:es,CallExtension:el,CallExtensionAsync:eu,printNodes:function e(t,r){if(r=r||0,ep(t.typename+": ",r),t instanceof p)ep("\n"),t.children.forEach(function(t){e(t,r+2)});else if(t instanceof el)ep(t.extName+"."+t.prop+"\n"),t.args&&e(t.args,r+2),t.contentArgs&&t.contentArgs.forEach(function(t){e(t,r+2)});else{var o=[],n=null;t.iterFields(function(e,t){e instanceof l?o.push([t,e]):(n=n||{})[t]=e}),n?ep(JSON.stringify(n,null,2)+"\n",null,!0):ep("\n"),o.forEach(function(t){var o=t[0],n=t[1];ep("["+o+"] =>",r+2),e(n,r+4)})}}}},19195,(e,t,r)=>{"use strict";function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var n=e.r(39915),i=e.r(71349),a=e.r(63709).Obj,s=e.r(28943),l=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e);var r=t.prototype;return r.init=function(e){this.tokens=e,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},r.nextToken=function(e){var t;if(this.peeked)if(e||this.peeked.type!==n.TOKEN_WHITESPACE)return t=this.peeked,this.peeked=null,t;else this.peeked=null;if(t=this.tokens.nextToken(),!e)for(;t&&t.type===n.TOKEN_WHITESPACE;)t=this.tokens.nextToken();return t},r.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},r.pushToken=function(e){if(this.peeked)throw Error("pushToken: can only push one token on between reads");this.peeked=e},r.error=function(e,t,r){if(void 0===t||void 0===r){var o=this.peekToken()||{};t=o.lineno,r=o.colno}return void 0!==t&&(t+=1),void 0!==r&&(r+=1),new s.TemplateError(e,t,r)},r.fail=function(e,t,r){throw this.error(e,t,r)},r.skip=function(e){var t=this.nextToken();return!!t&&t.type===e||(this.pushToken(t),!1)},r.expect=function(e){var t=this.nextToken();return t.type!==e&&this.fail("expected "+e+", got "+t.type,t.lineno,t.colno),t},r.skipValue=function(e,t){var r=this.nextToken();return!!r&&r.type===e&&r.value===t||(this.pushToken(r),!1)},r.skipSymbol=function(e){return this.skipValue(n.TOKEN_SYMBOL,e)},r.advanceAfterBlockEnd=function(e){var t;return e||((t=this.peekToken())||this.fail("unexpected end of file"),t.type!==n.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),e=this.nextToken().value),(t=this.nextToken())&&t.type===n.TOKEN_BLOCK_END?"-"===t.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+e+" statement"),t},r.advanceAfterVariableEnd=function(){var e=this.nextToken();e&&e.type===n.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(e),this.fail("expected variable end"))},r.parseFor=function(){var e,t,r=this.peekToken();if(this.skipSymbol("for")?(e=new i.For(r.lineno,r.colno),t="endfor"):this.skipSymbol("asyncEach")?(e=new i.AsyncEach(r.lineno,r.colno),t="endeach"):this.skipSymbol("asyncAll")?(e=new i.AsyncAll(r.lineno,r.colno),t="endall"):this.fail("parseFor: expected for{Async}",r.lineno,r.colno),e.name=this.parsePrimary(),e.name instanceof i.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===n.TOKEN_COMMA){var o=e.name;for(e.name=new i.Array(o.lineno,o.colno),e.name.addChild(o);this.skip(n.TOKEN_COMMA);){var a=this.parsePrimary();e.name.addChild(a)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',r.lineno,r.colno),e.arr=this.parseExpression(),this.advanceAfterBlockEnd(r.value),e.body=this.parseUntilBlocks(t,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),e.else_=this.parseUntilBlocks(t)),this.advanceAfterBlockEnd(),e},r.parseMacro=function(){var e=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var t=this.parsePrimary(!0),r=this.parseSignature(),o=new i.Macro(e.lineno,e.colno,t,r);return this.advanceAfterBlockEnd(e.value),o.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),o},r.parseCall=function(){var e=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var t=this.parseSignature(!0)||new i.NodeList,r=this.parsePrimary();this.advanceAfterBlockEnd(e.value);var o=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var n=new i.Symbol(e.lineno,e.colno,"caller"),a=new i.Caller(e.lineno,e.colno,n,t,o),s=r.args.children;return s[s.length-1]instanceof i.KeywordArgs||s.push(new i.KeywordArgs),s[s.length-1].addChild(new i.Pair(e.lineno,e.colno,n,a)),new i.Output(e.lineno,e.colno,[r])},r.parseWithContext=function(){var e=this.peekToken(),t=null;return this.skipSymbol("with")?t=!0:this.skipSymbol("without")&&(t=!1),null===t||this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",e.lineno,e.colno),t},r.parseImport=function(){var e=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",e.lineno,e.colno);var t=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',e.lineno,e.colno);var r=this.parseExpression(),o=this.parseWithContext(),n=new i.Import(e.lineno,e.colno,t,r,o);return this.advanceAfterBlockEnd(e.value),n},r.parseFrom=function(){var e,t=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var r=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",t.lineno,t.colno);for(var o=new i.NodeList;;){var a=this.peekToken();if(a.type===n.TOKEN_BLOCK_END){o.children.length||this.fail("parseFrom: Expected at least one import name",t.lineno,t.colno),"-"===a.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}o.children.length>0&&!this.skip(n.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",t.lineno,t.colno);var s=this.parsePrimary();if("_"===s.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",s.lineno,s.colno),this.skipSymbol("as")){var l=this.parsePrimary();o.addChild(new i.Pair(s.lineno,s.colno,s,l))}else o.addChild(s);e=this.parseWithContext()}return new i.FromImport(t.lineno,t.colno,r,o,e)},r.parseBlock=function(){var e=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",e.lineno,e.colno);var t=new i.Block(e.lineno,e.colno);t.name=this.parsePrimary(),t.name instanceof i.Symbol||this.fail("parseBlock: variable name expected",e.lineno,e.colno),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(t.name.value);var r=this.peekToken();return r||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(r.value),t},r.parseExtends=function(){var e="extends",t=this.peekToken();this.skipSymbol(e)||this.fail("parseTemplateRef: expected "+e);var r=new i.Extends(t.lineno,t.colno);return r.template=this.parseExpression(),this.advanceAfterBlockEnd(t.value),r},r.parseInclude=function(){var e="include",t=this.peekToken();this.skipSymbol(e)||this.fail("parseInclude: expected "+e);var r=new i.Include(t.lineno,t.colno);return r.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(r.ignoreMissing=!0),this.advanceAfterBlockEnd(t.value),r},r.parseIf=function(){var e,t=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?e=new i.If(t.lineno,t.colno):this.skipSymbol("ifAsync")?e=new i.IfAsync(t.lineno,t.colno):this.fail("parseIf: expected if, elif, or elseif",t.lineno,t.colno),e.cond=this.parseExpression(),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("elif","elseif","else","endif");var r=this.peekToken();switch(r&&r.value){case"elseif":case"elif":e.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),e.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":e.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return e},r.parseSet=function(){var e,t=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",t.lineno,t.colno);for(var r=new i.Set(t.lineno,t.colno,[]);(e=this.parsePrimary())&&(r.targets.push(e),this.skip(n.TOKEN_COMMA)););return this.skipValue(n.TOKEN_OPERATOR,"=")?(r.value=this.parseExpression(),this.advanceAfterBlockEnd(t.value)):this.skip(n.TOKEN_BLOCK_END)?(r.body=new i.Capture(t.lineno,t.colno,this.parseUntilBlocks("endset")),r.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",t.lineno,t.colno),r},r.parseSwitch=function(){var e,t="switch",r="endswitch",o="case",n="default",a=this.peekToken();this.skipSymbol(t)||this.skipSymbol(o)||this.skipSymbol(n)||this.fail('parseSwitch: expected "switch," "case" or "default"',a.lineno,a.colno);var s=this.parseExpression();this.advanceAfterBlockEnd(t),this.parseUntilBlocks(o,n,r);var l=this.peekToken(),u=[];do{this.skipSymbol(o);var p=this.parseExpression();this.advanceAfterBlockEnd(t);var d=this.parseUntilBlocks(o,n,r);u.push(new i.Case(l.line,l.col,p,d)),l=this.peekToken()}while(l&&l.value===o)switch(l.value){case n:this.advanceAfterBlockEnd(),e=this.parseUntilBlocks(r),this.advanceAfterBlockEnd();break;case r:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new i.Switch(a.lineno,a.colno,s,u,e)},r.parseStatement=function(){var e,t=this.peekToken();if(t.type!==n.TOKEN_SYMBOL&&this.fail("tag name expected",t.lineno,t.colno),this.breakOnBlocks&&-1!==s.indexOf(this.breakOnBlocks,t.value))return null;switch(t.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var r=0;r<this.extensions.length;r++){var o=this.extensions[r];if(-1!==s.indexOf(o.tags||[],t.value))return o.parse(this,i,n)}this.fail("unknown block tag: "+t.value,t.lineno,t.colno)}return e},r.parseRaw=function(e){for(var t="end"+(e=e||"raw"),r=RegExp("([\\s\\S]*?){%\\s*("+e+"|"+t+")\\s*(?=%})%}"),o=1,n="",a=null,s=this.advanceAfterBlockEnd();(a=this.tokens._extractRegex(r))&&o>0;){var l=a[0],u=a[1],p=a[2];p===e?o+=1:p===t&&(o-=1),0===o?(n+=u,this.tokens.backN(l.length-u.length)):n+=l}return new i.Output(s.lineno,s.colno,[new i.TemplateData(s.lineno,s.colno,n)])},r.parsePostfix=function(e){for(var t,r=this.peekToken();r;){if(r.type===n.TOKEN_LEFT_PAREN)e=new i.FunCall(r.lineno,r.colno,e,this.parseSignature());else if(r.type===n.TOKEN_LEFT_BRACKET)(t=this.parseAggregate()).children.length>1&&this.fail("invalid index"),e=new i.LookupVal(r.lineno,r.colno,e,t.children[0]);else if(r.type===n.TOKEN_OPERATOR&&"."===r.value){this.nextToken();var o=this.nextToken();o.type!==n.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+o.value,o.lineno,o.colno),t=new i.Literal(o.lineno,o.colno,o.value),e=new i.LookupVal(r.lineno,r.colno,e,t)}else break;r=this.peekToken()}return e},r.parseExpression=function(){return this.parseInlineIf()},r.parseInlineIf=function(){var e=this.parseOr();if(this.skipSymbol("if")){var t=this.parseOr(),r=e;(e=new i.InlineIf(e.lineno,e.colno)).body=r,e.cond=t,this.skipSymbol("else")?e.else_=this.parseOr():e.else_=null}return e},r.parseOr=function(){for(var e=this.parseAnd();this.skipSymbol("or");){var t=this.parseAnd();e=new i.Or(e.lineno,e.colno,e,t)}return e},r.parseAnd=function(){for(var e=this.parseNot();this.skipSymbol("and");){var t=this.parseNot();e=new i.And(e.lineno,e.colno,e,t)}return e},r.parseNot=function(){var e=this.peekToken();return this.skipSymbol("not")?new i.Not(e.lineno,e.colno,this.parseNot()):this.parseIn()},r.parseIn=function(){for(var e=this.parseIs();;){var t=this.nextToken();if(!t)break;var r=t.type===n.TOKEN_SYMBOL&&"not"===t.value;if(r||this.pushToken(t),this.skipSymbol("in")){var o=this.parseIs();e=new i.In(e.lineno,e.colno,e,o),r&&(e=new i.Not(e.lineno,e.colno,e))}else{r&&this.pushToken(t);break}}return e},r.parseIs=function(){var e=this.parseCompare();if(this.skipSymbol("is")){var t=this.skipSymbol("not"),r=this.parseCompare();e=new i.Is(e.lineno,e.colno,e,r),t&&(e=new i.Not(e.lineno,e.colno,e))}return e},r.parseCompare=function(){for(var e=["==","===","!=","!==","<",">","<=",">="],t=this.parseConcat(),r=[];;){var o=this.nextToken();if(o)if(-1!==e.indexOf(o.value))r.push(new i.CompareOperand(o.lineno,o.colno,this.parseConcat(),o.value));else{this.pushToken(o);break}else break}return r.length?new i.Compare(r[0].lineno,r[0].colno,t,r):t},r.parseConcat=function(){for(var e=this.parseAdd();this.skipValue(n.TOKEN_TILDE,"~");){var t=this.parseAdd();e=new i.Concat(e.lineno,e.colno,e,t)}return e},r.parseAdd=function(){for(var e=this.parseSub();this.skipValue(n.TOKEN_OPERATOR,"+");){var t=this.parseSub();e=new i.Add(e.lineno,e.colno,e,t)}return e},r.parseSub=function(){for(var e=this.parseMul();this.skipValue(n.TOKEN_OPERATOR,"-");){var t=this.parseMul();e=new i.Sub(e.lineno,e.colno,e,t)}return e},r.parseMul=function(){for(var e=this.parseDiv();this.skipValue(n.TOKEN_OPERATOR,"*");){var t=this.parseDiv();e=new i.Mul(e.lineno,e.colno,e,t)}return e},r.parseDiv=function(){for(var e=this.parseFloorDiv();this.skipValue(n.TOKEN_OPERATOR,"/");){var t=this.parseFloorDiv();e=new i.Div(e.lineno,e.colno,e,t)}return e},r.parseFloorDiv=function(){for(var e=this.parseMod();this.skipValue(n.TOKEN_OPERATOR,"//");){var t=this.parseMod();e=new i.FloorDiv(e.lineno,e.colno,e,t)}return e},r.parseMod=function(){for(var e=this.parsePow();this.skipValue(n.TOKEN_OPERATOR,"%");){var t=this.parsePow();e=new i.Mod(e.lineno,e.colno,e,t)}return e},r.parsePow=function(){for(var e=this.parseUnary();this.skipValue(n.TOKEN_OPERATOR,"**");){var t=this.parseUnary();e=new i.Pow(e.lineno,e.colno,e,t)}return e},r.parseUnary=function(e){var t,r=this.peekToken();return t=this.skipValue(n.TOKEN_OPERATOR,"-")?new i.Neg(r.lineno,r.colno,this.parseUnary(!0)):this.skipValue(n.TOKEN_OPERATOR,"+")?new i.Pos(r.lineno,r.colno,this.parseUnary(!0)):this.parsePrimary(),e||(t=this.parseFilter(t)),t},r.parsePrimary=function(e){var t,r=this.nextToken(),o=null;if(r?r.type===n.TOKEN_STRING?t=r.value:r.type===n.TOKEN_INT?t=parseInt(r.value,10):r.type===n.TOKEN_FLOAT?t=parseFloat(r.value):r.type===n.TOKEN_BOOLEAN?"true"===r.value?t=!0:"false"===r.value?t=!1:this.fail("invalid boolean: "+r.value,r.lineno,r.colno):r.type===n.TOKEN_NONE?t=null:r.type===n.TOKEN_REGEX&&(t=new RegExp(r.value.body,r.value.flags)):this.fail("expected expression, got end of file"),void 0!==t?o=new i.Literal(r.lineno,r.colno,t):r.type===n.TOKEN_SYMBOL?o=new i.Symbol(r.lineno,r.colno,r.value):(this.pushToken(r),o=this.parseAggregate()),e||(o=this.parsePostfix(o)),o)return o;throw this.error("unexpected token: "+r.value,r.lineno,r.colno)},r.parseFilterName=function(){for(var e=this.expect(n.TOKEN_SYMBOL),t=e.value;this.skipValue(n.TOKEN_OPERATOR,".");)t+="."+this.expect(n.TOKEN_SYMBOL).value;return new i.Symbol(e.lineno,e.colno,t)},r.parseFilterArgs=function(e){return this.peekToken().type===n.TOKEN_LEFT_PAREN?this.parsePostfix(e).args.children:[]},r.parseFilter=function(e){for(;this.skip(n.TOKEN_PIPE);){var t=this.parseFilterName();e=new i.Filter(t.lineno,t.colno,t,new i.NodeList(t.lineno,t.colno,[e].concat(this.parseFilterArgs(e))))}return e},r.parseFilterStatement=function(){var e=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var t=this.parseFilterName(),r=this.parseFilterArgs(t);this.advanceAfterBlockEnd(e.value);var o=new i.Capture(t.lineno,t.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var n=new i.Filter(t.lineno,t.colno,t,new i.NodeList(t.lineno,t.colno,[o].concat(r)));return new i.Output(t.lineno,t.colno,[n])},r.parseAggregate=function(){var e,t=this.nextToken();switch(t.type){case n.TOKEN_LEFT_PAREN:e=new i.Group(t.lineno,t.colno);break;case n.TOKEN_LEFT_BRACKET:e=new i.Array(t.lineno,t.colno);break;case n.TOKEN_LEFT_CURLY:e=new i.Dict(t.lineno,t.colno);break;default:return null}for(;;){var r=this.peekToken().type;if(r===n.TOKEN_RIGHT_PAREN||r===n.TOKEN_RIGHT_BRACKET||r===n.TOKEN_RIGHT_CURLY){this.nextToken();break}if(e.children.length>0&&!this.skip(n.TOKEN_COMMA)&&this.fail("parseAggregate: expected comma after expression",t.lineno,t.colno),e instanceof i.Dict){var o=this.parsePrimary();this.skip(n.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",t.lineno,t.colno);var a=this.parseExpression();e.addChild(new i.Pair(o.lineno,o.colno,o,a))}else{var s=this.parseExpression();e.addChild(s)}}return e},r.parseSignature=function(e,t){var r=this.peekToken();if(!t&&r.type!==n.TOKEN_LEFT_PAREN)if(e)return null;else this.fail("expected arguments",r.lineno,r.colno);r.type===n.TOKEN_LEFT_PAREN&&(r=this.nextToken());for(var o=new i.NodeList(r.lineno,r.colno),a=new i.KeywordArgs(r.lineno,r.colno),s=!1;;){if(r=this.peekToken(),t||r.type!==n.TOKEN_RIGHT_PAREN){if(t&&r.type===n.TOKEN_BLOCK_END)break}else{this.nextToken();break}if(s&&!this.skip(n.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",r.lineno,r.colno);else{var l=this.parseExpression();this.skipValue(n.TOKEN_OPERATOR,"=")?a.addChild(new i.Pair(l.lineno,l.colno,l,this.parseExpression())):o.addChild(l)}s=!0}return a.children.length&&o.addChild(a),o},r.parseUntilBlocks=function(){for(var e=this.breakOnBlocks,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];this.breakOnBlocks=r;var n=this.parse();return this.breakOnBlocks=e,n},r.parseNodes=function(){for(var e,t=[];e=this.nextToken();)if(e.type===n.TOKEN_DATA){var r=e.value,o=this.peekToken(),a=o&&o.value;this.dropLeadingWhitespace&&(r=r.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),o&&(o.type===n.TOKEN_BLOCK_START&&"-"===a.charAt(a.length-1)||o.type===n.TOKEN_VARIABLE_START&&"-"===a.charAt(this.tokens.tags.VARIABLE_START.length)||o.type===n.TOKEN_COMMENT&&"-"===a.charAt(this.tokens.tags.COMMENT_START.length))&&(r=r.replace(/\s*$/,"")),t.push(new i.Output(e.lineno,e.colno,[new i.TemplateData(e.lineno,e.colno,r)]))}else if(e.type===n.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var s=this.parseStatement();if(!s)break;t.push(s)}else if(e.type===n.TOKEN_VARIABLE_START){var l=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),t.push(new i.Output(e.lineno,e.colno,[l]))}else e.type===n.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+e.type,e.lineno,e.colno);return t},r.parse=function(){return new i.NodeList(0,0,this.parseNodes())},r.parseAsRoot=function(){return new i.Root(0,0,this.parseNodes())},t}(a);t.exports={parse:function(e,t,r){var o=new l(n.lex(e,r));return void 0!==t&&(o.extensions=t),o.parseAsRoot()},Parser:l}},27169,(e,t,r)=>{"use strict";var o=e.r(71349),n=e.r(28943),i=0;function a(){return"hole_"+i++}function s(e,t){for(var r=null,o=0;o<e.length;o++){var n=t(e[o]);n!==e[o]&&(r||(r=e.slice()),r[o]=n)}return r||e}function l(e,t,r){if(!(e instanceof o.Node))return e;if(!r){var n=t(e);if(n&&n!==e)return n}if(e instanceof o.NodeList){var i=s(e.children,function(e){return l(e,t,r)});i!==e.children&&(e=new o[e.typename](e.lineno,e.colno,i))}else if(e instanceof o.CallExtension){var a=l(e.args,t,r),u=s(e.contentArgs,function(e){return l(e,t,r)});(a!==e.args||u!==e.contentArgs)&&(e=new o[e.typename](e.extName,e.prop,a,u))}else{var p=e.fields.map(function(t){return e[t]}),d=s(p,function(e){return l(e,t,r)});d!==p&&(e=new o[e.typename](e.lineno,e.colno),d.forEach(function(t,r){e[e.fields[r]]=t}))}return r&&t(e)||e}function u(e,t,r){var i=[],s=l(r?e[r]:e,function(e){var r;return e instanceof o.Block?e:((e instanceof o.Filter&&-1!==n.indexOf(t,e.name.value)||e instanceof o.CallExtensionAsync)&&(r=new o.Symbol(e.lineno,e.colno,a()),i.push(new o.FilterAsync(e.lineno,e.colno,e.name,e.args,r))),r)},!0);return(r?e[r]=s:e=s,i.length)?(i.push(e),new o.NodeList(e.lineno,e.colno,i)):e}t.exports={transform:function(e,t){var r,n,i,s,p,d,c;return r=e,n=t||[],d=r,c=n,i=l(d,function(e){if(e instanceof o.Output)return u(e,c);if(e instanceof o.Set)return u(e,c,"value");if(e instanceof o.For)return u(e,c,"arr");if(e instanceof o.If)return u(e,c,"cond");if(e instanceof o.CallExtension)return u(e,c,"args");else return},!0),s=l(i,function(e){if(e instanceof o.Block){var t=!1,r=a();e.body=l(e.body,function(e){if(e instanceof o.FunCall&&"super"===e.name.value)return t=!0,new o.Symbol(e.lineno,e.colno,r)}),t&&e.body.children.unshift(new o.Super(0,0,e.name,new o.Symbol(0,0,r)))}}),p=function(e){if(e instanceof o.If||e instanceof o.For){var t=!1;if(l(e,function(e){if(e instanceof o.FilterAsync||e instanceof o.IfAsync||e instanceof o.AsyncEach||e instanceof o.AsyncAll||e instanceof o.CallExtensionAsync)return t=!0,e}),t){if(e instanceof o.If)return new o.IfAsync(e.lineno,e.colno,e.cond,e.body,e.else_);else if(e instanceof o.For&&!(e instanceof o.AsyncAll))return new o.AsyncEach(e.lineno,e.colno,e.arr,e.name,e.body,e.else_)}}},l(s,p,!0)}}},71841,(e,t,r)=>{"use strict";var o=e.r(28943),n=Array.from,i="function"==typeof Symbol&&Symbol.iterator&&"function"==typeof n,a=function(){function e(e,t){this.variables=Object.create(null),this.parent=e,this.topLevel=!1,this.isolateWrites=t}var t=e.prototype;return t.set=function(e,t,r){var o=e.split("."),n=this.variables,i=this;if(r&&(i=this.resolve(o[0],!0)))return void i.set(e,t);for(var a=0;a<o.length-1;a++){var s=o[a];n[s]||(n[s]={}),n=n[s]}n[o[o.length-1]]=t},t.get=function(e){var t=this.variables[e];return void 0!==t?t:null},t.lookup=function(e){var t=this.parent,r=this.variables[e];return void 0!==r?r:t&&t.lookup(e)},t.resolve=function(e,t){var r=t&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[e]?this:r&&r.resolve(e)},t.push=function(t){return new e(this,t)},t.pop=function(){return this.parent},e}();function s(e){return e&&Object.prototype.hasOwnProperty.call(e,"__keywords")}function l(e){var t=e.length;return 0===t?0:s(e[t-1])?t-1:t}function u(e){if("string"!=typeof e)return e;this.val=e,this.length=e.length}u.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),u.prototype.valueOf=function(){return this.val},u.prototype.toString=function(){return this.val},t.exports={Frame:a,makeMacro:function(e,t,r){return function(){for(var o,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];var u=l(i),p=function(e){var t=e.length;if(t){var r=e[t-1];if(s(r))return r}return{}}(i);if(u>e.length)o=i.slice(0,e.length),i.slice(o.length,u).forEach(function(e,r){r<t.length&&(p[t[r]]=e)}),o.push(p);else if(u<e.length){o=i.slice(0,u);for(var d=u;d<e.length;d++){var c=e[d];o.push(p[c]),delete p[c]}o.push(p)}else o=i;return r.apply(this,o)}},makeKeywordArgs:function(e){return e.__keywords=!0,e},numArgs:l,suppressValue:function(e,t){return e=null!=e?e:"",!t||e instanceof u||(e=o.escape(e.toString())),e},ensureDefined:function(e,t,r){if(null==e)throw new o.TemplateError("attempted to output null or undefined value",t+1,r+1);return e},memberLookup:function(e,t){if(null!=e)return"function"==typeof e[t]?function(){for(var r=arguments.length,o=Array(r),n=0;n<r;n++)o[n]=arguments[n];return e[t].apply(e,o)}:e[t]},contextOrFrameLookup:function(e,t,r){var o=t.lookup(r);return void 0!==o?o:e.lookup(r)},callWrap:function(e,t,r,o){if(e){if("function"!=typeof e)throw Error("Unable to call `"+t+"`, which is not a function")}else throw Error("Unable to call `"+t+"`, which is undefined or falsey");return e.apply(r,o)},handleError:function(e,t,r){return e.lineno?e:new o.TemplateError(e,t,r)},isArray:o.isArray,keys:o.keys,SafeString:u,copySafeness:function(e,t){return e instanceof u?new u(t):t.toString()},markSafe:function(e){var t=typeof e;return"string"===t?new u(e):"function"!==t?e:function(t){var r=e.apply(this,arguments);return"string"==typeof r?new u(r):r}},asyncEach:function(e,t,r,n){if(o.isArray(e)){var i=e.length;o.asyncIter(e,function(e,o,n){switch(t){case 1:r(e,o,i,n);break;case 2:r(e[0],e[1],o,i,n);break;case 3:r(e[0],e[1],e[2],o,i,n);break;default:e.push(o,i,n),r.apply(this,e)}},n)}else o.asyncFor(e,function(e,t,o,n,i){r(e,t,o,n,i)},n)},asyncAll:function(e,t,r,n){var i,a,s=0;function l(e,t){s++,a[e]=t,s===i&&n(null,a.join(""))}if(o.isArray(e))if(a=Array(i=e.length),0===i)n(null,"");else for(var u=0;u<e.length;u++){var p=e[u];switch(t){case 1:r(p,u,i,l);break;case 2:r(p[0],p[1],u,i,l);break;case 3:r(p[0],p[1],p[2],u,i,l);break;default:p.push(u,i,l),r.apply(this,p)}}else{var d=o.keys(e||{});if(a=Array(i=d.length),0===i)n(null,"");else for(var c=0;c<d.length;c++){var h=d[c];r(h,e[h],c,i,l)}}},inOperator:o.inOperator,fromIterator:function(e){return"object"!=typeof e||null===e||o.isArray(e)?e:i&&Symbol.iterator in e?n(e):e}}},51073,(e,t,r)=>{"use strict";function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var n=e.r(19195),i=e.r(27169),a=e.r(71349),s=e.r(28943).TemplateError,l=e.r(71841).Frame,u=e.r(63709).Obj,p={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},d=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e);var r=t.prototype;return r.init=function(e,t){this.templateName=e,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=t},r.fail=function(e,t,r){throw void 0!==t&&(t+=1),void 0!==r&&(r+=1),new s(e,t,r)},r._pushBuffer=function(){var e=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=e,this._emit("var "+this.buffer+' = "";'),e},r._popBuffer=function(){this.buffer=this.bufferStack.pop()},r._emit=function(e){this.codebuf.push(e)},r._emitLine=function(e){this._emit(e+"\n")},r._emitLines=function(){for(var e=this,t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];r.forEach(function(t){return e._emitLine(t)})},r._emitFuncBegin=function(e,t){this.buffer="output",this._scopeClosers="",this._emitLine("function "+t+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+e.lineno+";"),this._emitLine("var colno = "+e.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},r._emitFuncEnd=function(e){e||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},r._addScopeLevel=function(){this._scopeClosers+="})"},r._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},r._withScopedSyntax=function(e){var t=this._scopeClosers;this._scopeClosers="",e.call(this),this._closeScopeLevels(),this._scopeClosers=t},r._makeCallback=function(e){var t=this._tmpid();return"function("+t+(e?","+e:"")+") {\nif("+t+") { cb("+t+"); return; }"},r._tmpid=function(){return this.lastId++,"t_"+this.lastId},r._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},r._compileChildren=function(e,t){var r=this;e.children.forEach(function(e){r.compile(e,t)})},r._compileAggregate=function(e,t,r,o){var n=this;r&&this._emit(r),e.children.forEach(function(e,r){r>0&&n._emit(","),n.compile(e,t)}),o&&this._emit(o)},r._compileExpression=function(e,t){this.assertType(e,a.Literal,a.Symbol,a.Group,a.Array,a.Dict,a.FunCall,a.Caller,a.Filter,a.LookupVal,a.Compare,a.InlineIf,a.In,a.Is,a.And,a.Or,a.Not,a.Add,a.Concat,a.Sub,a.Mul,a.Div,a.FloorDiv,a.Mod,a.Pow,a.Neg,a.Pos,a.Compare,a.NodeList),this.compile(e,t)},r.assertType=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];r.some(function(t){return e instanceof t})||this.fail("assertType: invalid type: "+e.typename,e.lineno,e.colno)},r.compileCallExtension=function(e,t,r){var o=this,n=e.args,i=e.contentArgs,s="boolean"!=typeof e.autoescape||e.autoescape;if(r||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+e.extName+'")["'+e.prop+'"]('),this._emit("context"),(n||i)&&this._emit(","),n&&(n instanceof a.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),n.children.forEach(function(e,r){o._compileExpression(e,t),(r!==n.children.length-1||i.length)&&o._emit(",")})),i.length&&i.forEach(function(e,r){if(r>0&&o._emit(","),e){o._emitLine("function(cb) {"),o._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var n=o._pushBuffer();o._withScopedSyntax(function(){o.compile(e,t),o._emitLine("cb(null, "+n+");")}),o._popBuffer(),o._emitLine("return "+n+";"),o._emitLine("}")}else o._emit("null")}),r){var l=this._tmpid();this._emitLine(", "+this._makeCallback(l)),this._emitLine(this.buffer+" += runtime.suppressValue("+l+", "+s+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+s+" && env.opts.autoescape);\n")},r.compileCallExtensionAsync=function(e,t){this.compileCallExtension(e,t,!0)},r.compileNodeList=function(e,t){this._compileChildren(e,t)},r.compileLiteral=function(e){if("string"==typeof e.value){var t=e.value.replace(/\\/g,"\\\\");t=(t=(t=(t=(t=t.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+t+'"')}else null===e.value?this._emit("null"):this._emit(e.value.toString())},r.compileSymbol=function(e,t){var r=e.value,o=t.lookup(r);o?this._emit(o):this._emit('runtime.contextOrFrameLookup(context, frame, "'+r+'")')},r.compileGroup=function(e,t){this._compileAggregate(e,t,"(",")")},r.compileArray=function(e,t){this._compileAggregate(e,t,"[","]")},r.compileDict=function(e,t){this._compileAggregate(e,t,"{","}")},r.compilePair=function(e,t){var r=e.key,o=e.value;r instanceof a.Symbol?r=new a.Literal(r.lineno,r.colno,r.value):r instanceof a.Literal&&"string"==typeof r.value||this.fail("compilePair: Dict keys must be strings or names",r.lineno,r.colno),this.compile(r,t),this._emit(": "),this._compileExpression(o,t)},r.compileInlineIf=function(e,t){this._emit("("),this.compile(e.cond,t),this._emit("?"),this.compile(e.body,t),this._emit(":"),null!==e.else_?this.compile(e.else_,t):this._emit('""'),this._emit(")")},r.compileIn=function(e,t){this._emit("runtime.inOperator("),this.compile(e.left,t),this._emit(","),this.compile(e.right,t),this._emit(")")},r.compileIs=function(e,t){var r=e.right.name?e.right.name.value:e.right.value;this._emit('env.getTest("'+r+'").call(context, '),this.compile(e.left,t),e.right.args&&(this._emit(","),this.compile(e.right.args,t)),this._emit(") === true")},r._binOpEmitter=function(e,t,r){this.compile(e.left,t),this._emit(r),this.compile(e.right,t)},r.compileOr=function(e,t){return this._binOpEmitter(e,t," || ")},r.compileAnd=function(e,t){return this._binOpEmitter(e,t," && ")},r.compileAdd=function(e,t){return this._binOpEmitter(e,t," + ")},r.compileConcat=function(e,t){return this._binOpEmitter(e,t,' + "" + ')},r.compileSub=function(e,t){return this._binOpEmitter(e,t," - ")},r.compileMul=function(e,t){return this._binOpEmitter(e,t," * ")},r.compileDiv=function(e,t){return this._binOpEmitter(e,t," / ")},r.compileMod=function(e,t){return this._binOpEmitter(e,t," % ")},r.compileNot=function(e,t){this._emit("!"),this.compile(e.target,t)},r.compileFloorDiv=function(e,t){this._emit("Math.floor("),this.compile(e.left,t),this._emit(" / "),this.compile(e.right,t),this._emit(")")},r.compilePow=function(e,t){this._emit("Math.pow("),this.compile(e.left,t),this._emit(", "),this.compile(e.right,t),this._emit(")")},r.compileNeg=function(e,t){this._emit("-"),this.compile(e.target,t)},r.compilePos=function(e,t){this._emit("+"),this.compile(e.target,t)},r.compileCompare=function(e,t){var r=this;this.compile(e.expr,t),e.ops.forEach(function(e){r._emit(" "+p[e.type]+" "),r.compile(e.expr,t)})},r.compileLookupVal=function(e,t){this._emit("runtime.memberLookup(("),this._compileExpression(e.target,t),this._emit("),"),this._compileExpression(e.val,t),this._emit(")")},r._getNodeName=function(e){switch(e.typename){case"Symbol":return e.value;case"FunCall":return"the return value of ("+this._getNodeName(e.name)+")";case"LookupVal":return this._getNodeName(e.target)+'["'+this._getNodeName(e.val)+'"]';case"Literal":return e.value.toString();default:return"--expression--"}},r.compileFunCall=function(e,t){this._emit("(lineno = "+e.lineno+", colno = "+e.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(e.name,t),this._emit(', "'+this._getNodeName(e.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(e.args,t,"[","])"),this._emit(")")},r.compileFilter=function(e,t){var r=e.name;this.assertType(r,a.Symbol),this._emit('env.getFilter("'+r.value+'").call(context, '),this._compileAggregate(e.args,t),this._emit(")")},r.compileFilterAsync=function(e,t){var r=e.name,o=e.symbol.value;this.assertType(r,a.Symbol),t.set(o,o),this._emit('env.getFilter("'+r.value+'").call(context, '),this._compileAggregate(e.args,t),this._emitLine(", "+this._makeCallback(o)),this._addScopeLevel()},r.compileKeywordArgs=function(e,t){this._emit("runtime.makeKeywordArgs("),this.compileDict(e,t),this._emit(")")},r.compileSet=function(e,t){var r=this,o=[];e.targets.forEach(function(e){var n=e.value,i=t.lookup(n);null==i&&(i=r._tmpid(),r._emitLine("var "+i+";")),o.push(i)}),e.value?(this._emit(o.join(" = ")+" = "),this._compileExpression(e.value,t)):(this._emit(o.join(" = ")+" = "),this.compile(e.body,t)),this._emitLine(";"),e.targets.forEach(function(e,t){var n=o[t],i=e.value;r._emitLine('frame.set("'+i+'", '+n+", true);"),r._emitLine("if(frame.topLevel) {"),r._emitLine('context.setVariable("'+i+'", '+n+");"),r._emitLine("}"),"_"!==i.charAt(0)&&(r._emitLine("if(frame.topLevel) {"),r._emitLine('context.addExport("'+i+'", '+n+");"),r._emitLine("}"))})},r.compileSwitch=function(e,t){var r=this;this._emit("switch ("),this.compile(e.expr,t),this._emit(") {"),e.cases.forEach(function(e,o){r._emit("case "),r.compile(e.cond,t),r._emit(": "),r.compile(e.body,t),e.body.children.length&&r._emitLine("break;")}),e.default&&(this._emit("default:"),this.compile(e.default,t)),this._emit("}")},r.compileIf=function(e,t,r){var o=this;this._emit("if("),this._compileExpression(e.cond,t),this._emitLine(") {"),this._withScopedSyntax(function(){o.compile(e.body,t),r&&o._emit("cb()")}),e.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax(function(){o.compile(e.else_,t),r&&o._emit("cb()")})):r&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},r.compileIfAsync=function(e,t){this._emit("(function(cb) {"),this.compileIf(e,t,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},r._emitLoopBindings=function(e,t,r,o){var n=this;[{name:"index",val:r+" + 1"},{name:"index0",val:r},{name:"revindex",val:o+" - "+r},{name:"revindex0",val:o+" - "+r+" - 1"},{name:"first",val:r+" === 0"},{name:"last",val:r+" === "+o+" - 1"},{name:"length",val:o}].forEach(function(e){n._emitLine('frame.set("loop.'+e.name+'", '+e.val+");")})},r.compileFor=function(e,t){var r=this,o=this._tmpid(),n=this._tmpid(),i=this._tmpid();if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+i+" = "),this._compileExpression(e.arr,t),this._emitLine(";"),this._emit("if("+i+") {"),this._emitLine(i+" = runtime.fromIterator("+i+");"),e.name instanceof a.Array){this._emitLine("var "+o+";"),this._emitLine("if(runtime.isArray("+i+")) {"),this._emitLine("var "+n+" = "+i+".length;"),this._emitLine("for("+o+"=0; "+o+" < "+i+".length; "+o+"++) {"),e.name.children.forEach(function(n,a){var s=r._tmpid();r._emitLine("var "+s+" = "+i+"["+o+"]["+a+"];"),r._emitLine('frame.set("'+n+'", '+i+"["+o+"]["+a+"]);"),t.set(e.name.children[a].value,s)}),this._emitLoopBindings(e,i,o,n),this._withScopedSyntax(function(){r.compile(e.body,t)}),this._emitLine("}"),this._emitLine("} else {");var s=e.name.children,l=s[0],u=s[1],p=this._tmpid(),d=this._tmpid();t.set(l.value,p),t.set(u.value,d),this._emitLine(o+" = -1;"),this._emitLine("var "+n+" = runtime.keys("+i+").length;"),this._emitLine("for(var "+p+" in "+i+") {"),this._emitLine(o+"++;"),this._emitLine("var "+d+" = "+i+"["+p+"];"),this._emitLine('frame.set("'+l.value+'", '+p+");"),this._emitLine('frame.set("'+u.value+'", '+d+");"),this._emitLoopBindings(e,i,o,n),this._withScopedSyntax(function(){r.compile(e.body,t)}),this._emitLine("}"),this._emitLine("}")}else{var c=this._tmpid();t.set(e.name.value,c),this._emitLine("var "+n+" = "+i+".length;"),this._emitLine("for(var "+o+"=0; "+o+" < "+i+".length; "+o+"++) {"),this._emitLine("var "+c+" = "+i+"["+o+"];"),this._emitLine('frame.set("'+e.name.value+'", '+c+");"),this._emitLoopBindings(e,i,o,n),this._withScopedSyntax(function(){r.compile(e.body,t)}),this._emitLine("}")}this._emitLine("}"),e.else_&&(this._emitLine("if (!"+n+") {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},r._compileAsyncLoop=function(e,t,r){var o=this,n=this._tmpid(),i=this._tmpid(),s=this._tmpid(),l=r?"asyncAll":"asyncEach";if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+s+" = runtime.fromIterator("),this._compileExpression(e.arr,t),this._emitLine(");"),e.name instanceof a.Array){var u=e.name.children.length;this._emit("runtime."+l+"("+s+", "+u+", function("),e.name.children.forEach(function(e){o._emit(e.value+",")}),this._emit(n+","+i+",next) {"),e.name.children.forEach(function(e){var r=e.value;t.set(r,r),o._emitLine('frame.set("'+r+'", '+r+");")})}else{var p=e.name.value;this._emitLine("runtime."+l+"("+s+", 1, function("+p+", "+n+", "+i+",next) {"),this._emitLine('frame.set("'+p+'", '+p+");"),t.set(p,p)}this._emitLoopBindings(e,s,n,i),this._withScopedSyntax(function(){var i;r&&(i=o._pushBuffer()),o.compile(e.body,t),o._emitLine("next("+n+(i?","+i:"")+");"),r&&o._popBuffer()});var d=this._tmpid();this._emitLine("}, "+this._makeCallback(d)),this._addScopeLevel(),r&&this._emitLine(this.buffer+" += "+d+";"),e.else_&&(this._emitLine("if (!"+s+".length) {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},r.compileAsyncEach=function(e,t){this._compileAsyncLoop(e,t)},r.compileAsyncAll=function(e,t){this._compileAsyncLoop(e,t,!0)},r._compileMacro=function(e,t){var r,o=this,n=[],i=null,s="macro_"+this._tmpid(),u=void 0!==t;e.args.children.forEach(function(t,r){r===e.args.children.length-1&&t instanceof a.Dict?i=t:(o.assertType(t,a.Symbol),n.push(t))});var p=[].concat(n.map(function(e){return"l_"+e.value}),["kwargs"]),d=n.map(function(e){return'"'+e.value+'"'}),c=(i&&i.children||[]).map(function(e){return'"'+e.key.value+'"'});r=u?t.push(!0):new l,this._emitLines("var "+s+" = runtime.makeMacro(","["+d.join(", ")+"], ","["+c.join(", ")+"], ","function ("+p.join(", ")+") {","var callerFrame = frame;","frame = "+(u?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),n.forEach(function(e){o._emitLine('frame.set("'+e.value+'", l_'+e.value+");"),r.set(e.value,"l_"+e.value)}),i&&i.children.forEach(function(e){var t=e.key.value;o._emit('frame.set("'+t+'", '),o._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+t+'")'),o._emit(' ? kwargs["'+t+'"] : '),o._compileExpression(e.value,r),o._emit(");")});var h=this._pushBuffer();return this._withScopedSyntax(function(){o.compile(e.body,r)}),this._emitLine("frame = "+(u?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+h+");"),this._emitLine("});"),this._popBuffer(),s},r.compileMacro=function(e,t){var r=this._compileMacro(e),o=e.name.value;t.set(o,r),t.parent?this._emitLine('frame.set("'+o+'", '+r+");"):("_"!==e.name.value.charAt(0)&&this._emitLine('context.addExport("'+o+'");'),this._emitLine('context.setVariable("'+o+'", '+r+");"))},r.compileCaller=function(e,t){this._emit("(function (){");var r=this._compileMacro(e,t);this._emit("return "+r+";})()")},r._compileGetTemplate=function(e,t,r,o){var n=this._tmpid(),i=this._templateName(),a=this._makeCallback(n);return this._emit("env.getTemplate("),this._compileExpression(e.template,t),this._emitLine(", "+(r?"true":"false")+", "+i+", "+(o?"true":"false")+", "+a),n},r.compileImport=function(e,t){var r=e.target.value,o=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(o+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(o)),this._addScopeLevel(),t.set(r,o),t.parent?this._emitLine('frame.set("'+r+'", '+o+");"):this._emitLine('context.setVariable("'+r+'", '+o+");")},r.compileFromImport=function(e,t){var r=this,o=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(o+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(o)),this._addScopeLevel(),e.names.children.forEach(function(e){var n,i,s=r._tmpid();e instanceof a.Pair?(n=e.key.value,i=e.value.value):i=n=e.value,r._emitLine("if(Object.prototype.hasOwnProperty.call("+o+', "'+n+'")) {'),r._emitLine("var "+s+" = "+o+"."+n+";"),r._emitLine("} else {"),r._emitLine("cb(new Error(\"cannot import '"+n+"'\")); return;"),r._emitLine("}"),t.set(i,s),t.parent?r._emitLine('frame.set("'+i+'", '+s+");"):r._emitLine('context.setVariable("'+i+'", '+s+");")})},r.compileBlock=function(e){var t=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+e.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(t)),this._emitLine(this.buffer+" += "+t+";"),this._addScopeLevel()},r.compileSuper=function(e,t){var r=e.blockName.value,o=e.symbol.value,n=this._makeCallback(o);this._emitLine('context.getSuper(env, "'+r+'", b_'+r+", frame, runtime, "+n),this._emitLine(o+" = runtime.markSafe("+o+");"),this._addScopeLevel(),t.set(o,o)},r.compileExtends=function(e,t){var r=this._tmpid(),o=this._compileGetTemplate(e,t,!0,!1);this._emitLine("parentTemplate = "+o),this._emitLine("for(var "+r+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+r+", parentTemplate.blocks["+r+"]);"),this._emitLine("}"),this._addScopeLevel()},r.compileInclude=function(e,t){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var r=this._compileGetTemplate(e,t,!1,e.ignoreMissing);this._emitLine("callback(null,"+r+");});"),this._emitLine("});");var o=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(o)),this._emitLine("callback(null,"+o+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},r.compileTemplateData=function(e,t){this.compileLiteral(e,t)},r.compileCapture=function(e,t){var r=this,o=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax(function(){r.compile(e.body,t)}),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=o},r.compileOutput=function(e,t){var r=this;e.children.forEach(function(o){o instanceof a.TemplateData?o.value&&(r._emit(r.buffer+" += "),r.compileLiteral(o,t),r._emitLine(";")):(r._emit(r.buffer+" += runtime.suppressValue("),r.throwOnUndefined&&r._emit("runtime.ensureDefined("),r.compile(o,t),r.throwOnUndefined&&r._emit(","+e.lineno+","+e.colno+")"),r._emit(", env.opts.autoescape);\n"))})},r.compileRoot=function(e,t){var r=this;t&&this.fail("compileRoot: root node can't have frame"),t=new l,this._emitFuncBegin(e,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(e,t),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var o=[],n=e.findAll(a.Block);n.forEach(function(e,t){var n=e.name.value;if(-1!==o.indexOf(n))throw Error('Block "'+n+'" defined more than once.');o.push(n),r._emitFuncBegin(e,"b_"+n);var i=new l;r._emitLine("var frame = frame.push(true);"),r.compile(e.body,i),r._emitFuncEnd()}),this._emitLine("return {"),n.forEach(function(e,t){var o="b_"+e.name.value;r._emitLine(o+": "+o+",")}),this._emitLine("root: root\n};")},r.compile=function(e,t){var r=this["compile"+e.typename];r?r.call(this,e,t):this.fail("compile: Cannot compile node: "+e.typename,e.lineno,e.colno)},r.getCode=function(){return this.codebuf.join("")},t}(u);t.exports={compile:function(e,t,r,o,a){void 0===a&&(a={});var s=new d(o,a.throwOnUndefined),l=(r||[]).map(function(e){return e.preprocess}).filter(function(e){return!!e}).reduce(function(e,t){return t(e)},e);return s.compile(i.transform(n.parse(l,r,a),t,o)),s.getCode()},Compiler:d}},35466,(e,t,r)=>{"use strict";var o=e.r(28943),n=e.r(71841),i=t.exports={};function a(e,t){return null==e||!1===e?t:e}function s(e){var t=(e=a(e,"")).toLowerCase();return n.copySafeness(e,t.charAt(0).toUpperCase()+t.slice(1))}function l(e){if(o.isString(e))return e.split("");if(o.isObject(e))return o._entries(e||{}).map(function(e){return{key:e[0],value:e[1]}});if(o.isArray(e))return e;throw new o.TemplateError("list filter: type not iterable")}function u(e){return function(t,r,n){void 0===r&&(r="truthy");var i=this,a=i.env.getTest(r);return o.toArray(t).filter(function(t){return a.call(i,t,n)===e})}}function p(e){return n.copySafeness(e,e.replace(/^\s*|\s*$/g,""))}i.abs=Math.abs,i.batch=function(e,t,r){var o,n=[],i=[];for(o=0;o<e.length;o++)o%t==0&&i.length&&(n.push(i),i=[]),i.push(e[o]);if(i.length){if(r)for(o=i.length;o<t;o++)i.push(r);n.push(i)}return n},i.capitalize=s,i.center=function(e,t){if(e=a(e,""),t=t||80,e.length>=t)return e;var r=t-e.length,i=o.repeat(" ",r/2-r%2),s=o.repeat(" ",r/2);return n.copySafeness(e,i+e+s)},i.default=function(e,t,r){return r?e||t:void 0!==e?e:t},i.dictsort=function(e,t,r){if(!o.isObject(e))throw new o.TemplateError("dictsort filter: val must be an object");var n,i=[];for(var a in e)i.push([a,e[a]]);if(void 0===r||"key"===r)n=0;else if("value"===r)n=1;else throw new o.TemplateError("dictsort filter: You can only sort by either key or value");return i.sort(function(e,r){var i=e[n],a=r[n];return!t&&(o.isString(i)&&(i=i.toUpperCase()),o.isString(a)&&(a=a.toUpperCase())),i>a?1:i===a?0:-1}),i},i.dump=function(e,t){return JSON.stringify(e,null,t)},i.escape=function(e){return e instanceof n.SafeString?e:(e=null==e?"":e,n.markSafe(o.escape(e.toString())))},i.safe=function(e){return e instanceof n.SafeString?e:(e=null==e?"":e,n.markSafe(e.toString()))},i.first=function(e){return e[0]},i.forceescape=function(e){return e=null==e?"":e,n.markSafe(o.escape(e.toString()))},i.groupby=function(e,t){return o.groupBy(e,t,this.env.opts.throwOnUndefined)},i.indent=function(e,t,r){if(""===(e=a(e,"")))return"";t=t||4;var i=e.split("\n"),s=o.repeat(" ",t),l=i.map(function(e,t){return 0!==t||r?""+s+e:e}).join("\n");return n.copySafeness(e,l)},i.join=function(e,t,r){return t=t||"",r&&(e=o.map(e,function(e){return e[r]})),e.join(t)},i.last=function(e){return e[e.length-1]},i.length=function(e){var t=a(e,"");return void 0!==t?"function"==typeof Map&&t instanceof Map||"function"==typeof Set&&t instanceof Set?t.size:!o.isObject(t)||t instanceof n.SafeString?t.length:o.keys(t).length:0},i.list=l,i.lower=function(e){return(e=a(e,"")).toLowerCase()},i.nl2br=function(e){return null==e?"":n.copySafeness(e,e.replace(/\r\n|\n/g,"<br />\n"))},i.random=function(e){return e[Math.floor(Math.random()*e.length)]},i.reject=u(!1),i.rejectattr=function(e,t){return e.filter(function(e){return!e[t]})},i.select=u(!0),i.selectattr=function(e,t){return e.filter(function(e){return!!e[t]})},i.replace=function(e,t,r,o){var i=e;if(t instanceof RegExp)return e.replace(t,r);void 0===o&&(o=-1);var a="";if("number"==typeof t)t=""+t;else if("string"!=typeof t)return e;if("number"==typeof e&&(e=""+e),"string"!=typeof e&&!(e instanceof n.SafeString))return e;if(""===t)return a=r+e.split("").join(r)+r,n.copySafeness(e,a);var s=e.indexOf(t);if(0===o||-1===s)return e;for(var l=0,u=0;s>-1&&(-1===o||u<o);)a+=e.substring(l,s)+r,l=s+t.length,u++,s=e.indexOf(t,l);return l<e.length&&(a+=e.substring(l)),n.copySafeness(i,a)},i.reverse=function(e){var t;return((t=o.isString(e)?l(e):o.map(e,function(e){return e})).reverse(),o.isString(e))?n.copySafeness(e,t.join("")):t},i.round=function(e,t,r){var o=Math.pow(10,t=t||0);return("ceil"===r?Math.ceil:"floor"===r?Math.floor:Math.round)(e*o)/o},i.slice=function(e,t,r){for(var o=Math.floor(e.length/t),n=e.length%t,i=[],a=0,s=0;s<t;s++){var l=a+s*o;s<n&&a++;var u=a+(s+1)*o,p=e.slice(l,u);r&&s>=n&&p.push(r),i.push(p)}return i},i.sum=function(e,t,r){return void 0===r&&(r=0),t&&(e=o.map(e,function(e){return e[t]})),r+e.reduce(function(e,t){return e+t},0)},i.sort=n.makeMacro(["value","reverse","case_sensitive","attribute"],[],function(e,t,r,n){var i=this,a=o.map(e,function(e){return e}),s=o.getAttrGetter(n);return a.sort(function(e,a){var l=n?s(e):e,u=n?s(a):a;if(i.env.opts.throwOnUndefined&&n&&(void 0===l||void 0===u))throw TypeError('sort: attribute "'+n+'" resolved to undefined');return(!r&&o.isString(l)&&o.isString(u)&&(l=l.toLowerCase(),u=u.toLowerCase()),l<u)?t?1:-1:l>u?t?-1:1:0}),a}),i.string=function(e){return n.copySafeness(e,e)},i.striptags=function(e,t){var r=p((e=a(e,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,"")),o="";return o=t?r.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):r.replace(/\s+/gi," "),n.copySafeness(e,o)},i.title=function(e){var t=(e=a(e,"")).split(" ").map(function(e){return s(e)});return n.copySafeness(e,t.join(" "))},i.trim=p,i.truncate=function(e,t,r,o){var i=e;if(e=a(e,""),t=t||255,e.length<=t)return e;if(r)e=e.substring(0,t);else{var s=e.lastIndexOf(" ",t);-1===s&&(s=t),e=e.substring(0,s)}return e+=null!=o?o:"...",n.copySafeness(i,e)},i.upper=function(e){return(e=a(e,"")).toUpperCase()},i.urlencode=function(e){var t=encodeURIComponent;return o.isString(e)?t(e):(o.isArray(e)?e:o._entries(e)).map(function(e){var r=e[0],o=e[1];return t(r)+"="+t(o)}).join("&")};var d=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,c=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,h=/^https?:\/\/.*$/,m=/^www\./,g=/\.(?:org|net|com)(?:\:|\/|$)/;i.urlize=function(e,t,r){(o=t)!=o&&(t=1/0);var o,n=!0===r?' rel="nofollow"':"";return e.split(/(\s+)/).filter(function(e){return e&&e.length}).map(function(e){var r=e.match(d),o=r?r[1]:e,i=o.substr(0,t);return h.test(o)?'<a href="'+o+'"'+n+">"+i+"</a>":m.test(o)?'<a href="http://'+o+'"'+n+">"+i+"</a>":c.test(o)?'<a href="mailto:'+o+'">'+o+"</a>":g.test(o)?'<a href="http://'+o+'"'+n+">"+i+"</a>":e}).join("")},i.wordcount=function(e){var t=(e=a(e,""))?e.match(/\w+/g):null;return t?t.length:null},i.float=function(e,t){var r=parseFloat(e);return r!=r?t:r},i.int=n.makeMacro(["value","default","base"],[],function(e,t,r){void 0===r&&(r=10);var o=parseInt(e,r);return o!=o?t:o}),i.d=i.default,i.e=i.escape},73446,(e,t,r)=>{"use strict";function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var n=e.r(14747);t.exports=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e);var r=t.prototype;return r.resolve=function(e,t){return n.resolve(n.dirname(e),t)},r.isRelative=function(e){return 0===e.indexOf("./")||0===e.indexOf("../")},t}(e.r(63709).EmitterObj)},91346,(e,t,r)=>{"use strict";function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}t.exports={PrecompiledLoader:function(e){function t(t){var r;return(r=e.call(this)||this).precompiled=t||{},r}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e),t.prototype.getSource=function(e){return this.precompiled[e]?{src:{type:"code",obj:this.precompiled[e]},path:e}:null},t}(e.r(73446))}},70720,(e,t,r)=>{"use strict";let o=e.r(14747),n="[^\\\\/]",i="[^/]",a="(?:\\/|$)",s="(?:^|\\/)",l=`\\.{1,2}${a}`,u=`(?!${s}${l})`,p=`(?!\\.{0,1}${a})`,d=`(?!${l})`,c=`${i}*?`,h={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:i,END_ANCHOR:a,DOTS_SLASH:l,NO_DOT:"(?!\\.)",NO_DOTS:u,NO_DOT_SLASH:p,NO_DOTS_SLASH:d,QMARK_NO_DOT:"[^.\\/]",STAR:c,START_ANCHOR:s},m={...h,SLASH_LITERAL:"[\\\\/]",QMARK:n,STAR:`${n}*?`,DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};t.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:o.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?m:h}},60011,(e,t,r)=>{"use strict";let o=e.r(14747),n="win32"===process.platform,{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:a,REGEX_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_GLOBAL:l}=e.r(70720);r.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r.hasRegexChars=e=>s.test(e),r.isRegexChar=e=>1===e.length&&r.hasRegexChars(e),r.escapeRegex=e=>e.replace(l,"\\$1"),r.toPosixSlashes=e=>e.replace(i,"/"),r.removeBackslashes=e=>e.replace(a,e=>"\\"===e?"":e),r.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return 3===e.length&&!!(e[0]>=9)||8===e[0]&&!!(e[1]>=10)},r.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===n||"\\"===o.sep,r.escapeLast=(e,t,o)=>{let n=e.lastIndexOf(t,o);return -1===n?e:"\\"===e[n-1]?r.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`},r.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},r.wrapOutput=(e,t={},r={})=>{let o=r.contains?"":"^",n=r.contains?"":"$",i=`${o}(?:${e})${n}`;return!0===t.negated&&(i=`(?:^(?!${i}).*$)`),i}},53463,(e,t,r)=>{"use strict";let o=e.r(60011),{CHAR_ASTERISK:n,CHAR_AT:i,CHAR_BACKWARD_SLASH:a,CHAR_COMMA:s,CHAR_DOT:l,CHAR_EXCLAMATION_MARK:u,CHAR_FORWARD_SLASH:p,CHAR_LEFT_CURLY_BRACE:d,CHAR_LEFT_PARENTHESES:c,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_PLUS:m,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:f,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:_}=e.r(70720),v=e=>e===p||e===a,b=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};t.exports=(e,t)=>{let r,w,D=t||{},C=e.length-1,E=!0===D.parts||!0===D.scanToEnd,k=[],x=[],T=[],S=e,R=-1,j=0,F=0,P=!1,O=!1,I=!1,A=!1,N=!1,B=!1,M=!1,U=!1,L=!1,q=!1,$=0,z={value:"",depth:0,isGlob:!1},W=()=>R>=C,V=()=>S.charCodeAt(R+1),K=()=>(r=w,S.charCodeAt(++R));for(;R<C;){let e;if((w=K())===a){M=z.backslashes=!0,(w=K())===d&&(B=!0);continue}if(!0===B||w===d){for($++;!0!==W()&&(w=K());){if(w===a){M=z.backslashes=!0,K();continue}if(w===d){$++;continue}if(!0!==B&&w===l&&(w=K())===l||!0!==B&&w===s){if(P=z.isBrace=!0,I=z.isGlob=!0,q=!0,!0===E)continue;break}if(w===f&&0==--$){B=!1,P=z.isBrace=!0,q=!0;break}}if(!0===E)continue;break}if(w===p){if(k.push(R),x.push(z),z={value:"",depth:0,isGlob:!1},!0===q)continue;if(r===l&&R===j+1){j+=2;continue}F=R+1;continue}if(!0!==D.noext&&!0==(w===m||w===i||w===n||w===g||w===u)&&V()===c){if(I=z.isGlob=!0,A=z.isExtglob=!0,q=!0,w===u&&R===j&&(L=!0),!0===E){for(;!0!==W()&&(w=K());){if(w===a){M=z.backslashes=!0,w=K();continue}if(w===y){I=z.isGlob=!0,q=!0;break}}continue}break}if(w===n){if(r===n&&(N=z.isGlobstar=!0),I=z.isGlob=!0,q=!0,!0===E)continue;break}if(w===g){if(I=z.isGlob=!0,q=!0,!0===E)continue;break}if(w===h){for(;!0!==W()&&(e=K());){if(e===a){M=z.backslashes=!0,K();continue}if(e===_){O=z.isBracket=!0,I=z.isGlob=!0,q=!0;break}}if(!0===E)continue;break}if(!0!==D.nonegate&&w===u&&R===j){U=z.negated=!0,j++;continue}if(!0!==D.noparen&&w===c){if(I=z.isGlob=!0,!0===E){for(;!0!==W()&&(w=K());){if(w===c){M=z.backslashes=!0,w=K();continue}if(w===y){q=!0;break}}continue}break}if(!0===I){if(q=!0,!0===E)continue;break}}!0===D.noext&&(A=!1,I=!1);let G=S,H="",Z="";j>0&&(H=S.slice(0,j),S=S.slice(j),F-=j),G&&!0===I&&F>0?(G=S.slice(0,F),Z=S.slice(F)):!0===I?(G="",Z=S):G=S,G&&""!==G&&"/"!==G&&G!==S&&v(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),!0===D.unescape&&(Z&&(Z=o.removeBackslashes(Z)),G&&!0===M&&(G=o.removeBackslashes(G)));let J={prefix:H,input:e,start:j,base:G,glob:Z,isBrace:P,isBracket:O,isGlob:I,isExtglob:A,isGlobstar:N,negated:U,negatedExtglob:L};if(!0===D.tokens&&(J.maxDepth=0,v(w)||x.push(z),J.tokens=x),!0===D.parts||!0===D.tokens){let t;for(let r=0;r<k.length;r++){let o=t?t+1:j,n=k[r],i=e.slice(o,n);D.tokens&&(0===r&&0!==j?(x[r].isPrefix=!0,x[r].value=H):x[r].value=i,b(x[r]),J.maxDepth+=x[r].depth),(0!==r||""!==i)&&T.push(i),t=n}if(t&&t+1<e.length){let r=e.slice(t+1);T.push(r),D.tokens&&(x[x.length-1].value=r,b(x[x.length-1]),J.maxDepth+=x[x.length-1].depth)}J.slashes=k,J.parts=T}return J}},84041,(e,t,r)=>{"use strict";let o=e.r(70720),n=e.r(60011),{MAX_LENGTH:i,POSIX_REGEX_SOURCE:a,REGEX_NON_SPECIAL_CHARS:s,REGEX_SPECIAL_CHARS_BACKREF:l,REPLACEMENTS:u}=o,p=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>n.escapeRegex(e)).join("..")}return r},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,c=(e,t)=>{let r;if("string"!=typeof e)throw TypeError("Expected a string");e=u[e]||e;let h={...t},m="number"==typeof h.maxLength?Math.min(i,h.maxLength):i,g=e.length;if(g>m)throw SyntaxError(`Input length: ${g}, exceeds maximum allowed length: ${m}`);let f={type:"bos",value:"",output:h.prepend||""},y=[f],_=h.capture?"":"?:",v=n.isWindows(t),b=o.globChars(v),w=o.extglobChars(b),{DOT_LITERAL:D,PLUS_LITERAL:C,SLASH_LITERAL:E,ONE_CHAR:k,DOTS_SLASH:x,NO_DOT:T,NO_DOT_SLASH:S,NO_DOTS_SLASH:R,QMARK:j,QMARK_NO_DOT:F,STAR:P,START_ANCHOR:O}=b,I=e=>`(${_}(?:(?!${O}${e.dot?x:D}).)*?)`,A=h.dot?"":T,N=h.dot?j:F,B=!0===h.bash?I(h):P;h.capture&&(B=`(${B})`),"boolean"==typeof h.noext&&(h.noextglob=h.noext);let M={input:e,index:-1,start:0,dot:!0===h.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:y};g=(e=n.removePrefix(e,M)).length;let U=[],L=[],q=[],$=f,z=()=>M.index===g-1,W=M.peek=(t=1)=>e[M.index+t],V=M.advance=()=>e[++M.index]||"",K=()=>e.slice(M.index+1),G=(e="",t=0)=>{M.consumed+=e,M.index+=t},H=e=>{M.output+=null!=e.output?e.output:e.value,G(e.value)},Z=()=>{let e=1;for(;"!"===W()&&("("!==W(2)||"?"===W(3));)V(),M.start++,e++;return e%2!=0&&(M.negated=!0,M.start++,!0)},J=e=>{M[e]++,q.push(e)},Y=e=>{M[e]--,q.pop()},Q=e=>{if("globstar"===$.type){let t=M.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||U.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(M.output=M.output.slice(0,-$.output.length),$.type="star",$.value="*",$.output=B,M.output+=$.output)}if(U.length&&"paren"!==e.type&&(U[U.length-1].inner+=e.value),(e.value||e.output)&&H(e),$&&"text"===$.type&&"text"===e.type){$.value+=e.value,$.output=($.output||"")+e.value;return}e.prev=$,y.push(e),$=e},X=(e,t)=>{let r={...w[t],conditions:1,inner:""};r.prev=$,r.parens=M.parens,r.output=M.output;let o=(h.capture?"(":"")+r.open;J("parens"),Q({type:e,value:t,output:M.output?"":k}),Q({type:"paren",extglob:!0,value:V(),output:o}),U.push(r)},ee=e=>{let o,n=e.close+(h.capture?")":"");if("negate"===e.type){let r=B;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(r=I(h)),(r!==B||z()||/^\)+$/.test(K()))&&(n=e.close=`)$))${r}`),e.inner.includes("*")&&(o=K())&&/^\.[^\\/.]+$/.test(o)){let i=c(o,{...t,fastpaths:!1}).output;n=e.close=`)${i})${r})`}"bos"===e.prev.type&&(M.negatedExtglob=!0)}Q({type:"paren",extglob:!0,value:r,output:n}),Y("parens")};if(!1!==h.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let r=!1,o=e.replace(l,(e,t,o,n,i,a)=>"\\"===n?(r=!0,e):"?"===n?t?t+n+(i?j.repeat(i.length):""):0===a?N+(i?j.repeat(i.length):""):j.repeat(o.length):"."===n?D.repeat(o.length):"*"===n?t?t+n+(i?B:""):B:t?e:`\\${e}`);return(!0===r&&(o=!0===h.unescape?o.replace(/\\/g,""):o.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),o===e&&!0===h.contains)?M.output=e:M.output=n.wrapOutput(o,M,t),M}for(;!z();){if("\0"===(r=V()))continue;if("\\"===r){let e=W();if("/"===e&&!0!==h.bash||"."===e||";"===e)continue;if(!e){Q({type:"text",value:r+="\\"});continue}let t=/^\\+/.exec(K()),o=0;if(t&&t[0].length>2&&(o=t[0].length,M.index+=o,o%2!=0&&(r+="\\")),!0===h.unescape?r=V():r+=V(),0===M.brackets){Q({type:"text",value:r});continue}}if(M.brackets>0&&("]"!==r||"["===$.value||"[^"===$.value)){if(!1!==h.posix&&":"===r){let e=$.value.slice(1);if(e.includes("[")&&($.posix=!0,e.includes(":"))){let e=$.value.lastIndexOf("["),t=$.value.slice(0,e),r=a[$.value.slice(e+2)];if(r){$.value=t+r,M.backtrack=!0,V(),f.output||1!==y.indexOf($)||(f.output=k);continue}}}("["===r&&":"!==W()||"-"===r&&"]"===W())&&(r=`\\${r}`),"]"===r&&("["===$.value||"[^"===$.value)&&(r=`\\${r}`),!0===h.posix&&"!"===r&&"["===$.value&&(r="^"),$.value+=r,H({value:r});continue}if(1===M.quotes&&'"'!==r){r=n.escapeRegex(r),$.value+=r,H({value:r});continue}if('"'===r){M.quotes=+(1!==M.quotes),!0===h.keepQuotes&&Q({type:"text",value:r});continue}if("("===r){J("parens"),Q({type:"paren",value:r});continue}if(")"===r){if(0===M.parens&&!0===h.strictBrackets)throw SyntaxError(d("opening","("));let e=U[U.length-1];if(e&&M.parens===e.parens+1){ee(U.pop());continue}Q({type:"paren",value:r,output:M.parens?")":"\\)"}),Y("parens");continue}if("["===r){if(!0!==h.nobracket&&K().includes("]"))J("brackets");else{if(!0!==h.nobracket&&!0===h.strictBrackets)throw SyntaxError(d("closing","]"));r=`\\${r}`}Q({type:"bracket",value:r});continue}if("]"===r){if(!0===h.nobracket||$&&"bracket"===$.type&&1===$.value.length){Q({type:"text",value:r,output:`\\${r}`});continue}if(0===M.brackets){if(!0===h.strictBrackets)throw SyntaxError(d("opening","["));Q({type:"text",value:r,output:`\\${r}`});continue}Y("brackets");let e=$.value.slice(1);if(!0===$.posix||"^"!==e[0]||e.includes("/")||(r=`/${r}`),$.value+=r,H({value:r}),!1===h.literalBrackets||n.hasRegexChars(e))continue;let t=n.escapeRegex($.value);if(M.output=M.output.slice(0,-$.value.length),!0===h.literalBrackets){M.output+=t,$.value=t;continue}$.value=`(${_}${t}|${$.value})`,M.output+=$.value;continue}if("{"===r&&!0!==h.nobrace){J("braces");let e={type:"brace",value:r,output:"(",outputIndex:M.output.length,tokensIndex:M.tokens.length};L.push(e),Q(e);continue}if("}"===r){let e=L[L.length-1];if(!0===h.nobrace||!e){Q({type:"text",value:r,output:r});continue}let t=")";if(!0===e.dots){let e=y.slice(),r=[];for(let t=e.length-1;t>=0&&(y.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&r.unshift(e[t].value);t=p(r,h),M.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){let o=M.output.slice(0,e.outputIndex),n=M.tokens.slice(e.tokensIndex);for(let i of(e.value=e.output="\\{",r=t="\\}",M.output=o,n))M.output+=i.output||i.value}Q({type:"brace",value:r,output:t}),Y("braces"),L.pop();continue}if("|"===r){U.length>0&&U[U.length-1].conditions++,Q({type:"text",value:r});continue}if(","===r){let e=r,t=L[L.length-1];t&&"braces"===q[q.length-1]&&(t.comma=!0,e="|"),Q({type:"comma",value:r,output:e});continue}if("/"===r){if("dot"===$.type&&M.index===M.start+1){M.start=M.index+1,M.consumed="",M.output="",y.pop(),$=f;continue}Q({type:"slash",value:r,output:E});continue}if("."===r){if(M.braces>0&&"dot"===$.type){"."===$.value&&($.output=D);let e=L[L.length-1];$.type="dots",$.output+=r,$.value+=r,e.dots=!0;continue}if(M.braces+M.parens===0&&"bos"!==$.type&&"slash"!==$.type){Q({type:"text",value:r,output:D});continue}Q({type:"dot",value:r,output:D});continue}if("?"===r){if(!($&&"("===$.value)&&!0!==h.noextglob&&"("===W()&&"?"!==W(2)){X("qmark",r);continue}if($&&"paren"===$.type){let e=W(),t=r;if("<"===e&&!n.supportsLookbehinds())throw Error("Node.js v10 or higher is required for regex lookbehinds");("("!==$.value||/[!=<:]/.test(e))&&("<"!==e||/<([!=]|\w+>)/.test(K()))||(t=`\\${r}`),Q({type:"text",value:r,output:t});continue}if(!0!==h.dot&&("slash"===$.type||"bos"===$.type)){Q({type:"qmark",value:r,output:F});continue}Q({type:"qmark",value:r,output:j});continue}if("!"===r){if(!0!==h.noextglob&&"("===W()&&("?"!==W(2)||!/[!=<:]/.test(W(3)))){X("negate",r);continue}if(!0!==h.nonegate&&0===M.index){Z();continue}}if("+"===r){if(!0!==h.noextglob&&"("===W()&&"?"!==W(2)){X("plus",r);continue}if($&&"("===$.value||!1===h.regex){Q({type:"plus",value:r,output:C});continue}if($&&("bracket"===$.type||"paren"===$.type||"brace"===$.type)||M.parens>0){Q({type:"plus",value:r});continue}Q({type:"plus",value:C});continue}if("@"===r){if(!0!==h.noextglob&&"("===W()&&"?"!==W(2)){Q({type:"at",extglob:!0,value:r,output:""});continue}Q({type:"text",value:r});continue}if("*"!==r){("$"===r||"^"===r)&&(r=`\\${r}`);let e=s.exec(K());e&&(r+=e[0],M.index+=e[0].length),Q({type:"text",value:r});continue}if($&&("globstar"===$.type||!0===$.star)){$.type="star",$.star=!0,$.value+=r,$.output=B,M.backtrack=!0,M.globstar=!0,G(r);continue}let t=K();if(!0!==h.noextglob&&/^\([^?]/.test(t)){X("star",r);continue}if("star"===$.type){if(!0===h.noglobstar){G(r);continue}let o=$.prev,n=o.prev,i="slash"===o.type||"bos"===o.type,a=n&&("star"===n.type||"globstar"===n.type);if(!0===h.bash&&(!i||t[0]&&"/"!==t[0])){Q({type:"star",value:r,output:""});continue}let s=M.braces>0&&("comma"===o.type||"brace"===o.type),l=U.length&&("pipe"===o.type||"paren"===o.type);if(!i&&"paren"!==o.type&&!s&&!l){Q({type:"star",value:r,output:""});continue}for(;"/**"===t.slice(0,3);){let r=e[M.index+4];if(r&&"/"!==r)break;t=t.slice(3),G("/**",3)}if("bos"===o.type&&z()){$.type="globstar",$.value+=r,$.output=I(h),M.output=$.output,M.globstar=!0,G(r);continue}if("slash"===o.type&&"bos"!==o.prev.type&&!a&&z()){M.output=M.output.slice(0,-(o.output+$.output).length),o.output=`(?:${o.output}`,$.type="globstar",$.output=I(h)+(h.strictSlashes?")":"|$)"),$.value+=r,M.globstar=!0,M.output+=o.output+$.output,G(r);continue}if("slash"===o.type&&"bos"!==o.prev.type&&"/"===t[0]){let e=void 0!==t[1]?"|$":"";M.output=M.output.slice(0,-(o.output+$.output).length),o.output=`(?:${o.output}`,$.type="globstar",$.output=`${I(h)}${E}|${E}${e})`,$.value+=r,M.output+=o.output+$.output,M.globstar=!0,G(r+V()),Q({type:"slash",value:"/",output:""});continue}if("bos"===o.type&&"/"===t[0]){$.type="globstar",$.value+=r,$.output=`(?:^|${E}|${I(h)}${E})`,M.output=$.output,M.globstar=!0,G(r+V()),Q({type:"slash",value:"/",output:""});continue}M.output=M.output.slice(0,-$.output.length),$.type="globstar",$.output=I(h),$.value+=r,M.output+=$.output,M.globstar=!0,G(r);continue}let o={type:"star",value:r,output:B};if(!0===h.bash){o.output=".*?",("bos"===$.type||"slash"===$.type)&&(o.output=A+o.output),Q(o);continue}if($&&("bracket"===$.type||"paren"===$.type)&&!0===h.regex){o.output=r,Q(o);continue}(M.index===M.start||"slash"===$.type||"dot"===$.type)&&("dot"===$.type?(M.output+=S,$.output+=S):!0===h.dot?(M.output+=R,$.output+=R):(M.output+=A,$.output+=A),"*"!==W()&&(M.output+=k,$.output+=k)),Q(o)}for(;M.brackets>0;){if(!0===h.strictBrackets)throw SyntaxError(d("closing","]"));M.output=n.escapeLast(M.output,"["),Y("brackets")}for(;M.parens>0;){if(!0===h.strictBrackets)throw SyntaxError(d("closing",")"));M.output=n.escapeLast(M.output,"("),Y("parens")}for(;M.braces>0;){if(!0===h.strictBrackets)throw SyntaxError(d("closing","}"));M.output=n.escapeLast(M.output,"{"),Y("braces")}if(!0!==h.strictSlashes&&("star"===$.type||"bracket"===$.type)&&Q({type:"maybe_slash",value:"",output:`${E}?`}),!0===M.backtrack)for(let e of(M.output="",M.tokens))M.output+=null!=e.output?e.output:e.value,e.suffix&&(M.output+=e.suffix);return M};c.fastpaths=(e,t)=>{let r={...t},a="number"==typeof r.maxLength?Math.min(i,r.maxLength):i,s=e.length;if(s>a)throw SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${a}`);e=u[e]||e;let l=n.isWindows(t),{DOT_LITERAL:p,SLASH_LITERAL:d,ONE_CHAR:c,DOTS_SLASH:h,NO_DOT:m,NO_DOTS:g,NO_DOTS_SLASH:f,STAR:y,START_ANCHOR:_}=o.globChars(l),v=r.dot?g:m,b=r.dot?f:m,w=r.capture?"":"?:",D=!0===r.bash?".*?":y;r.capture&&(D=`(${D})`);let C=e=>!0===e.noglobstar?D:`(${w}(?:(?!${_}${e.dot?h:p}).)*?)`,E=e=>{switch(e){case"*":return`${v}${c}${D}`;case".*":return`${p}${c}${D}`;case"*.*":return`${v}${D}${p}${c}${D}`;case"*/*":return`${v}${D}${d}${c}${b}${D}`;case"**":return v+C(r);case"**/*":return`(?:${v}${C(r)}${d})?${b}${c}${D}`;case"**/*.*":return`(?:${v}${C(r)}${d})?${b}${D}${p}${c}${D}`;case"**/.*":return`(?:${v}${C(r)}${d})?${p}${c}${D}`;default:{let t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;let r=E(t[1]);if(!r)return;return r+p+t[2]}}},k=E(n.removePrefix(e,{negated:!1,prefix:""}));return k&&!0!==r.strictSlashes&&(k+=`${d}?`),k},t.exports=c},6626,(e,t,r)=>{"use strict";let o=e.r(14747),n=e.r(53463),i=e.r(84041),a=e.r(60011),s=e.r(70720),l=(e,t,r=!1)=>{if(Array.isArray(e)){let o=e.map(e=>l(e,t,r));return e=>{for(let t of o){let r=t(e);if(r)return r}return!1}}let o=e&&"object"==typeof e&&!Array.isArray(e)&&e.tokens&&e.input;if(""===e||"string"!=typeof e&&!o)throw TypeError("Expected pattern to be a non-empty string");let n=t||{},i=a.isWindows(t),s=o?l.compileRe(e,t):l.makeRe(e,t,!1,!0),u=s.state;delete s.state;let p=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};p=l(n.ignore,e,r)}let d=(r,o=!1)=>{let{isMatch:a,match:d,output:c}=l.test(r,s,t,{glob:e,posix:i}),h={glob:e,state:u,regex:s,posix:i,input:r,output:c,match:d,isMatch:a};return("function"==typeof n.onResult&&n.onResult(h),!1===a)?(h.isMatch=!1,!!o&&h):p(r)?("function"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!o&&h):("function"==typeof n.onMatch&&n.onMatch(h),!o||h)};return r&&(d.state=u),d};l.test=(e,t,r,{glob:o,posix:n}={})=>{if("string"!=typeof e)throw TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let i=r||{},s=i.format||(n?a.toPosixSlashes:null),u=e===o,p=u&&s?s(e):e;return!1===u&&(u=(p=s?s(e):e)===o),(!1===u||!0===i.capture)&&(u=!0===i.matchBase||!0===i.basename?l.matchBase(e,t,r,n):t.exec(p)),{isMatch:!!u,match:u,output:p}},l.matchBase=(e,t,r,n=a.isWindows(r))=>(t instanceof RegExp?t:l.makeRe(t,r)).test(o.basename(e)),l.isMatch=(e,t,r)=>l(t,r)(e),l.parse=(e,t)=>Array.isArray(e)?e.map(e=>l.parse(e,t)):i(e,{...t,fastpaths:!1}),l.scan=(e,t)=>n(e,t),l.compileRe=(e,t,r=!1,o=!1)=>{if(!0===r)return e.output;let n=t||{},i=n.contains?"":"^",a=n.contains?"":"$",s=`${i}(?:${e.output})${a}`;e&&!0===e.negated&&(s=`^(?!${s}).*$`);let u=l.toRegex(s,t);return!0===o&&(u.state=e),u},l.makeRe=(e,t={},r=!1,o=!1)=>{if(!e||"string"!=typeof e)throw TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return!1!==t.fastpaths&&("."===e[0]||"*"===e[0])&&(n.output=i.fastpaths(e,t)),n.output||(n=i(e,t)),l.compileRe(n,t,r,o)},l.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},l.constants=s,t.exports=l},85852,(e,t,r)=>{"use strict";t.exports=e.r(6626)},45963,(e,t,r)=>{"use strict";let o=e.r(22734),{Readable:n}=e.r(88947),i=e.r(14747),{promisify:a}=e.r(24361),s=e.r(85852),l=a(o.readdir),u=a(o.stat),p=a(o.lstat),d=a(o.realpath),c="READDIRP_RECURSIVE_ERROR",h=new Set(["ENOENT","EPERM","EACCES","ELOOP",c]),m="files",g="directories",f="files_directories",y=[m,g,f,"all"],[_,v]=process.versions.node.split(".").slice(0,2).map(e=>Number.parseInt(e,10));process.platform;let b=e=>{if(void 0!==e){if("function"==typeof e)return e;if("string"==typeof e){let t=s(e.trim());return e=>t(e.basename)}if(Array.isArray(e)){let t=[],r=[];for(let o of e){let e=o.trim();"!"===e.charAt(0)?r.push(s(e.slice(1))):t.push(s(e))}return r.length>0?t.length>0?e=>t.some(t=>t(e.basename))&&!r.some(t=>t(e.basename)):e=>!r.some(t=>t(e.basename)):e=>t.some(t=>t(e.basename))}}};class w extends n{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:m,lstat:!1,depth:0x80000000,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});const t={...w.defaultOptions,...e},{root:r,type:n}=t;this._fileFilter=b(t.fileFilter),this._directoryFilter=b(t.directoryFilter);const a=t.lstat?p:u;this._stat=a,this._maxDepth=t.depth,this._wantsDir=[g,f,"all"].includes(n),this._wantsFile=[m,f,"all"].includes(n),this._wantsEverything="all"===n,this._root=i.resolve(r),this._isDirent="Dirent"in o&&!t.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:t,depth:r,files:o=[]}=this.parent||{};if(o.length>0){let n=o.splice(0,e).map(e=>this._formatEntry(e,t));for(let t of(await Promise.all(n))){if(this.destroyed)return;let o=await this._getEntryType(t);"directory"===o&&this._directoryFilter(t)?(r<=this._maxDepth&&this.parents.push(this._exploreDir(t.fullPath,r+1)),this._wantsDir&&(this.push(t),e--)):("file"===o||this._includeAsFile(t))&&this._fileFilter(t)&&this._wantsFile&&(this.push(t),e--)}}else{let e=this.parents.pop();if(!e){this.push(null);break}if(this.parent=await e,this.destroyed)return}}}catch(e){this.destroy(e)}finally{this.reading=!1}}}async _exploreDir(e,t){let r;try{r=await l(e,this._rdOptions)}catch(e){this._onError(e)}return{files:r,depth:t,path:e}}async _formatEntry(e,t){let r;try{let o=this._isDirent?e.name:e,n=i.resolve(i.join(t,o));(r={path:i.relative(this._root,n),fullPath:n,basename:o})[this._statsProp]=this._isDirent?e:await this._stat(n)}catch(e){this._onError(e)}return r}_onError(e){h.has(e.code)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let t=e&&e[this._statsProp];if(t){if(t.isFile())return"file";if(t.isDirectory())return"directory";if(t&&t.isSymbolicLink()){let t=e.fullPath;try{let e=await d(t),r=await p(e);if(r.isFile())return"file";if(r.isDirectory()){let r=e.length;if(t.startsWith(e)&&t.substr(r,1)===i.sep){let r=Error(`Circular symlink detected: "${t}" points to "${e}"`);return r.code=c,this._onError(r)}return"directory"}}catch(e){this._onError(e)}}}}_includeAsFile(e){let t=e&&e[this._statsProp];return t&&this._wantsEverything&&!t.isDirectory()}}let D=(e,t={})=>{let r=t.entryType||t.type;if("both"===r&&(r=f),r&&(t.type=r),e){if("string"!=typeof e)throw TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");else if(r&&!y.includes(r))throw Error(`readdirp: Invalid type passed. Use one of ${y.join(", ")}`)}else throw Error("readdirp: root argument is required. Usage: readdirp(root, options)");return t.root=e,new w(t)};D.promise=(e,t={})=>new Promise((r,o)=>{let n=[];D(e,t).on("data",e=>n.push(e)).on("end",()=>r(n)).on("error",e=>o(e))}),D.ReaddirpStream=w,D.default=D,t.exports=D},35234,(e,t,r)=>{t.exports=function(e,t){if("string"!=typeof e)throw TypeError("expected path to be a string");if("\\"===e||"/"===e)return"/";var r=e.length;if(r<=1)return e;var o="";if(r>4&&"\\"===e[3]){var n=e[2];("?"===n||"."===n)&&"\\\\"===e.slice(0,2)&&(e=e.slice(2),o="//")}var i=e.split(/[/\\]+/);return!1!==t&&""===i[i.length-1]&&i.pop(),o+i.join("/")}},35068,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let o=e.r(85852),n=e.r(35234),i={returnIndex:!1},a=(e,t,r,o)=>{let i=Array.isArray(r),a=i?r[0]:r;if(!i&&"string"!=typeof a)throw TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(a));let s=n(a,!1);for(let e=0;e<t.length;e++)if((0,t[e])(s))return!!o&&-1;let l=i&&[s].concat(r.slice(1));for(let t=0;t<e.length;t++){let r=e[t];if(i?r(...l):r(s))return!o||t}return!!o&&-1},s=(e,t,r=i)=>{if(null==e)throw TypeError("anymatch: specify first argument");let n="boolean"==typeof r?{returnIndex:r}:r,s=n.returnIndex||!1,l=Array.isArray(e)?e:[e],u=l.filter(e=>"string"==typeof e&&"!"===e.charAt(0)).map(e=>e.slice(1)).map(e=>o(e,n)),p=l.filter(e=>"string"!=typeof e||"string"==typeof e&&"!"!==e.charAt(0)).map(e=>((e,t)=>{if("function"==typeof e)return e;if("string"==typeof e){let r=o(e,t);return t=>e===t||r(t)}return e instanceof RegExp?t=>e.test(t):e=>!1})(e,n));return null==t?(e,t=!1)=>a(p,u,e,"boolean"==typeof t&&t):a(p,u,t,s)};s.default=s,t.exports=s},65802,(e,t,r)=>{t.exports=function(e){var t;if("string"!=typeof e||""===e)return!1;for(;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},25060,(e,t,r)=>{var o=e.r(65802),n={"{":"}","(":")","[":"]"},i=function(e){if("!"===e[0])return!0;for(var t=0,r=-2,o=-2,i=-2,a=-2,s=-2;t<e.length;){if("*"===e[t]||"?"===e[t+1]&&/[\].+)]/.test(e[t])||-1!==o&&"["===e[t]&&"]"!==e[t+1]&&(o<t&&(o=e.indexOf("]",t)),o>t)&&(-1===s||s>o||-1===(s=e.indexOf("\\",t))||s>o)||-1!==i&&"{"===e[t]&&"}"!==e[t+1]&&(i=e.indexOf("}",t))>t&&(-1===(s=e.indexOf("\\",t))||s>i)||-1!==a&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(a=e.indexOf(")",t))>t&&(-1===(s=e.indexOf("\\",t))||s>a)||-1!==r&&"("===e[t]&&"|"!==e[t+1]&&(r<t&&(r=e.indexOf("|",t)),-1!==r&&")"!==e[r+1]&&(a=e.indexOf(")",r))>r)&&(-1===(s=e.indexOf("\\",r))||s>a))return!0;if("\\"===e[t]){var l=e[t+1];t+=2;var u=n[l];if(u){var p=e.indexOf(u,t);-1!==p&&(t=p+1)}if("!"===e[t])return!0}else t++}return!1},a=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var r=e[t+1];t+=2;var o=n[r];if(o){var i=e.indexOf(o,t);-1!==i&&(t=i+1)}if("!"===e[t])return!0}else t++}return!1};t.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(o(e))return!0;var r=i;return t&&!1===t.strict&&(r=a),r(e)}},77701,(e,t,r)=>{"use strict";var o=e.r(25060),n=e.r(14747).posix.dirname,i="win32"===e.r(46786).platform(),a=/[\{\[].*[\}\]]$/,s=/(^|[^\\])([\{\[]|\([^\)]+$)/,l=/\\([\!\*\?\|\[\]\(\)\{\}])/g;t.exports=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&i&&e.indexOf("/"),a.test(e)&&(e+="/"),e+="a";do e=n(e);while(o(e)||s.test(e))return e.replace(l,"$1")}},84758,(e,t,r)=>{"use strict";r.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),r.find=(e,t)=>e.nodes.find(e=>e.type===t),r.exceedsLimit=(e,t,o=1,n)=>!1!==n&&!!r.isInteger(e)&&!!r.isInteger(t)&&(Number(t)-Number(e))/Number(o)>=n,r.escapeNode=(e,t=0,r)=>{let o=e.nodes[t];o&&(r&&o.type===r||"open"===o.type||"close"===o.type)&&!0!==o.escaped&&(o.value="\\"+o.value,o.escaped=!0)},r.encloseBrace=e=>"brace"===e.type&&e.commas>>0+e.ranges==0&&(e.invalid=!0,!0),r.isInvalidBrace=e=>"brace"===e.type&&(!0===e.invalid||!!e.dollar||(e.commas>>0+e.ranges==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),r.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,r.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),r.flatten=(...e)=>{let t=[],r=e=>{for(let o=0;o<e.length;o++){let n=e[o];if(Array.isArray(n)){r(n);continue}void 0!==n&&t.push(n)}return t};return r(e),t}},64866,(e,t,r)=>{"use strict";let o=e.r(84758);t.exports=(e,t={})=>{let r=(e,n={})=>{let i=t.escapeInvalid&&o.isInvalidBrace(n),a=!0===e.invalid&&!0===t.escapeInvalid,s="";if(e.value)return(i||a)&&o.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)s+=r(t);return s};return r(e)}},934,(e,t,r)=>{"use strict";t.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},79659,(e,t,r)=>{"use strict";let o=e.r(934),n=(e,t,r)=>{var s,l,u;let p,d,h;if(!1===o(e))throw TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===o(t))throw TypeError("toRegexRange: expected the second argument to be a number.");let m={relaxZeros:!0,...r};"boolean"==typeof m.strictZeros&&(m.relaxZeros=!1===m.strictZeros);let g=e+":"+t+"="+String(m.relaxZeros)+String(m.shorthand)+String(m.capture)+String(m.wrap);if(n.cache.hasOwnProperty(g))return n.cache[g].result;let f=Math.min(e,t),y=Math.max(e,t);if(1===Math.abs(f-y)){let r=e+"|"+t;return m.capture?`(${r})`:!1===m.wrap?r:`(?:${r})`}let _=c(e)||c(t),v={min:e,max:t,a:f,b:y},b=[],w=[];return _&&(v.isPadded=_,v.maxLen=String(v.max).length),f<0&&(w=i(y<0?Math.abs(y):1,Math.abs(f),v,m),f=v.a=0),y>=0&&(b=i(f,y,v,m)),v.negatives=w,v.positives=b,p=a(s=w,l=b,"-",!1,u=m)||[],d=a(l,s,"",!1,u)||[],h=a(s,l,"-?",!0,u)||[],v.result=p.concat(h).concat(d).join("|"),!0===m.capture?v.result=`(${v.result})`:!1!==m.wrap&&b.length+w.length>1&&(v.result=`(?:${v.result})`),n.cache[g]=v,v.result};function i(e,t,r,o){let n,i=function(e,t){let r=1,o=1,n=u(e,1),i=new Set([t]);for(;e<=n&&n<=t;)i.add(n),r+=1,n=u(e,r);for(n=p(t+1,o)-1;e<n&&n<=t;)i.add(n),o+=1,n=p(t+1,o)-1;return(i=[...i]).sort(s),i}(e,t),a=[],l=e;for(let e=0;e<i.length;e++){let t=i[e],s=function(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let o=function(e,t){let r=[];for(let o=0;o<e.length;o++)r.push([e[o],t[o]]);return r}(e,t),n=o.length,i="",a=0;for(let e=0;e<n;e++){var s,l;let[t,r]=o[e];t===r?i+=t:"0"!==t||"9"!==r?i+=(s=t,l=r,`[${s}${l-s==1?"":"-"}${l}]`):a++}return a&&(i+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:i,count:[a],digits:n}}(String(l),String(t),o),u="";if(!r.isPadded&&n&&n.pattern===s.pattern){n.count.length>1&&n.count.pop(),n.count.push(s.count[0]),n.string=n.pattern+d(n.count),l=t+1;continue}r.isPadded&&(u=function(e,t,r){if(!t.isPadded)return e;let o=Math.abs(t.maxLen-String(e).length),n=!1!==r.relaxZeros;switch(o){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${o}}`:`0{${o}}`}}(t,r,o)),s.string=u+s.pattern+d(s.count),a.push(s),l=t+1,n=s}return a}function a(e,t,r,o,n){let i=[];for(let n of e){let{string:e}=n;o||l(t,"string",e)||i.push(r+e),o&&l(t,"string",e)&&i.push(r+e)}return i}function s(e,t){return e>t?1:t>e?-1:0}function l(e,t,r){return e.some(e=>e[t]===r)}function u(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function p(e,t){return e-e%Math.pow(10,t)}function d(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function c(e){return/^-?(0+)\d/.test(e)}n.cache={},n.clearCache=()=>n.cache={},t.exports=n},41153,(e,t,r)=>{"use strict";let o=e.r(24361),n=e.r(79659),i=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),a=e=>"number"==typeof e||"string"==typeof e&&""!==e,s=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},l=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},u=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},p=(e,t,r,o)=>{if(r)return n(e,t,{wrap:!1,...o});let i=String.fromCharCode(e);if(e===t)return i;let a=String.fromCharCode(t);return`[${i}-${a}]`},d=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,o=r.capture?"":"?:";return t?`(${o}${e.join("|")})`:e.join("|")}return n(e,t,r)},c=(...e)=>RangeError("Invalid range arguments: "+o.inspect(...e)),h=(e,t,r)=>{if(!0===r.strictRanges)throw c([e,t]);return[]},m=(e,t,r,o={})=>{if(null==t&&a(e))return[e];if(!a(e)||!a(t))return h(e,t,o);if("function"==typeof r)return m(e,t,1,{transform:r});if(i(r))return m(e,t,0,r);let n={...o};if(!0===n.capture&&(n.wrap=!0),!Number.isInteger(+(r=r||n.step||1))){if(null!=r&&!i(r)){var g=r;if(!0===n.strictRanges)throw TypeError(`Expected step "${g}" to be a number`);return[]}return m(e,t,1,r)}return Number.isInteger(+e)&&Number.isInteger(+t)?((e,t,r=1,o={})=>{let n=Number(e),i=Number(t);if(!Number.isInteger(n)||!Number.isInteger(i)){if(!0===o.strictRanges)throw c([e,t]);return[]}0===n&&(n=0),0===i&&(i=0);let a=n>i,h=String(e),m=String(t),g=String(r);r=Math.max(Math.abs(r),1);let f=s(h)||s(m)||s(g),y=f?Math.max(h.length,m.length,g.length):0,_=!1===f&&!1==("string"==typeof e||"string"==typeof t||!0===o.stringify),v=o.transform||(e=>!0===_?Number(e):String(e));if(o.toRegex&&1===r)return p(u(e,y),u(t,y),!0,o);let b={negatives:[],positives:[]},w=e=>b[e<0?"negatives":"positives"].push(Math.abs(e)),D=[],C=0;for(;a?n>=i:n<=i;)!0===o.toRegex&&r>1?w(n):D.push(l(v(n,C),y,_)),n=a?n-r:n+r,C++;if(!0===o.toRegex){let e,t,n,i;return r>1?(b.negatives.sort((e,t)=>e<t?-1:+(e>t)),b.positives.sort((e,t)=>e<t?-1:+(e>t)),t=o.capture?"":"?:",n="",i="",(b.positives.length&&(n=b.positives.map(e=>u(String(e),y)).join("|")),b.negatives.length&&(i=`-(${t}${b.negatives.map(e=>u(String(e),y)).join("|")})`),e=n&&i?`${n}|${i}`:n||i,o.wrap)?`(${t}${e})`:e):d(D,null,{wrap:!1,...o})}return D})(e,t,r,n):((e,t,r=1,o={})=>{if(!Number.isInteger(+e)&&e.length>1||!Number.isInteger(+t)&&t.length>1)return h(e,t,o);let n=o.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),a=`${t}`.charCodeAt(0),s=i>a,l=Math.min(i,a),u=Math.max(i,a);if(o.toRegex&&1===r)return p(l,u,!1,o);let c=[],m=0;for(;s?i>=a:i<=a;)c.push(n(i,m)),i=s?i-r:i+r,m++;return!0===o.toRegex?d(c,null,{wrap:!1,options:o}):c})(e,t,Math.max(Math.abs(r),1),n)};t.exports=m},77397,(e,t,r)=>{"use strict";let o=e.r(41153),n=e.r(84758);t.exports=(e,t={})=>{let r=(e,i={})=>{let a=n.isInvalidBrace(i),s=!0===e.invalid&&!0===t.escapeInvalid,l=!0===a||!0===s,u=!0===t.escapeInvalid?"\\":"",p="";if(!0===e.isOpen)return u+e.value;if(!0===e.isClose)return console.log("node.isClose",u,e.value),u+e.value;if("open"===e.type)return l?u+e.value:"(";if("close"===e.type)return l?u+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":l?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=n.reduce(e.nodes),i=o(...r,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(0!==i.length)return r.length>1&&i.length>1?`(${i})`:i}if(e.nodes)for(let t of e.nodes)p+=r(t,e);return p};return r(e)}},95041,(e,t,r)=>{"use strict";let o=e.r(41153),n=e.r(64866),i=e.r(84758),a=(e="",t="",r=!1)=>{let o=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?i.flatten(t).map(e=>`{${e}}`):t;for(let n of e)if(Array.isArray(n))for(let e of n)o.push(a(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),o.push(Array.isArray(e)?a(n,e,r):n+e);return i.flatten(o)};t.exports=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,s=(e,l={})=>{e.queue=[];let u=l,p=l.queue;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)p=(u=u.parent).queue;if(e.invalid||e.dollar)return void p.push(a(p.pop(),n(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void p.push(a(p.pop(),["{}"]));if(e.nodes&&e.ranges>0){let s=i.reduce(e.nodes);if(i.exceedsLimit(...s,t.step,r))throw RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let l=o(...s,t);0===l.length&&(l=n(e,t)),p.push(a(p.pop(),l)),e.nodes=[];return}let d=i.encloseBrace(e),c=e.queue,h=e;for(;"brace"!==h.type&&"root"!==h.type&&h.parent;)c=(h=h.parent).queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];if("comma"===r.type&&"brace"===e.type){1===t&&c.push(""),c.push("");continue}if("close"===r.type){p.push(a(p.pop(),c,d));continue}if(r.value&&"open"!==r.type){c.push(a(c.pop(),r.value));continue}r.nodes&&s(r,e)}return c};return i.flatten(s(e))}},41466,(e,t,r)=>{"use strict";t.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},63503,(e,t,r)=>{"use strict";let o=e.r(64866),{MAX_LENGTH:n,CHAR_BACKSLASH:i,CHAR_BACKTICK:a,CHAR_COMMA:s,CHAR_DOT:l,CHAR_LEFT_PARENTHESES:u,CHAR_RIGHT_PARENTHESES:p,CHAR_LEFT_CURLY_BRACE:d,CHAR_RIGHT_CURLY_BRACE:c,CHAR_LEFT_SQUARE_BRACKET:h,CHAR_RIGHT_SQUARE_BRACKET:m,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:f,CHAR_NO_BREAK_SPACE:y,CHAR_ZERO_WIDTH_NOBREAK_SPACE:_}=e.r(41466);t.exports=(e,t={})=>{let r;if("string"!=typeof e)throw TypeError("Expected a string");let v=t||{},b="number"==typeof v.maxLength?Math.min(n,v.maxLength):n;if(e.length>b)throw SyntaxError(`Input length (${e.length}), exceeds max characters (${b})`);let w={type:"root",input:e,nodes:[]},D=[w],C=w,E=w,k=0,x=e.length,T=0,S=0,R=()=>e[T++],j=e=>{if("text"===e.type&&"dot"===E.type&&(E.type="text"),E&&"text"===E.type&&"text"===e.type){E.value+=e.value;return}return C.nodes.push(e),e.parent=C,e.prev=E,E=e,e};for(j({type:"bos"});T<x;)if(C=D[D.length-1],(r=R())!==_&&r!==y){if(r===i){j({type:"text",value:(t.keepEscaping?r:"")+R()});continue}if(r===m){j({type:"text",value:"\\"+r});continue}if(r===h){let e;for(k++;T<x&&(e=R());){if(r+=e,e===h){k++;continue}if(e===i){r+=R();continue}if(e===m&&0==--k)break}j({type:"text",value:r});continue}if(r===u){C=j({type:"paren",nodes:[]}),D.push(C),j({type:"text",value:r});continue}if(r===p){if("paren"!==C.type){j({type:"text",value:r});continue}C=D.pop(),j({type:"text",value:r}),C=D[D.length-1];continue}if(r===g||r===f||r===a){let e,o=r;for(!0!==t.keepQuotes&&(r="");T<x&&(e=R());){if(e===i){r+=e+R();continue}if(e===o){!0===t.keepQuotes&&(r+=e);break}r+=e}j({type:"text",value:r});continue}if(r===d){S++,C=j({type:"brace",open:!0,close:!1,dollar:E.value&&"$"===E.value.slice(-1)||!0===C.dollar,depth:S,commas:0,ranges:0,nodes:[]}),D.push(C),j({type:"open",value:r});continue}if(r===c){if("brace"!==C.type){j({type:"text",value:r});continue}(C=D.pop()).close=!0,j({type:"close",value:r}),S--,C=D[D.length-1];continue}if(r===s&&S>0){if(C.ranges>0){C.ranges=0;let e=C.nodes.shift();C.nodes=[e,{type:"text",value:o(C)}]}j({type:"comma",value:r}),C.commas++;continue}if(r===l&&S>0&&0===C.commas){let e=C.nodes;if(0===S||0===e.length){j({type:"text",value:r});continue}if("dot"===E.type){if(C.range=[],E.value+=r,E.type="range",3!==C.nodes.length&&5!==C.nodes.length){C.invalid=!0,C.ranges=0,E.type="text";continue}C.ranges++,C.args=[];continue}if("range"===E.type){e.pop();let t=e[e.length-1];t.value+=E.value+r,E=t,C.ranges--;continue}j({type:"dot",value:r});continue}j({type:"text",value:r})}do if("root"!==(C=D.pop()).type){C.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=D[D.length-1],t=e.nodes.indexOf(C);e.nodes.splice(t,1,...C.nodes)}while(D.length>0)return j({type:"eos"}),w}},55655,(e,t,r)=>{"use strict";let o=e.r(64866),n=e.r(77397),i=e.r(95041),a=e.r(63503),s=(e,t={})=>{let r=[];if(Array.isArray(e))for(let o of e){let e=s.create(o,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(s.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};s.parse=(e,t={})=>a(e,t),s.stringify=(e,t={})=>"string"==typeof e?o(s.parse(e,t),t):o(e,t),s.compile=(e,t={})=>("string"==typeof e&&(e=s.parse(e,t)),n(e,t)),s.expand=(e,t={})=>{"string"==typeof e&&(e=s.parse(e,t));let r=i(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},s.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?s.compile(e,t):s.expand(e,t),t.exports=s},12746,e=>{e.v(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"])},23332,(e,t,r)=>{t.exports=e.r(12746)},23874,(e,t,r)=>{"use strict";let o=e.r(14747),n=new Set(e.r(23332));t.exports=e=>n.has(o.extname(e).slice(1).toLowerCase())},5157,(e,t,r)=>{"use strict";let{sep:o}=e.r(14747),{platform:n}=process,i=e.r(46786);r.EV_ALL="all",r.EV_READY="ready",r.EV_ADD="add",r.EV_CHANGE="change",r.EV_ADD_DIR="addDir",r.EV_UNLINK="unlink",r.EV_UNLINK_DIR="unlinkDir",r.EV_RAW="raw",r.EV_ERROR="error",r.STR_DATA="data",r.STR_END="end",r.STR_CLOSE="close",r.FSEVENT_CREATED="created",r.FSEVENT_MODIFIED="modified",r.FSEVENT_DELETED="deleted",r.FSEVENT_MOVED="moved",r.FSEVENT_CLONED="cloned",r.FSEVENT_UNKNOWN="unknown",r.FSEVENT_FLAG_MUST_SCAN_SUBDIRS=1,r.FSEVENT_TYPE_FILE="file",r.FSEVENT_TYPE_DIRECTORY="directory",r.FSEVENT_TYPE_SYMLINK="symlink",r.KEY_LISTENERS="listeners",r.KEY_ERR="errHandlers",r.KEY_RAW="rawEmitters",r.HANDLER_KEYS=[r.KEY_LISTENERS,r.KEY_ERR,r.KEY_RAW],r.DOT_SLASH=`.${o}`,r.BACK_SLASH_RE=/\\/g,r.DOUBLE_SLASH_RE=/\/\//,r.SLASH_OR_BACK_SLASH_RE=/[/\\]/,r.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,r.REPLACER_RE=/^\.[/\\]/,r.SLASH="/",r.SLASH_SLASH="//",r.BRACE_START="{",r.BANG="!",r.ONE_DOT=".",r.TWO_DOTS="..",r.STAR="*",r.GLOBSTAR="**",r.ROOT_GLOBSTAR="/**/*",r.SLASH_GLOBSTAR="/**",r.DIR_SUFFIX="Dir",r.ANYMATCH_OPTS={dot:!0},r.STRING_TYPE="string",r.FUNCTION_TYPE="function",r.EMPTY_STR="",r.EMPTY_FN=()=>{},r.IDENTITY_FN=e=>e,r.isWindows="win32"===n,r.isMacos="darwin"===n,r.isLinux="linux"===n,r.isIBMi="OS400"===i.type()},89050,(e,t,r)=>{"use strict";let o=e.r(22734),n=e.r(14747),{promisify:i}=e.r(24361),a=e.r(23874),{isWindows:s,isLinux:l,EMPTY_FN:u,EMPTY_STR:p,KEY_LISTENERS:d,KEY_ERR:c,KEY_RAW:h,HANDLER_KEYS:m,EV_CHANGE:g,EV_ADD:f,EV_ADD_DIR:y,EV_ERROR:_,STR_DATA:v,STR_END:b,BRACE_START:w,STAR:D}=e.r(5157),C=i(o.open),E=i(o.stat),k=i(o.lstat),x=i(o.close),T=i(o.realpath),S={lstat:k,stat:E},R=(e,t)=>{e instanceof Set?e.forEach(t):t(e)},j=(e,t,r)=>{let o=e[t];o instanceof Set||(e[t]=o=new Set([o])),o.add(r)},F=(e,t,r)=>{let o=e[t];o instanceof Set?o.delete(r):o===r&&delete e[t]},P=e=>e instanceof Set?0===e.size:!e,O=new Map;function I(e,t,r,i,a){try{return o.watch(e,t,(t,o)=>{r(e),a(t,o,{watchedPath:e}),o&&e!==o&&A(n.resolve(e,o),d,n.join(e,o))})}catch(e){i(e)}}let A=(e,t,r,o,n)=>{let i=O.get(e);i&&R(i[t],e=>{e(r,o,n)})},N=new Map;t.exports=class{constructor(e){this.fsw=e,this._boundHandleError=t=>e._handleError(t)}_watchWithNodeFs(e,t){let r,i=this.fsw.options,l=n.dirname(e),p=n.basename(e);this.fsw._getWatchedDir(l).add(p);let f=n.resolve(e),y={persistent:i.persistent};return t||(t=u),i.usePolling?(y.interval=i.enableBinaryInterval&&a(p)?i.binaryInterval:i.interval,r=((e,t,r,n)=>{let{listener:i,rawEmitter:a}=n,s=N.get(t),l=s&&s.options;return l&&(l.persistent<r.persistent||l.interval>r.interval)&&(s.listeners,s.rawEmitters,o.unwatchFile(t),s=void 0),s?(j(s,d,i),j(s,h,a)):(s={listeners:i,rawEmitters:a,options:r,watcher:o.watchFile(t,r,(r,o)=>{R(s.rawEmitters,e=>{e(g,t,{curr:r,prev:o})});let n=r.mtimeMs;(r.size!==o.size||n>o.mtimeMs||0===n)&&R(s.listeners,t=>t(e,r))})},N.set(t,s)),()=>{F(s,d,i),F(s,h,a),P(s.listeners)&&(N.delete(t),o.unwatchFile(t),s.options=s.watcher=void 0,Object.freeze(s))}})(e,f,y,{listener:t,rawEmitter:this.fsw._emitRaw})):r=((e,t,r,o)=>{let n,{listener:i,errHandler:a,rawEmitter:l}=o,u=O.get(t);if(!r.persistent)return(n=I(e,r,i,a,l)).close.bind(n);if(u)j(u,d,i),j(u,c,a),j(u,h,l);else{if(!(n=I(e,r,A.bind(null,t,d),a,A.bind(null,t,h))))return;n.on(_,async r=>{let o=A.bind(null,t,c);if(u.watcherUnusable=!0,s&&"EPERM"===r.code)try{let t=await C(e,"r");await x(t),o(r)}catch(e){}else o(r)}),u={listeners:i,errHandlers:a,rawEmitters:l,watcher:n},O.set(t,u)}return()=>{if(F(u,d,i),F(u,c,a),F(u,h,l),P(u.listeners)){let e;u.watcher.close(),O.delete(t),m.forEach((e=u,t=>{let r=e[t];r instanceof Set?r.clear():delete e[t]})),u.watcher=void 0,Object.freeze(u)}}})(e,f,y,{listener:t,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),r}_handleFile(e,t,r){if(this.fsw.closed)return;let o=n.dirname(e),i=n.basename(e),a=this.fsw._getWatchedDir(o),s=t;if(a.has(i))return;let u=async(t,r)=>{if(this.fsw._throttle("watch",e,5))if(r&&0!==r.mtimeMs){if(a.has(i)){let t=r.atimeMs,o=r.mtimeMs;(!t||t<=o||o!==s.mtimeMs)&&this.fsw._emit(g,e,r),s=r}}else try{let r=await E(e);if(this.fsw.closed)return;let o=r.atimeMs,n=r.mtimeMs;(!o||o<=n||n!==s.mtimeMs)&&this.fsw._emit(g,e,r),l&&s.ino!==r.ino?(this.fsw._closeFile(t),s=r,this.fsw._addPathCloser(t,this._watchWithNodeFs(e,u))):s=r}catch(e){this.fsw._remove(o,i)}},p=this._watchWithNodeFs(e,u);if(!(r&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(f,e,0))return;this.fsw._emit(f,e,t)}return p}async _handleSymlink(e,t,r,o){if(this.fsw.closed)return;let n=e.fullPath,i=this.fsw._getWatchedDir(t);if(!this.fsw.options.followSymlinks){let t;this.fsw._incrReadyCount();try{t=await T(r)}catch(e){return this.fsw._emitReady(),!0}if(this.fsw.closed)return;return i.has(o)?this.fsw._symlinkPaths.get(n)!==t&&(this.fsw._symlinkPaths.set(n,t),this.fsw._emit(g,r,e.stats)):(i.add(o),this.fsw._symlinkPaths.set(n,t),this.fsw._emit(f,r,e.stats)),this.fsw._emitReady(),!0}if(this.fsw._symlinkPaths.has(n))return!0;this.fsw._symlinkPaths.set(n,!0)}_handleRead(e,t,r,o,i,a,s){if(e=n.join(e,p),!r.hasGlob&&!(s=this.fsw._throttle("readdir",e,1e3)))return;let l=this.fsw._getWatchedDir(r.path),u=new Set,d=this.fsw._readdirp(e,{fileFilter:e=>r.filterPath(e),directoryFilter:e=>r.filterDir(e),depth:0}).on(v,async s=>{if(this.fsw.closed){d=void 0;return}let p=s.path,c=n.join(e,p);if(u.add(p),!(s.stats.isSymbolicLink()&&await this._handleSymlink(s,e,c,p))){if(this.fsw.closed){d=void 0;return}p!==o&&(o||l.has(p))||(this.fsw._incrReadyCount(),c=n.join(i,n.relative(i,c)),this._addToNodeFs(c,t,r,a+1))}}).on(_,this._boundHandleError);return new Promise(t=>d.once(b,()=>{if(this.fsw.closed){d=void 0;return}let p=!!s&&s.clear();t(),l.getChildren().filter(t=>t!==e&&!u.has(t)&&(!r.hasGlob||r.filterPath({fullPath:n.resolve(e,t)}))).forEach(t=>{this.fsw._remove(e,t)}),d=void 0,p&&this._handleRead(e,!1,r,o,i,a,s)}))}async _handleDir(e,t,r,o,i,a,s){let l,u,p=this.fsw._getWatchedDir(n.dirname(e)),d=p.has(n.basename(e));!(r&&this.fsw.options.ignoreInitial)&&!i&&!d&&(!a.hasGlob||a.globFilter(e))&&this.fsw._emit(y,e,t),p.add(n.basename(e)),this.fsw._getWatchedDir(e);let c=this.fsw.options.depth;if((null==c||o<=c)&&!this.fsw._symlinkPaths.has(s)){if(!i&&(await this._handleRead(e,r,a,i,e,o,l),this.fsw.closed))return;u=this._watchWithNodeFs(e,(t,r)=>{r&&0===r.mtimeMs||this._handleRead(t,!1,a,i,e,o,l)})}return u}async _addToNodeFs(e,t,r,o,i){let a=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return a(),!1;let s=this.fsw._getWatchHelpers(e,o);!s.hasGlob&&r&&(s.hasGlob=r.hasGlob,s.globFilter=r.globFilter,s.filterPath=e=>r.filterPath(e),s.filterDir=e=>r.filterDir(e));try{let r,l=await S[s.statMethod](s.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(s.watchPath,l))return a(),!1;let u=this.fsw.options.followSymlinks&&!e.includes(D)&&!e.includes(w);if(l.isDirectory()){let a=n.resolve(e),p=u?await T(e):e;if(this.fsw.closed||(r=await this._handleDir(s.watchPath,l,t,o,i,s,p),this.fsw.closed))return;a!==p&&void 0!==p&&this.fsw._symlinkPaths.set(a,p)}else if(l.isSymbolicLink()){let i=u?await T(e):e;if(this.fsw.closed)return;let a=n.dirname(s.watchPath);if(this.fsw._getWatchedDir(a).add(s.watchPath),this.fsw._emit(f,s.watchPath,l),r=await this._handleDir(a,l,t,o,e,s,i),this.fsw.closed)return;void 0!==i&&this.fsw._symlinkPaths.set(n.resolve(e),i)}else r=this._handleFile(s.watchPath,l,t);return a(),this.fsw._addPathCloser(e,r),!1}catch(t){if(this.fsw._handleError(t))return a(),e}}}},7270,(e,t,r)=>{"use strict";let o=(()=>{throw Error('could not resolve "./fsevents.node" into a module')})(),n=o.constants;r.watch=function(e,t,r){if("string"!=typeof e)throw TypeError(`fsevents argument 1 must be a string and not a ${typeof e}`);if("function"==typeof t&&void 0===r&&(r=t,t=o.flags.SinceNow),"number"!=typeof t)throw TypeError(`fsevents argument 2 must be a number and not a ${typeof t}`);if("function"!=typeof r)throw TypeError(`fsevents argument 3 must be a function and not a ${typeof r}`);let n=o.start(o.global,e,t,r);if(!n)throw Error(`could not watch: ${e}`);return()=>{let e=n?Promise.resolve(n).then(o.stop):Promise.resolve(void 0);return n=void 0,e}},r.getInfo=function(e,t){var r,o,i;return{path:e,flags:t,event:(r=t,n.ItemRemoved&r?"deleted":n.ItemRenamed&r?"moved":n.ItemCreated&r?"created":n.ItemModified&r?"modified":n.RootChanged&r?"root-changed":n.ItemCloned&r?"cloned":!function(e){for(let t in e)if(e[t])return!0;return!1}(r)?"unknown":"modified"),type:(o=t,n.ItemIsFile&o?"file":n.ItemIsDir&o||n.MustScanSubDirs&o?"directory":n.ItemIsSymlink&o?"symlink":void 0),changes:(i=t,{inode:!!(n.ItemInodeMetaMod&i),finder:!!(n.ItemFinderInfoMod&i),access:!!(n.ItemChangeOwner&i),xattrs:!!(n.ItemXattrMod&i)})}},r.constants=n},78646,(e,t,r)=>{"use strict";let o,n=e.r(22734),i=e.r(14747),{promisify:a}=e.r(24361);try{o=e.r(7270)}catch(e){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}if(o){let e=process.version.match(/v(\d+)\.(\d+)/);if(e&&e[1]&&e[2]){let t=Number.parseInt(e[1],10),r=Number.parseInt(e[2],10);8===t&&r<16&&(o=void 0)}}let{EV_ADD:s,EV_CHANGE:l,EV_ADD_DIR:u,EV_UNLINK:p,EV_ERROR:d,STR_DATA:c,STR_END:h,FSEVENT_CREATED:m,FSEVENT_MODIFIED:g,FSEVENT_DELETED:f,FSEVENT_MOVED:y,FSEVENT_UNKNOWN:_,FSEVENT_FLAG_MUST_SCAN_SUBDIRS:v,FSEVENT_TYPE_FILE:b,FSEVENT_TYPE_DIRECTORY:w,FSEVENT_TYPE_SYMLINK:D,ROOT_GLOBSTAR:C,DIR_SUFFIX:E,DOT_SLASH:k,FUNCTION_TYPE:x,EMPTY_FN:T,IDENTITY_FN:S}=e.r(5157),R=a(n.stat),j=a(n.lstat),F=a(n.realpath),P={stat:R,lstat:j},O=new Map,I=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),A=(e,t)=>{let r=0;for(;!e.indexOf(t)&&(e=i.dirname(e))!==t;)r++;return r},N=(e,t)=>e.type===w&&t.isDirectory()||e.type===D&&t.isSymbolicLink()||e.type===b&&t.isFile();t.exports=class{constructor(e){this.fsw=e}checkIgnored(e,t){let r=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,t))return r.add(e),t&&t.isDirectory()&&r.add(e+C),!0;r.delete(e),r.delete(e+C)}addOrChange(e,t,r,o,n,i,a,u){let p=n.has(i)?l:s;this.handleEvent(p,e,t,r,o,n,i,a,u)}async checkExists(e,t,r,o,n,i,a,s){try{let l=await R(e);if(this.fsw.closed)return;N(a,l)?this.addOrChange(e,t,r,o,n,i,a,s):this.handleEvent(p,e,t,r,o,n,i,a,s)}catch(l){"EACCES"===l.code?this.addOrChange(e,t,r,o,n,i,a,s):this.handleEvent(p,e,t,r,o,n,i,a,s)}}handleEvent(e,t,r,o,n,i,a,l,d){if(!(this.fsw.closed||this.checkIgnored(t)))if(e===p){let e=l.type===w;(e||i.has(a))&&this.fsw._remove(n,a,e)}else{if(e===s){if(l.type===w&&this.fsw._getWatchedDir(t),l.type===D&&d.followSymlinks){let e=void 0===d.depth?void 0:A(r,o)+1;return this._addToFsEvents(t,!1,!0,e)}this.fsw._getWatchedDir(n).add(a)}let i=l.type===w?e+E:e;this.fsw._emit(i,t),i===u&&this._addToFsEvents(t,!1,!0)}}_watchWithFsEvents(e,t,r,n){if(this.fsw.closed||this.fsw._isIgnored(e))return;let a=this.fsw.options,s=async(o,s,l)=>{if(this.fsw.closed||void 0!==a.depth&&A(o,t)>a.depth)return;let u=r(i.join(e,i.relative(e,o)));if(n&&!n(u))return;let d=i.dirname(u),c=i.basename(u),h=this.fsw._getWatchedDir(l.type===w?u:d);if(I.has(s)||l.event===_)if(typeof a.ignored===x){let e;try{e=await R(u)}catch(e){}if(this.fsw.closed||this.checkIgnored(u,e))return;N(l,e)?this.addOrChange(u,o,t,d,h,c,l,a):this.handleEvent(p,u,o,t,d,h,c,l,a)}else this.checkExists(u,o,t,d,h,c,l,a);else switch(l.event){case m:case g:return this.addOrChange(u,o,t,d,h,c,l,a);case f:case y:return this.checkExists(u,o,t,d,h,c,l,a)}},l=function(e,t,r,n){let a=i.extname(t)?i.dirname(t):t,s=i.dirname(a),l=O.get(a);(e=>{let t=0;for(let r of O.keys())if(0===r.indexOf(e)&&++t>=10)return!0;return!1})(s)&&(a=s);let u=i.resolve(e),p=u!==t,d=(e,o,n)=>{p&&(e=e.replace(t,u)),e!==u&&e.indexOf(u+i.sep)||r(e,o,n)},c=!1;for(let e of O.keys())if(0===t.indexOf(i.resolve(e)+i.sep)){a=e,l=O.get(a),c=!0;break}if(l||c)l.listeners.add(d);else{var h,m;l={listeners:new Set([d]),rawEmitter:n,watcher:(h=a,m=(e,t)=>{if(!l.listeners.size||t&v)return;let r=o.getInfo(e,t);l.listeners.forEach(o=>{o(e,t,r)}),l.rawEmitter(r.event,e,r)},{stop:o.watch(h,m)})},O.set(a,l)}return()=>{let e=l.listeners;if(e.delete(d),!e.size&&(O.delete(a),l.watcher))return l.watcher.stop().then(()=>{l.rawEmitter=l.watcher=void 0,Object.freeze(l)})}}(e,t,s,this.fsw._emitRaw);return this.fsw._emitReady(),l}async _handleFsEventsSymlink(e,t,r,o){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(t))){this.fsw._symlinkPaths.set(t,!0),this.fsw._incrReadyCount();try{let t=await F(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(t))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(t||e,o=>{let n=e;return t&&t!==k?n=o.replace(t,e):o!==k&&(n=i.join(e,o)),r(n)},!1,o)}catch(e){if(this.fsw._handleError(e))return this.fsw._emitReady()}}}emitAdd(e,t,r,o,n){let a=r(e),l=t.isDirectory(),p=this.fsw._getWatchedDir(i.dirname(a)),d=i.basename(a);l&&this.fsw._getWatchedDir(a),!p.has(d)&&(p.add(d),o.ignoreInitial&&!0!==n||this.fsw._emit(l?u:s,a,t))}initWatch(e,t,r,o){if(this.fsw.closed)return;let n=this._watchWithFsEvents(r.watchPath,i.resolve(e||r.watchPath),o,r.globFilter);this.fsw._addPathCloser(t,n)}async _addToFsEvents(e,t,r,o){if(this.fsw.closed)return;let n=this.fsw.options,a=typeof t===x?t:S,s=this.fsw._getWatchHelpers(e);try{let t=await P[s.statMethod](s.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(s.watchPath,t))throw null;if(t.isDirectory()){let l;if(s.globFilter||this.emitAdd(a(e),t,a,n,r),o&&o>n.depth)return;this.fsw._readdirp(s.watchPath,{fileFilter:e=>s.filterPath(e),directoryFilter:e=>s.filterDir(e),...(l=n.depth-(o||0),isNaN(l)?{}:{depth:l})}).on(c,e=>{if(this.fsw.closed||e.stats.isDirectory()&&!s.filterPath(e))return;let t=i.join(s.watchPath,e.path),{fullPath:o}=e;if(s.followSymlinks&&e.stats.isSymbolicLink()){let e=void 0===n.depth?void 0:A(t,i.resolve(s.watchPath))+1;this._handleFsEventsSymlink(t,o,a,e)}else this.emitAdd(t,e.stats,a,n,r)}).on(d,T).on(h,()=>{this.fsw._emitReady()})}else this.emitAdd(s.watchPath,t,a,n,r),this.fsw._emitReady()}catch(e){(!e||this.fsw._handleError(e))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(n.persistent&&!0!==r)if(typeof t===x)this.initWatch(void 0,e,s,a);else{let t;try{t=await F(s.watchPath)}catch(e){}this.initWatch(t,e,s,a)}}},t.exports.canUse=()=>o&&O.size<128},25254,(e,t,r)=>{"use strict";let{EventEmitter:o}=e.r(27699),n=e.r(22734),i=e.r(14747),{promisify:a}=e.r(24361),s=e.r(45963),l=e.r(35068).default,u=e.r(77701),p=e.r(25060),d=e.r(55655),c=e.r(35234),h=e.r(89050),m=e.r(78646),{EV_ALL:g,EV_READY:f,EV_ADD:y,EV_CHANGE:_,EV_UNLINK:v,EV_ADD_DIR:b,EV_UNLINK_DIR:w,EV_RAW:D,EV_ERROR:C,STR_CLOSE:E,STR_END:k,BACK_SLASH_RE:x,DOUBLE_SLASH_RE:T,SLASH_OR_BACK_SLASH_RE:S,DOT_RE:R,REPLACER_RE:j,SLASH:F,SLASH_SLASH:P,BRACE_START:O,BANG:I,ONE_DOT:A,TWO_DOTS:N,GLOBSTAR:B,SLASH_GLOBSTAR:M,ANYMATCH_OPTS:U,STRING_TYPE:L,FUNCTION_TYPE:q,EMPTY_STR:$,EMPTY_FN:z,isWindows:W,isMacos:V,isIBMi:K}=e.r(5157),G=a(n.stat),H=a(n.readdir),Z=(e=[])=>Array.isArray(e)?e:[e],J=(e,t=[])=>(e.forEach(e=>{Array.isArray(e)?J(e,t):t.push(e)}),t),Y=e=>{let t=J(Z(e));if(!t.every(e=>typeof e===L))throw TypeError(`Non-string provided as watch path: ${t}`);return t.map(X)},Q=e=>{let t=e.replace(x,F),r=!1;for(t.startsWith(P)&&(r=!0);t.match(T);)t=t.replace(T,F);return r&&(t=F+t),t},X=e=>Q(i.normalize(Q(e))),ee=(e=$)=>t=>typeof t!==L?t:X(i.isAbsolute(t)?t:i.join(e,t)),et=(e,t)=>void 0===e[t];class er{constructor(e,t){this.path=e,this._removeWatcher=t,this.items=new Set}add(e){let{items:t}=this;t&&e!==A&&e!==N&&t.add(e)}async remove(e){let{items:t}=this;if(!t||(t.delete(e),t.size>0))return;let r=this.path;try{await H(r)}catch(e){this._removeWatcher&&this._removeWatcher(i.dirname(r),i.basename(r))}}has(e){let{items:t}=this;if(t)return t.has(e)}getChildren(){let{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}}class eo{constructor(e,t,r,o){this.fsw=o,this.path=e=e.replace(j,$),this.watchPath=t,this.fullWatchPath=i.resolve(t),this.hasGlob=t!==e,e===$&&(this.hasGlob=!1),this.globSymlink=!!this.hasGlob&&!!r&&void 0,this.globFilter=!!this.hasGlob&&l(e,void 0,U),this.dirParts=this.getDirParts(e),this.dirParts.forEach(e=>{e.length>1&&e.pop()}),this.followSymlinks=r,this.statMethod=r?"stat":"lstat"}checkGlobSymlink(e){return(void 0===this.globSymlink&&(this.globSymlink=e.fullParentDir!==this.fullWatchPath&&{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink)?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return i.join(this.watchPath,i.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:t}=e;if(t&&t.isSymbolicLink())return this.filterDir(e);let r=this.entryPath(e);return(!this.hasGlob||typeof this.globFilter!==q||this.globFilter(r))&&this.fsw._isntIgnored(r,t)&&this.fsw._hasReadPermissions(t)}getDirParts(e){if(!this.hasGlob)return[];let t=[];return(e.includes(O)?d.expand(e):[e]).forEach(e=>{t.push(i.relative(this.watchPath,e).split(S))}),t}filterDir(e){if(this.hasGlob){let t=this.getDirParts(this.checkGlobSymlink(e)),r=!1;this.unmatchedGlob=!this.dirParts.some(e=>e.every((e,o)=>(e===B&&(r=!0),r||!t[0][o]||l(e,t[0][o],U))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}}class en extends o{constructor(e){super();const t={};e&&Object.assign(t,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,et(t,"persistent")&&(t.persistent=!0),et(t,"ignoreInitial")&&(t.ignoreInitial=!1),et(t,"ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),et(t,"interval")&&(t.interval=100),et(t,"binaryInterval")&&(t.binaryInterval=300),et(t,"disableGlobbing")&&(t.disableGlobbing=!1),t.enableBinaryInterval=t.binaryInterval!==t.interval,et(t,"useFsEvents")&&(t.useFsEvents=!t.usePolling),m.canUse()||(t.useFsEvents=!1),et(t,"usePolling")&&!t.useFsEvents&&(t.usePolling=V),K&&(t.usePolling=!0);const r=process.env.CHOKIDAR_USEPOLLING;if(void 0!==r){const e=r.toLowerCase();"false"===e||"0"===e?t.usePolling=!1:"true"===e||"1"===e?t.usePolling=!0:t.usePolling=!!e}const o=process.env.CHOKIDAR_INTERVAL;o&&(t.interval=Number.parseInt(o,10)),et(t,"atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=new Map),et(t,"followSymlinks")&&(t.followSymlinks=!0),et(t,"awaitWriteFinish")&&(t.awaitWriteFinish=!1),!0===t.awaitWriteFinish&&(t.awaitWriteFinish={});const n=t.awaitWriteFinish;n&&(n.stabilityThreshold||(n.stabilityThreshold=2e3),n.pollInterval||(n.pollInterval=100),this._pendingWrites=new Map),t.ignored&&(t.ignored=Z(t.ignored));let i=0;this._emitReady=()=>{++i>=this._readyCount&&(this._emitReady=z,this._readyEmitted=!0,process.nextTick(()=>this.emit(f)))},this._emitRaw=(...e)=>this.emit(D,...e),this._readyEmitted=!1,this.options=t,t.useFsEvents?this._fsEventsHandler=new m(this):this._nodeFsHandler=new h(this),Object.freeze(t)}add(e,t,r){let{cwd:o,disableGlobbing:n}=this.options;this.closed=!1;let a=Y(e);return o&&(a=a.map(e=>{let t=i.isAbsolute(e)?e:e.startsWith(I)?I+i.join(o,e.slice(1)):i.join(o,e);return n||!p(e)?t:c(t)})),a=a.filter(e=>e.startsWith(I)?(this._ignoredPaths.add(e.slice(1)),!1):(this._ignoredPaths.delete(e),this._ignoredPaths.delete(e+M),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=a.length),this.options.persistent&&(this._readyCount+=a.length),a.forEach(e=>this._fsEventsHandler._addToFsEvents(e))):(this._readyCount||(this._readyCount=0),this._readyCount+=a.length,Promise.all(a.map(async e=>{let o=await this._nodeFsHandler._addToNodeFs(e,!r,0,0,t);return o&&this._emitReady(),o})).then(e=>{this.closed||e.filter(e=>e).forEach(e=>{this.add(i.dirname(e),i.basename(t||e))})})),this}unwatch(e){if(this.closed)return this;let t=Y(e),{cwd:r}=this.options;return t.forEach(e=>{i.isAbsolute(e)||this._closers.has(e)||(r&&(e=i.join(r,e)),e=i.resolve(e)),this._closePath(e),this._ignoredPaths.add(e),this._watched.has(e)&&this._ignoredPaths.add(e+M),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(t=>t.forEach(t=>{let r=t();r instanceof Promise&&e.push(r)})),this._streams.forEach(e=>e.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(e=>e.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(e=>{this[`_${e}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>void 0):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((t,r)=>{e[(this.options.cwd?i.relative(this.options.cwd,r):r)||A]=t.getChildren().sort()}),e}emitWithAll(e,t){this.emit(...t),e!==C&&this.emit(g,...t)}async _emit(e,t,r,o,n){let a;if(this.closed)return;let s=this.options;W&&(t=i.normalize(t)),s.cwd&&(t=i.relative(s.cwd,t));let l=[e,t];void 0!==n?l.push(r,o,n):void 0!==o?l.push(r,o):void 0!==r&&l.push(r);let u=s.awaitWriteFinish;if(u&&(a=this._pendingWrites.get(t)))return a.lastChange=new Date,this;if(s.atomic){if(e===v)return this._pendingUnlinks.set(t,l),setTimeout(()=>{this._pendingUnlinks.forEach((e,t)=>{this.emit(...e),this.emit(g,...e),this._pendingUnlinks.delete(t)})},"number"==typeof s.atomic?s.atomic:100),this;e===y&&this._pendingUnlinks.has(t)&&(e=l[0]=_,this._pendingUnlinks.delete(t))}if(u&&(e===y||e===_)&&this._readyEmitted){let r=(t,r)=>{t?(e=l[0]=C,l[1]=t,this.emitWithAll(e,l)):r&&(l.length>2?l[2]=r:l.push(r),this.emitWithAll(e,l))};return this._awaitWriteFinish(t,u.stabilityThreshold,e,r),this}if(e===_&&!this._throttle(_,t,50))return this;if(s.alwaysStat&&void 0===r&&(e===y||e===b||e===_)){let e,r=s.cwd?i.join(s.cwd,t):t;try{e=await G(r)}catch(e){}if(!e||this.closed)return;l.push(e)}return this.emitWithAll(e,l),this}_handleError(e){let t=e&&e.code;return e&&"ENOENT"!==t&&"ENOTDIR"!==t&&(!this.options.ignorePermissionErrors||"EPERM"!==t&&"EACCES"!==t)&&this.emit(C,e),e||this.closed}_throttle(e,t,r){let o;this._throttled.has(e)||this._throttled.set(e,new Map);let n=this._throttled.get(e),i=n.get(t);if(i)return i.count++,!1;let a=()=>{let e=n.get(t),r=e?e.count:0;return n.delete(t),clearTimeout(o),e&&clearTimeout(e.timeoutObject),r},s={timeoutObject:o=setTimeout(a,r),clear:a,count:0};return n.set(t,s),s}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,t,r,o){let a,s=e;this.options.cwd&&!i.isAbsolute(e)&&(s=i.join(this.options.cwd,e));let l=new Date,u=r=>{n.stat(s,(n,i)=>{if(n||!this._pendingWrites.has(e)){n&&"ENOENT"!==n.code&&o(n);return}let s=Number(new Date);r&&i.size!==r.size&&(this._pendingWrites.get(e).lastChange=s),s-this._pendingWrites.get(e).lastChange>=t?(this._pendingWrites.delete(e),o(void 0,i)):a=setTimeout(u,this.options.awaitWriteFinish.pollInterval,i)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:l,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(a),r)}),a=setTimeout(u,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,t){if(this.options.atomic&&R.test(e))return!0;if(!this._userIgnored){let{cwd:e}=this.options,t=this.options.ignored,r=t&&t.map(ee(e)),o=Z(r).filter(e=>typeof e===L&&!p(e)).map(e=>e+M),n=this._getGlobIgnored().map(ee(e)).concat(r,o);this._userIgnored=l(n,void 0,U)}return this._userIgnored([e,t])}_isntIgnored(e,t){return!this._isIgnored(e,t)}_getWatchHelpers(e,t){let r=t||this.options.disableGlobbing||!p(e)?e:u(e);return new eo(e,r,this.options.followSymlinks,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let t=i.resolve(e);return this._watched.has(t)||this._watched.set(t,new er(t,this._boundRemove)),this._watched.get(t)}_hasReadPermissions(e){return!!this.options.ignorePermissionErrors||!!(4&Number.parseInt((511&(e&&Number.parseInt(e.mode,10))).toString(8)[0],10))}_remove(e,t,r){let o=i.join(e,t),n=i.resolve(o);if(r=null!=r?r:this._watched.has(o)||this._watched.has(n),!this._throttle("remove",o,100))return;r||this.options.useFsEvents||1!==this._watched.size||this.add(e,t,!0),this._getWatchedDir(o).getChildren().forEach(e=>this._remove(o,e));let a=this._getWatchedDir(e),s=a.has(t);a.remove(t),this._symlinkPaths.has(n)&&this._symlinkPaths.delete(n);let l=o;if(this.options.cwd&&(l=i.relative(this.options.cwd,o)),this.options.awaitWriteFinish&&this._pendingWrites.has(l)&&this._pendingWrites.get(l).cancelWait()===y)return;this._watched.delete(o),this._watched.delete(n);let u=r?w:v;s&&!this._isIgnored(o)&&this._emit(u,o),this.options.useFsEvents||this._closePath(o)}_closePath(e){this._closeFile(e);let t=i.dirname(e);this._getWatchedDir(t).remove(i.basename(e))}_closeFile(e){let t=this._closers.get(e);t&&(t.forEach(e=>e()),this._closers.delete(e))}_addPathCloser(e,t){if(!t)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(t)}_readdirp(e,t){if(this.closed)return;let r=s(e,{type:g,alwaysStat:!0,lstat:!0,...t});return this._streams.add(r),r.once(E,()=>{r=void 0}),r.once(k,()=>{r&&(this._streams.delete(r),r=void 0)}),r}}r.FSWatcher=en,r.watch=(e,t)=>{let r=new en(t);return r.add(e),r}},65246,(e,t,r)=>{"use strict";function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var i,a=e.r(22734),s=e.r(14747),l=e.r(73446),u=e.r(91346).PrecompiledLoader;t.exports={FileSystemLoader:function(t){function r(r,o){var n;if(n=t.call(this)||this,"boolean"==typeof o&&console.log("[nunjucks] Warning: you passed a boolean as the second argument to FileSystemLoader, but it now takes an options object. See http://mozilla.github.io/nunjucks/api.html#filesystemloader"),o=o||{},n.pathsToNames={},n.noCache=!!o.noCache,r?n.searchPaths=(r=Array.isArray(r)?r:[r]).map(s.normalize):n.searchPaths=["."],o.watch){try{i=e.r(25254)}catch(e){throw Error("watch requires chokidar to be installed")}var l=n.searchPaths.filter(a.existsSync),u=i.watch(l);u.on("all",function(e,t){t=s.resolve(t),"change"===e&&t in n.pathsToNames&&n.emit("update",n.pathsToNames[t],t)}),u.on("error",function(e){console.log("Watcher error: "+e)})}return n}return o(r,t),r.prototype.getSource=function(e){for(var t=null,r=this.searchPaths,o=0;o<r.length;o++){var n=s.resolve(r[o]),i=s.resolve(r[o],e);if(0===i.indexOf(n)&&a.existsSync(i)){t=i;break}}if(!t)return null;this.pathsToNames[t]=e;var l={src:a.readFileSync(t,"utf-8"),path:t,noCache:this.noCache};return this.emit("load",e,l),l},r}(l),PrecompiledLoader:u,NodeResolveLoader:function(t){function r(r){var o;if(o=t.call(this)||this,r=r||{},o.pathsToNames={},o.noCache=!!r.noCache,r.watch){try{i=e.r(25254)}catch(e){throw Error("watch requires chokidar to be installed")}o.watcher=i.watch(),o.watcher.on("change",function(e){o.emit("update",o.pathsToNames[e],e)}),o.watcher.on("error",function(e){console.log("Watcher error: "+e)}),o.on("load",function(e,t){o.watcher.add(t.path)})}return o}return o(r,t),r.prototype.getSource=function(e){if(/^\.?\.?(\/|\\)/.test(e)||/^[A-Z]:/.test(e))return null;try{t=(()=>{let e=Error("Cannot find module as expression is too dynamic");throw e.code="MODULE_NOT_FOUND",e})()}catch(e){return null}this.pathsToNames[t]=e;var t,r={src:a.readFileSync(t,"utf-8"),path:t,noCache:this.noCache};return this.emit("load",e,r),r},r}(l)}},4658,(e,t,r)=>{"use strict";t.exports=e.r(65246)},53177,(e,t,r)=>{"use strict";var o=e.r(71841).SafeString;r.callable=function(e){return"function"==typeof e},r.defined=function(e){return void 0!==e},r.divisibleby=function(e,t){return e%t==0},r.escaped=function(e){return e instanceof o},r.equalto=function(e,t){return e===t},r.eq=r.equalto,r.sameas=r.equalto,r.even=function(e){return e%2==0},r.falsy=function(e){return!e},r.ge=function(e,t){return e>=t},r.greaterthan=function(e,t){return e>t},r.gt=r.greaterthan,r.le=function(e,t){return e<=t},r.lessthan=function(e,t){return e<t},r.lt=r.lessthan,r.lower=function(e){return e.toLowerCase()===e},r.ne=function(e,t){return e!==t},r.null=function(e){return null===e},r.number=function(e){return"number"==typeof e},r.odd=function(e){return e%2==1},r.string=function(e){return"string"==typeof e},r.truthy=function(e){return!!e},r.undefined=function(e){return void 0===e},r.upper=function(e){return e.toUpperCase()===e},r.iterable=function(e){return"undefined"!=typeof Symbol?!!e[Symbol.iterator]:Array.isArray(e)||"string"==typeof e},r.mapping=function(e){var t=null!=e&&"object"==typeof e&&!Array.isArray(e);return Set?t&&!(e instanceof Set):t}},20215,(e,t,r)=>{"use strict";t.exports=function(){return{range:function(e,t,r){void 0===t?(t=e,e=0,r=1):r||(r=1);var o=[];if(r>0)for(var n=e;n<t;n+=r)o.push(n);else for(var i=e;i>t;i+=r)o.push(i);return o},cycler:function(){var e,t;return e=Array.prototype.slice.call(arguments),t=-1,{current:null,reset:function(){t=-1,this.current=null},next:function(){return++t>=e.length&&(t=0),this.current=e[t],this.current}}},joiner:function(e){var t,r;return t=(t=e)||",",r=!0,function(){var e=r?"":t;return r=!1,e}}}}},36137,(e,t,r)=>{"use strict";var o=e.r(14747);t.exports=function(e,t){function r(e,t){if(this.name=e,this.path=e,this.defaultEngine=t.defaultEngine,this.ext=o.extname(e),!this.ext&&!this.defaultEngine)throw Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return r.prototype.render=function(t,r){e.render(this.name,t,r)},t.set("view",r),t.set("nunjucksEnv",e),e}},60668,(e,t,r)=>{"use strict";function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var i=e.r(51202),a=e.r(94867),s=e.r(28943),l=e.r(51073),u=e.r(35466),p=e.r(4658),d=p.FileSystemLoader,c=p.WebLoader;p.PrecompiledLoader;var h=e.r(53177),m=e.r(20215),g=e.r(63709),f=g.Obj,y=g.EmitterObj,_=e.r(71841),v=_.handleError,b=_.Frame,w=e.r(36137);function D(e,t,r){i(function(){e(t,r)})}var C={type:"code",obj:{root:function(e,t,r,o,n){try{n(null,"")}catch(e){n(v(e,null,null))}}}},E=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var r=t.prototype;return r.init=function(e,t){var r=this;t=this.opts=t||{},this.opts.dev=!!t.dev,this.opts.autoescape=null==t.autoescape||t.autoescape,this.opts.throwOnUndefined=!!t.throwOnUndefined,this.opts.trimBlocks=!!t.trimBlocks,this.opts.lstripBlocks=!!t.lstripBlocks,this.loaders=[],e?this.loaders=s.isArray(e)?e:[e]:d?this.loaders=[new d("views")]:c&&(this.loaders=[new c("/views")]),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],s._entries(u).forEach(function(e){var t=e[0],o=e[1];return r.addFilter(t,o)}),s._entries(h).forEach(function(e){var t=e[0],o=e[1];return r.addTest(t,o)})},r._initLoaders=function(){var e=this;this.loaders.forEach(function(t){t.cache={},"function"==typeof t.on&&(t.on("update",function(r,o){t.cache[r]=null,e.emit("update",r,o,t)}),t.on("load",function(r,o){e.emit("load",r,o,t)}))})},r.invalidateCache=function(){this.loaders.forEach(function(e){e.cache={}})},r.addExtension=function(e,t){return t.__name=e,this.extensions[e]=t,this.extensionsList.push(t),this},r.removeExtension=function(e){var t=this.getExtension(e);t&&(this.extensionsList=s.without(this.extensionsList,t),delete this.extensions[e])},r.getExtension=function(e){return this.extensions[e]},r.hasExtension=function(e){return!!this.extensions[e]},r.addGlobal=function(e,t){return this.globals[e]=t,this},r.getGlobal=function(e){if(void 0===this.globals[e])throw Error("global not found: "+e);return this.globals[e]},r.addFilter=function(e,t,r){return r&&this.asyncFilters.push(e),this.filters[e]=t,this},r.getFilter=function(e){if(!this.filters[e])throw Error("filter not found: "+e);return this.filters[e]},r.addTest=function(e,t){return this.tests[e]=t,this},r.getTest=function(e){if(!this.tests[e])throw Error("test not found: "+e);return this.tests[e]},r.resolveTemplate=function(e,t,r){return e.isRelative&&t&&e.isRelative(r)&&e.resolve?e.resolve(t,r):r},r.getTemplate=function(e,t,r,o,n){var i,a=this,l=this,u=null;if(e&&e.raw&&(e=e.raw),s.isFunction(r)&&(n=r,r=null,t=t||!1),s.isFunction(t)&&(n=t,t=!1),e instanceof x)u=e;else if("string"!=typeof e)throw Error("template names must be a string: "+e);else for(var p=0;p<this.loaders.length;p++){var d=this.loaders[p];if(u=d.cache[this.resolveTemplate(d,r,e)])break}return u?(t&&u.compile(),n)?void n(null,u):u:(s.asyncIter(this.loaders,function(t,o,n,i){function a(e,r){e?i(e):r?(r.loader=t,i(null,r)):n()}e=l.resolveTemplate(t,r,e),t.async?t.getSource(e,a):a(null,t.getSource(e))},function(r,s){var l;if(s||r||o||(r=Error("template not found: "+e)),r)if(n)return void n(r);else throw r;s?(l=new x(s.src,a,s.path,t),s.noCache||(s.loader.cache[e]=l)):l=new x(C,a,"",t),n?n(null,l):i=l}),i)},r.express=function(e){return w(this,e)},r.render=function(e,t,r){s.isFunction(t)&&(r=t,t=null);var o=null;return this.getTemplate(e,function(e,n){if(e&&r)D(r,e);else if(e)throw e;else o=n.render(t,r)}),o},r.renderString=function(e,t,r,o){return s.isFunction(r)&&(o=r,r={}),new x(e,this,(r=r||{}).path).render(t,o)},r.waterfall=function(e,t,r){return a(e,t,r)},t}(y),k=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var r=t.prototype;return r.init=function(e,t,r){var o=this;this.env=r||new E,this.ctx=s.extend({},e),this.blocks={},this.exported=[],s.keys(t).forEach(function(e){o.addBlock(e,t[e])})},r.lookup=function(e){return e in this.env.globals&&!(e in this.ctx)?this.env.globals[e]:this.ctx[e]},r.setVariable=function(e,t){this.ctx[e]=t},r.getVariables=function(){return this.ctx},r.addBlock=function(e,t){return this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t),this},r.getBlock=function(e){if(!this.blocks[e])throw Error('unknown block "'+e+'"');return this.blocks[e][0]},r.getSuper=function(e,t,r,o,n,i){var a=s.indexOf(this.blocks[t]||[],r),l=this.blocks[t][a+1];if(-1===a||!l)throw Error('no super block available for "'+t+'"');l(e,this,o,n,i)},r.addExport=function(e){this.exported.push(e)},r.getExported=function(){var e=this,t={};return this.exported.forEach(function(r){t[r]=e.ctx[r]}),t},t}(f),x=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var r=t.prototype;return r.init=function(e,t,r,o){if(this.env=t||new E,s.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj;break;default:throw Error("Unexpected template object type "+e.type+"; expected 'code', or 'string'")}else if(s.isString(e))this.tmplStr=e;else throw Error("src must be a string or an object describing the source");if(this.path=r,o)try{this._compile()}catch(e){throw s._prettifyError(this.path,this.env.opts.dev,e)}else this.compiled=!1},r.render=function(e,t,r){var o=this;"function"==typeof e?(r=e,e={}):"function"==typeof t&&(r=t,t=null);var n=!t;try{this.compile()}catch(e){var i=s._prettifyError(this.path,this.env.opts.dev,e);if(r)return D(r,i);throw i}var a=new k(e||{},this.blocks,this.env),l=t?t.push(!0):new b;l.topLevel=!0;var u=null,p=!1;return this.rootRenderFunc(this.env,a,l,_,function(e,t){if(!p||!r||void 0===t)if(e&&(e=s._prettifyError(o.path,o.env.opts.dev,e),p=!0),r)n?D(r,e,t):r(e,t);else{if(e)throw e;u=t}}),u},r.getExported=function(e,t,r){"function"==typeof e&&(r=e,e={}),"function"==typeof t&&(r=t,t=null);try{this.compile()}catch(e){if(r)return r(e);throw e}var o=t?t.push():new b;o.topLevel=!0;var n=new k(e||{},this.blocks,this.env);this.rootRenderFunc(this.env,n,o,_,function(e){e?r(e,null):r(null,n.getExported())})},r.compile=function(){this.compiled||this._compile()},r._compile=function(){var e;e=this.tmplProps?this.tmplProps:Function(l.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts))(),this.blocks=this._getBlocks(e),this.rootRenderFunc=e.root,this.compiled=!0},r._getBlocks=function(e){var t={};return s.keys(e).forEach(function(r){"b_"===r.slice(0,2)&&(t[r.slice(2)]=e[r])}),t},t}(f);t.exports={Environment:E,Template:x}},51915,(e,t,r)=>{"use strict";t.exports=function(e,t){var r="";t=t||{};for(var o=0;o<e.length;o++){var n=JSON.stringify(e[o].name);r+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+n+"] = (function() {\n"+e[o].template+"\n})();\n",t.asFunction&&(r+="return function(ctx, cb) { return nunjucks.render("+n+", ctx, cb); }\n"),r+="})();\n"}return r}},72124,(e,t,r)=>{"use strict";var o=e.r(22734),n=e.r(14747),i=e.r(28943)._prettifyError,a=e.r(51073),s=e.r(60668).Environment,l=e.r(51915);function u(e,t){return!!Array.isArray(t)&&t.some(function(t){return e.match(t)})}function p(e,t){(t=t||{}).isString=!0;var r=t.env||new s([]),o=t.wrapper||l;if(!t.name)throw Error('the "name" option is required when compiling a string');return o([d(e,t.name,r)],t)}function d(e,t,r){var o,n=(r=r||new s([])).asyncFilters,l=r.extensionsList;t=t.replace(/\\/g,"/");try{o=a.compile(e,n,l,t,r.opts)}catch(e){throw i(t,!1,e)}return{name:t,template:o}}t.exports={precompile:function(e,t){var r=(t=t||{}).env||new s([]),i=t.wrapper||l;if(t.isString)return p(e,t);var a=o.existsSync(e)&&o.statSync(e),c=[],h=[];if(a.isFile())c.push(d(o.readFileSync(e,"utf-8"),t.name||e,r));else if(a.isDirectory()){!function r(i){o.readdirSync(i).forEach(function(a){var s=n.join(i,a),l=s.substr(n.join(e,"/").length),p=o.statSync(s);p&&p.isDirectory()?u(l+="/",t.exclude)||r(s):u(l,t.include)&&h.push(s)})}(e);for(var m=0;m<h.length;m++){var g=h[m].replace(n.join(e,"/"),"");try{c.push(d(o.readFileSync(h[m],"utf-8"),g,r))}catch(e){if(t.force)console.error(e);else throw e}}}return i(c,t)},precompileString:p}},13986,(e,t,r)=>{"use strict";t.exports=function(){var e,t,r=this.runtime,o=this.lib,n=this.compiler.Compiler,i=this.parser.Parser,a=this.nodes,s=this.lexer,l=r.contextOrFrameLookup,u=r.memberLookup;function p(e){return{index:e.index,lineno:e.lineno,colno:e.colno}}if(n&&(e=n.prototype.assertType),i&&(t=i.prototype.parseAggregate),r.contextOrFrameLookup=function(e,t,r){var o=l.apply(this,arguments);if(void 0!==o)return o;switch(r){case"True":return!0;case"False":return!1;case"None":return null;default:return}},"SLIM"!==process.env.BUILD_TYPE&&a&&n&&i){var d=a.Node.extend("Slice",{fields:["start","stop","step"],init:function(e,t,r,o,n){r=r||new a.Literal(e,t,null),o=o||new a.Literal(e,t,null),n=n||new a.Literal(e,t,1),this.parent(e,t,r,o,n)}});n.prototype.assertType=function(t){t instanceof d||e.apply(this,arguments)},n.prototype.compileSlice=function(e,t){this._emit("("),this._compileExpression(e.start,t),this._emit("),("),this._compileExpression(e.stop,t),this._emit("),("),this._compileExpression(e.step,t),this._emit(")")},i.prototype.parseAggregate=function(){var e=this,r=p(this.tokens);r.colno--,r.index--;try{return t.apply(this)}catch(t){var n=p(this.tokens),i=function(){return o._assign(e.tokens,n),t};o._assign(this.tokens,r),this.peeked=!1;var l=this.peekToken();if(l.type!==s.TOKEN_LEFT_BRACKET)throw i();this.nextToken();for(var u=new d(l.lineno,l.colno),c=!1,h=0;h<=u.fields.length&&!this.skip(s.TOKEN_RIGHT_BRACKET);h++){if(h===u.fields.length)if(c)this.fail("parseSlice: too many slice components",l.lineno,l.colno);else break;if(this.skip(s.TOKEN_COLON))c=!0;else{var m=u.fields[h];u[m]=this.parseExpression(),c=this.skip(s.TOKEN_COLON)||c}}if(!c)throw i();return new a.Array(l.lineno,l.colno,[u])}}}function c(e,t,o,n){e=e||[],null===t&&(t=n<0?e.length-1:0),null===o?o=n<0?-1:e.length:o<0&&(o+=e.length),t<0&&(t+=e.length);for(var i=[],a=t;!(a<0)&&!(a>e.length)&&(!(n>0)||!(a>=o))&&(!(n<0)||!(a<=o));a+=n)i.push(r.memberLookup(e,a));return i}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var m={pop:function(e){if(void 0===e)return this.pop();if(e>=this.length||e<0)throw Error("KeyError");return this.splice(e,1)},append:function(e){return this.push(e)},remove:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return this.splice(t,1);throw Error("ValueError")},count:function(e){for(var t=0,r=0;r<this.length;r++)this[r]===e&&t++;return t},index:function(e){var t;if(-1===(t=this.indexOf(e)))throw Error("ValueError");return t},find:function(e){return this.indexOf(e)},insert:function(e,t){return this.splice(e,0,t)}},g={items:function(){return o._entries(this)},values:function(){return o._values(this)},keys:function(){return o.keys(this)},get:function(e,t){var r=this[e];return void 0===r&&(r=t),r},has_key:function(e){return h(this,e)},pop:function(e,t){var r=this[e];if(void 0===r&&void 0!==t)r=t;else if(void 0===r)throw Error("KeyError");else delete this[e];return r},popitem:function(){var e=o.keys(this);if(!e.length)throw Error("KeyError");var t=e[0],r=this[t];return delete this[t],[t,r]},setdefault:function(e,t){return void 0===t&&(t=null),e in this||(this[e]=t),this[e]},update:function(e){return o._assign(this,e),null}};return g.iteritems=g.items,g.itervalues=g.values,g.iterkeys=g.keys,r.memberLookup=function(e,t,r){return 4==arguments.length?c.apply(this,arguments):(e=e||{},o.isArray(e)&&h(m,t))?m[t].bind(e):o.isObject(e)&&h(g,t)?g[t].bind(e):u.apply(this,arguments)},function(){r.contextOrFrameLookup=l,r.memberLookup=u,n&&(n.prototype.assertType=e),i&&(i.prototype.parseAggregate=t)}}},30998,(e,t,r)=>{"use strict";var o,n=e.r(28943),i=e.r(60668),a=i.Environment,s=i.Template,l=e.r(73446),u=e.r(4658),p=e.r(72124),d=e.r(51073),c=e.r(19195),h=e.r(39915),m=e.r(71841),g=e.r(71349),f=e.r(13986);function y(e,t){var r;return t=t||{},n.isObject(e)&&(t=e,e=null),u.FileSystemLoader?r=new u.FileSystemLoader(e,{watch:t.watch,noCache:t.noCache}):u.WebLoader&&(r=new u.WebLoader(e,{useCache:t.web&&t.web.useCache,async:t.web&&t.web.async})),o=new a(r,t),t&&t.express&&o.express(t.express),o}t.exports={Environment:a,Template:s,Loader:l,FileSystemLoader:u.FileSystemLoader,NodeResolveLoader:u.NodeResolveLoader,PrecompiledLoader:u.PrecompiledLoader,WebLoader:u.WebLoader,compiler:d,parser:c,lexer:h,runtime:m,lib:n,nodes:g,installJinjaCompat:f,configure:y,reset:function(){o=void 0},compile:function(e,t,r,n){return o||y(),new s(e,t,r,n)},render:function(e,t,r){return o||y(),o.render(e,t,r)},renderString:function(e,t,r){return o||y(),o.renderString(e,t,r)},precompile:p?p.precompile:void 0,precompileString:p?p.precompileString:void 0}},29344,(e,t,r)=>{"use strict";let o=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,n=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,i=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,a=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,s=new Map([["n","\n"],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1b"],["a","\x07"]]);function l(e){let t="u"===e[0],r="{"===e[1];return t&&!r&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):s.get(e)||e}function u(e,t){let r={};for(let e of t)for(let t of e.styles)r[t[0]]=e.inverse?null:t.slice(1);let o=e;for(let[e,t]of Object.entries(r))if(Array.isArray(t)){if(!(e in o))throw Error(`Unknown Chalk style: ${e}`);o=t.length>0?o[e](...t):o[e]}return o}t.exports=(e,t)=>{let r=[],s=[],p=[];if(t.replace(o,(t,o,d,c,h,m)=>{if(o)p.push(l(o));else if(c){let t=p.join("");p=[],s.push(0===r.length?t:u(e,r)(t)),r.push({inverse:d,styles:function(e){let t;n.lastIndex=0;let r=[];for(;null!==(t=n.exec(e));){let e=t[1];if(t[2]){let o=function(e,t){let r,o=[];for(let n of t.trim().split(/\s*,\s*/g)){let t=Number(n);if(Number.isNaN(t))if(r=n.match(i))o.push(r[2].replace(a,(e,t,r)=>t?l(t):r));else throw Error(`Invalid Chalk template style argument: ${n} (in style '${e}')`);else o.push(t)}return o}(e,t[2]);r.push([e].concat(o))}else r.push([e])}return r}(c)})}else if(h){if(0===r.length)throw Error("Found extraneous } in Chalk template literal");s.push(u(e,r)(p.join(""))),p=[],r.pop()}else p.push(m)}),s.push(p.join("")),r.length>0)throw Error(`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`);return s.join("")}},41381,(e,t,r)=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},43154,(e,t,r)=>{let o=e.r(41381),n={};for(let e of Object.keys(o))n[o[e]]=e;let i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(let e of(t.exports=i,Object.keys(i))){if(!("channels"in i[e]))throw Error("missing channels property: "+e);if(!("labels"in i[e]))throw Error("missing channel labels property: "+e);if(i[e].labels.length!==i[e].channels)throw Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=i[e];delete i[e].channels,delete i[e].labels,Object.defineProperty(i[e],"channels",{value:t}),Object.defineProperty(i[e],"labels",{value:r})}i.rgb.hsl=function(e){let t,r=e[0]/255,o=e[1]/255,n=e[2]/255,i=Math.min(r,o,n),a=Math.max(r,o,n),s=a-i;a===i?t=0:r===a?t=(o-n)/s:o===a?t=2+(n-r)/s:n===a&&(t=4+(r-o)/s),(t=Math.min(60*t,360))<0&&(t+=360);let l=(i+a)/2;return[t,100*(a===i?0:l<=.5?s/(a+i):s/(2-a-i)),100*l]},i.rgb.hsv=function(e){let t,r,o,n,i,a=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(a,s,l),p=u-Math.min(a,s,l),d=function(e){return(u-e)/6/p+.5};return 0===p?(n=0,i=0):(i=p/u,t=d(a),r=d(s),o=d(l),a===u?n=o-r:s===u?n=1/3+t-o:l===u&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[360*n,100*i,100*u]},i.rgb.hwb=function(e){let t=e[0],r=e[1],o=e[2];return[i.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(r,o))*100,100*(o=1-1/255*Math.max(t,Math.max(r,o)))]},i.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,o=e[2]/255,n=Math.min(1-t,1-r,1-o);return[100*((1-t-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-o-n)/(1-n)||0),100*n]},i.rgb.keyword=function(e){let t,r=n[e];if(r)return r;let i=1/0;for(let r of Object.keys(o)){let n=o[r],a=(e[0]-n[0])**2+(e[1]-n[1])**2+(e[2]-n[2])**2;a<i&&(i=a,t=r)}return t},i.keyword.rgb=function(e){return o[e]},i.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,o=e[2]/255;return[100*(.4124*(t=t>.04045?((t+.055)/1.055)**2.4:t/12.92)+.3576*(r=r>.04045?((r+.055)/1.055)**2.4:r/12.92)+.1805*(o=o>.04045?((o+.055)/1.055)**2.4:o/12.92)),100*(.2126*t+.7152*r+.0722*o),100*(.0193*t+.1192*r+.9505*o)]},i.rgb.lab=function(e){let t=i.rgb.xyz(e),r=t[0],o=t[1],n=t[2];return r/=95.047,o/=100,n/=108.883,[116*(o=o>.008856?o**(1/3):7.787*o+16/116)-16,500*((r=r>.008856?r**(1/3):7.787*r+16/116)-o),200*(o-(n=n>.008856?n**(1/3):7.787*n+16/116))]},i.hsl.rgb=function(e){let t,r,o,n=e[0]/360,i=e[1]/100,a=e[2]/100;if(0===i)return[o=255*a,o,o];t=a<.5?a*(1+i):a+i-a*i;let s=2*a-t,l=[0,0,0];for(let e=0;e<3;e++)(r=n+-(1/3*(e-1)))<0&&r++,r>1&&r--,o=6*r<1?s+(t-s)*6*r:2*r<1?t:3*r<2?s+(t-s)*(2/3-r)*6:s,l[e]=255*o;return l},i.hsl.hsv=function(e){let t=e[0],r=e[1]/100,o=e[2]/100,n=r,i=Math.max(o,.01);o*=2,r*=o<=1?o:2-o,n*=i<=1?i:2-i;let a=(o+r)/2;return[t,100*(0===o?2*n/(i+n):2*r/(o+r)),100*a]},i.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,o=e[2]/100,n=Math.floor(t)%6,i=t-Math.floor(t),a=255*o*(1-r),s=255*o*(1-r*i),l=255*o*(1-r*(1-i));switch(o*=255,n){case 0:return[o,l,a];case 1:return[s,o,a];case 2:return[a,o,l];case 3:return[a,s,o];case 4:return[l,a,o];case 5:return[o,a,s]}},i.hsv.hsl=function(e){let t,r,o=e[0],n=e[1]/100,i=e[2]/100,a=Math.max(i,.01);r=(2-n)*i;let s=(2-n)*a;return[o,100*(t=(t=n*a/(s<=1?s:2-s))||0),100*(r/=2)]},i.hwb.rgb=function(e){let t,r,o,n,i=e[0]/360,a=e[1]/100,s=e[2]/100,l=a+s;l>1&&(a/=l,s/=l);let u=Math.floor(6*i),p=1-s;t=6*i-u,(1&u)!=0&&(t=1-t);let d=a+t*(p-a);switch(u){default:case 6:case 0:r=p,o=d,n=a;break;case 1:r=d,o=p,n=a;break;case 2:r=a,o=p,n=d;break;case 3:r=a,o=d,n=p;break;case 4:r=d,o=a,n=p;break;case 5:r=p,o=a,n=d}return[255*r,255*o,255*n]},i.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,o=e[2]/100,n=e[3]/100;return[255*(1-Math.min(1,t*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,o*(1-n)+n))]},i.xyz.rgb=function(e){let t,r,o,n=e[0]/100,i=e[1]/100,a=e[2]/100;return t=(t=3.2406*n+-1.5372*i+-.4986*a)>.0031308?1.055*t**(1/2.4)-.055:12.92*t,r=(r=-.9689*n+1.8758*i+.0415*a)>.0031308?1.055*r**(1/2.4)-.055:12.92*r,o=(o=.0557*n+-.204*i+1.057*a)>.0031308?1.055*o**(1/2.4)-.055:12.92*o,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(o=Math.min(Math.max(0,o),1))]},i.xyz.lab=function(e){let t=e[0],r=e[1],o=e[2];return t/=95.047,r/=100,o/=108.883,[116*(r=r>.008856?r**(1/3):7.787*r+16/116)-16,500*((t=t>.008856?t**(1/3):7.787*t+16/116)-r),200*(r-(o=o>.008856?o**(1/3):7.787*o+16/116))]},i.lab.xyz=function(e){let t,r,o,n=e[0],i=e[1],a=e[2];t=i/500+(r=(n+16)/116),o=r-a/200;let s=r**3,l=t**3,u=o**3;return r=(s>.008856?s:(r-16/116)/7.787)*100,[t=(l>.008856?l:(t-16/116)/7.787)*95.047,r,o=(u>.008856?u:(o-16/116)/7.787)*108.883]},i.lab.lch=function(e){let t,r=e[0],o=e[1],n=e[2];return(t=360*Math.atan2(n,o)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(o*o+n*n),t]},i.lch.lab=function(e){let t=e[0],r=e[1],o=e[2]/360*2*Math.PI;return[t,r*Math.cos(o),r*Math.sin(o)]},i.rgb.ansi16=function(e,t=null){let[r,o,n]=e,a=null===t?i.rgb.hsv(e)[2]:t;if(0===(a=Math.round(a/50)))return 30;let s=30+(Math.round(n/255)<<2|Math.round(o/255)<<1|Math.round(r/255));return 2===a&&(s+=60),s},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){let t=e[0],r=e[1],o=e[2];return t===r&&r===o?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(o/255*5)},i.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];let r=(~~(e>50)+1)*.5;return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},i.ansi256.rgb=function(e){let t;if(e>=232){let t=(e-232)*10+8;return[t,t,t]}return[Math.floor((e-=16)/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},i.rgb.hex=function(e){let t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map(e=>e+e).join(""));let o=parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},i.rgb.hcg=function(e){let t,r=e[0]/255,o=e[1]/255,n=e[2]/255,i=Math.max(Math.max(r,o),n),a=Math.min(Math.min(r,o),n),s=i-a;return t=s<1?a/(1-s):0,[360*((s<=0?0:i===r?(o-n)/s%6:i===o?2+(n-r)/s:4+(r-o)/s)/6%1),100*s,100*t]},i.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,o=r<.5?2*t*r:2*t*(1-r),n=0;return o<1&&(n=(r-.5*o)/(1-o)),[e[0],100*o,100*n]},i.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,o=t*r,n=0;return o<1&&(n=(r-o)/(1-o)),[e[0],100*o,100*n]},i.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,o=e[2]/100;if(0===r)return[255*o,255*o,255*o];let n=[0,0,0],i=t%1*6,a=i%1,s=1-a,l=0;switch(Math.floor(i)){case 0:n[0]=1,n[1]=a,n[2]=0;break;case 1:n[0]=s,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=a;break;case 3:n[0]=0,n[1]=s,n[2]=1;break;case 4:n[0]=a,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=s}return l=(1-r)*o,[(r*n[0]+l)*255,(r*n[1]+l)*255,(r*n[2]+l)*255]},i.hcg.hsv=function(e){let t=e[1]/100,r=t+e[2]/100*(1-t),o=0;return r>0&&(o=t/r),[e[0],100*o,100*r]},i.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,o=0;return r>0&&r<.5?o=t/(2*r):r>=.5&&r<1&&(o=t/(2*(1-r))),[e[0],100*o,100*r]},i.hcg.hwb=function(e){let t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],(r-t)*100,(1-r)*100]},i.hwb.hcg=function(e){let t=e[1]/100,r=1-e[2]/100,o=r-t,n=0;return o<1&&(n=(r-o)/(1-o)),[e[0],100*o,100*n]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=function(e){return[0,0,e[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){let t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},1158,(e,t,r)=>{let o=e.r(43154);t.exports=function(e){let t=function(e){let t=function(){let e={},t=Object.keys(o);for(let r=t.length,o=0;o<r;o++)e[t[o]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;){let e=r.pop(),n=Object.keys(o[e]);for(let o=n.length,i=0;i<o;i++){let o=n[i],a=t[o];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,r.unshift(o))}}return t}(e),r={},n=Object.keys(t);for(let e=n.length,i=0;i<e;i++){let e=n[i];null!==t[e].parent&&(r[e]=function(e,t){let r=[t[e].parent,e],n=o[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=function(e,t){return function(r){return t(e(r))}}(o[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}(e,t))}return r}},11770,(e,t,r)=>{let o=e.r(43154),n=e.r(1158),i={};Object.keys(o).forEach(e=>{i[e]={},Object.defineProperty(i[e],"channels",{value:o[e].channels}),Object.defineProperty(i[e],"labels",{value:o[e].labels});let t=n(e);Object.keys(t).forEach(r=>{let o,n,a=t[r];i[e][r]=(o=function(...e){let t=e[0];if(null==t)return t;t.length>1&&(e=t);let r=a(e);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r},"conversion"in a&&(o.conversion=a.conversion),o),i[e][r].raw=(n=function(...e){let t=e[0];return null==t?t:(t.length>1&&(e=t),a(e))},"conversion"in a&&(n.conversion=a.conversion),n)})}),t.exports=i},27950,(e,t,r)=>{"use strict";let o,n=(e,t)=>(...r)=>{let o=e(...r);return`\u001B[${o+t}m`},i=(e,t)=>(...r)=>{let o=e(...r);return`\u001B[${38+t};5;${o}m`},a=(e,t)=>(...r)=>{let o=e(...r);return`\u001B[${38+t};2;${o[0]};${o[1]};${o[2]}m`},s=e=>e,l=(e,t,r)=>[e,t,r],u=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let o=r();return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0}),o},enumerable:!0,configurable:!0})},p=(t,r,n,i)=>{void 0===o&&(o=e.r(11770));let a=10*!!i,s={};for(let[e,i]of Object.entries(o)){let o="ansi16"===e?"ansi":e;e===r?s[o]=t(n,a):"object"==typeof i&&(s[o]=t(i[r],a))}return s};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};for(let[r,o]of(t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright,Object.entries(t))){for(let[r,n]of Object.entries(o))t[r]={open:`\u001B[${n[0]}m`,close:`\u001B[${n[1]}m`},o[r]=t[r],e.set(n[0],n[1]);Object.defineProperty(t,r,{value:o,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",u(t.color,"ansi",()=>p(n,"ansi16",s,!1)),u(t.color,"ansi256",()=>p(i,"ansi256",s,!1)),u(t.color,"ansi16m",()=>p(a,"rgb",l,!1)),u(t.bgColor,"ansi",()=>p(n,"ansi16",s,!0)),u(t.bgColor,"ansi256",()=>p(i,"ansi256",s,!0)),u(t.bgColor,"ansi16m",()=>p(a,"rgb",l,!0)),t}})},70722,(e,t,r)=>{t.exports=e.x("tty",()=>require("tty"))},695,(e,t,r)=>{"use strict";t.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",o=t.indexOf(r+e),n=t.indexOf("--");return -1!==o&&(-1===n||o<n)}},26964,(e,t,r)=>{"use strict";let o;e.r(46786);let n=e.r(70722),i=e.r(695),{env:a}=process;function s(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===o)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===o)return 0;let r=o||0;if("dumb"===a.TERM)return r;if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:r;if("TEAMCITY_VERSION"in a)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION);if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){let e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?o=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=1),"FORCE_COLOR"in a&&(o="true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(parseInt(a.FORCE_COLOR,10),3)),t.exports={supportsColor:function(e){return s(l(e,e&&e.isTTY))},stdout:s(l(!0,n.isatty(1))),stderr:s(l(!0,n.isatty(2)))}},25120,(e,t,r)=>{"use strict";t.exports={stringReplaceAll:(e,t,r)=>{let o=e.indexOf(t);if(-1===o)return e;let n=t.length,i=0,a="";do a+=e.substr(i,o-i)+t+r,i=o+n,o=e.indexOf(t,i);while(-1!==o)return a+e.substr(i)},stringEncaseCRLFWithFirstIndex:(e,t,r,o)=>{let n=0,i="";do{let a="\r"===e[o-1];i+=e.substr(n,(a?o-1:o)-n)+t+(a?"\r\n":"\n")+r,n=o+1,o=e.indexOf("\n",n)}while(-1!==o)return i+e.substr(n)}}},49717,(e,t,r)=>{"use strict";let o,n=e.r(27950),{stdout:i,stderr:a}=e.r(26964),{stringReplaceAll:s,stringEncaseCRLFWithFirstIndex:l}=e.r(25120),{isArray:u}=Array,p=["ansi","ansi","ansi256","ansi16m"],d=Object.create(null);class c{constructor(e){return h(e)}}let h=e=>{let t={};return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw Error("The `level` option should be an integer from 0 to 3");let r=i?i.level:0;e.level=void 0===t.level?r:t.level})(t,e),t.template=(...e)=>b(t.template,...e),Object.setPrototypeOf(t,m.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=c,t.template};function m(e){return h(e)}for(let[e,t]of Object.entries(n))d[e]={get(){let r=_(this,y(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};d.visible={get(){let e=_(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};let g=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of g)d[e]={get(){let{level:t}=this;return function(...r){return _(this,y(n.color[p[t]][e](...r),n.color.close,this._styler),this._isEmpty)}}};for(let e of g)d["bg"+e[0].toUpperCase()+e.slice(1)]={get(){let{level:t}=this;return function(...r){return _(this,y(n.bgColor[p[t]][e](...r),n.bgColor.close,this._styler),this._isEmpty)}}};let f=Object.defineProperties(()=>{},{...d,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),y=(e,t,r)=>{let o,n;return void 0===r?(o=e,n=t):(o=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:o,closeAll:n,parent:r}},_=(e,t,r)=>{let o=(...e)=>u(e[0])&&u(e[0].raw)?v(o,b(o,...e)):v(o,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(o,f),o._generator=e,o._styler=t,o._isEmpty=r,o},v=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(void 0===r)return t;let{openAll:o,closeAll:n}=r;if(-1!==t.indexOf("\x1b"))for(;void 0!==r;)t=s(t,r.close,r.open),r=r.parent;let i=t.indexOf("\n");return -1!==i&&(t=l(t,n,o,i)),o+t+n},b=(t,...r)=>{let[n]=r;if(!u(n)||!u(n.raw))return r.join(" ");let i=r.slice(1),a=[n.raw[0]];for(let e=1;e<n.length;e++)a.push(String(i[e-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[e]));return void 0===o&&(o=e.r(29344)),o(t,a.join(""))};Object.defineProperties(m.prototype,d);let w=h(void 0);w.supportsColor=i,w.stderr=h({level:a?a.level:0}),w.stderr.supportsColor=a,t.exports=w},59982,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getType=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(Array.isArray(e))return"array";if("boolean"==typeof e)return"boolean";if("function"==typeof e)return"function";else if("number"==typeof e)return"number";else if("string"==typeof e)return"string";else if("bigint"==typeof e)return"bigint";else if("object"==typeof e){if(null!=e){if(e.constructor===RegExp)return"regexp";else if(e.constructor===Map)return"map";else if(e.constructor===Set)return"set";else if(e.constructor===Date)return"date"}return"object"}else if("symbol"==typeof e)return"symbol";throw Error(`value of unknown type: ${e}`)},r.isPrimitive=void 0,r.isPrimitive=e=>Object(e)!==e},59592,(e,t,r)=>{"use strict";let o=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,n=(e=0)=>(t,r,o)=>`\u001B[${38+e};2;${t};${r};${o}m`;Object.defineProperty(t,"exports",{enumerable:!0,get:function(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};for(let[r,o]of(t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright,Object.entries(t))){for(let[r,n]of Object.entries(o))t[r]={open:`\u001B[${n[0]}m`,close:`\u001B[${n[1]}m`},o[r]=t[r],e.set(n[0],n[1]);Object.defineProperty(t,r,{value:o,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=o(),t.color.ansi16m=n(),t.bgColor.ansi256=o(10),t.bgColor.ansi16m=n(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;3===r.length&&(r=r.split("").map(e=>e+e).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},4446,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.printIteratorEntries=function(e,t,r,o,n,i,a=": "){let s="",l=0,u=e.next();if(!u.done){s+=t.spacingOuter;let p=r+t.indent;for(;!u.done;){if(s+=p,l++===t.maxWidth){s+="â¦";break}s+=i(u.value[0],t,p,o,n)+a+i(u.value[1],t,p,o,n),(u=e.next()).done?t.min||(s+=","):s+=`,${t.spacingInner}`}s+=t.spacingOuter+r}return s},r.printIteratorValues=function(e,t,r,o,n,i){let a="",s=0,l=e.next();if(!l.done){a+=t.spacingOuter;let u=r+t.indent;for(;!l.done;){if(a+=u,s++===t.maxWidth){a+="â¦";break}a+=i(l.value,t,u,o,n),(l=e.next()).done?t.min||(a+=","):a+=`,${t.spacingInner}`}a+=t.spacingOuter+r}return a},r.printListItems=function(e,t,r,o,n,i){let a="";if(e.length){a+=t.spacingOuter;let s=r+t.indent;for(let r=0;r<e.length;r++){if(a+=s,r===t.maxWidth){a+="â¦";break}r in e&&(a+=i(e[r],t,s,o,n)),r<e.length-1?a+=`,${t.spacingInner}`:t.min||(a+=",")}a+=t.spacingOuter+r}return a},r.printObjectProperties=function(e,t,r,o,n,i){var a;let s,l,u="",p=(a=t.compareKeys,s=Object.keys(e),l=null!==a?s.sort(a):s,Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(t=>{Object.getOwnPropertyDescriptor(e,t).enumerable&&l.push(t)}),l);if(p.length){u+=t.spacingOuter;let a=r+t.indent;for(let r=0;r<p.length;r++){let s=p[r],l=i(s,t,a,o,n),d=i(e[s],t,a,o,n);u+=`${a+l}: ${d}`,r<p.length-1?u+=`,${t.spacingInner}`:t.min||(u+=",")}u+=t.spacingOuter+r}return u}},92049,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var o=e.r(4446),n=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol;let i="function"==typeof n&&n.for?n.for("jest.asymmetricMatcher"):1267621,a=(e,t,r,n,i,a)=>{let s=e.toString();if("ArrayContaining"===s||"ArrayNotContaining"===s)return++n>t.maxDepth?`[${s}]`:`${s+" "}[${(0,o.printListItems)(e.sample,t,r,n,i,a)}]`;if("ObjectContaining"===s||"ObjectNotContaining"===s)return++n>t.maxDepth?`[${s}]`:`${s+" "}{${(0,o.printObjectProperties)(e.sample,t,r,n,i,a)}}`;if("StringMatching"===s||"StringNotMatching"===s||"StringContaining"===s||"StringNotContaining"===s)return s+" "+a(e.sample,t,r,n,i);if("function"!=typeof e.toAsymmetricMatcher)throw Error(`Asymmetric matcher ${e.constructor.name} does not implement toAsymmetricMatcher()`);return e.toAsymmetricMatcher()};r.serialize=a;let s=e=>e&&e.$$typeof===i;r.test=s,r.default={serialize:a,test:s}},27749,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var o=e.r(4446);let n=["DOMStringMap","NamedNodeMap"],i=/^(HTML\w*Collection|NodeList)$/,a=e=>{let t;return e&&e.constructor&&!!e.constructor.name&&(t=e.constructor.name,-1!==n.indexOf(t)||i.test(t))};r.test=a;let s=(e,t,r,i,a,s)=>{let l=e.constructor.name;return++i>t.maxDepth?`[${l}]`:(t.min?"":l+" ")+(-1!==n.indexOf(l)?`{${(0,o.printObjectProperties)("NamedNodeMap"===e.constructor.name?Array.from(e).reduce((e,t)=>(e[t.name]=t.value,e),{}):{...e},t,r,i,a,s)}}`:`[${(0,o.printListItems)(Array.from(e),t,r,i,a,s)}]`)};r.serialize=s,r.default={serialize:s,test:a}},98385,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},88782,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.printText=r.printProps=r.printElementAsLeaf=r.printElement=r.printComment=r.printChildren=void 0;var o,n=(o=e.r(98385))&&o.__esModule?o:{default:o};r.printProps=(e,t,r,o,n,i,a)=>{let s=o+r.indent,l=r.colors;return e.map(e=>{let u=t[e],p=a(u,r,s,n,i);return"string"!=typeof u&&(-1!==p.indexOf("\n")&&(p=r.spacingOuter+s+p+r.spacingOuter+o),p=`{${p}}`),`${r.spacingInner+o+l.prop.open+e+l.prop.close}=${l.value.open}${p}${l.value.close}`}).join("")},r.printChildren=(e,t,r,o,n,a)=>e.map(e=>t.spacingOuter+r+("string"==typeof e?i(e,t):a(e,t,r,o,n))).join("");let i=(e,t)=>{let r=t.colors.content;return r.open+(0,n.default)(e)+r.close};r.printText=i,r.printComment=(e,t)=>{let r=t.colors.comment;return`${r.open}<!--${(0,n.default)(e)}-->${r.close}`},r.printElement=(e,t,r,o,n)=>{let i=o.colors.tag;return`${i.open}<${e}${t&&i.close+t+o.spacingOuter+n+i.open}${r?`>${i.close}${r}${o.spacingOuter}${n}${i.open}</${e}`:`${t&&!o.min?"":" "}/`}>${i.close}`},r.printElementAsLeaf=(e,t)=>{let r=t.colors.tag;return`${r.open}<${e}${r.close} â¦${r.open} />${r.close}`}},42453,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var o=e.r(88782);let n=/^((HTML|SVG)\w*)?Element$/,i=e=>e?.constructor?.name&&(e=>{let t=e.constructor.name,{nodeType:r,tagName:o}=e,i="string"==typeof o&&o.includes("-")||(e=>{try{return"function"==typeof e.hasAttribute&&e.hasAttribute("is")}catch{return!1}})(e);return 1===r&&(n.test(t)||i)||3===r&&"Text"===t||8===r&&"Comment"===t||11===r&&"DocumentFragment"===t})(e);function a(e){return 11===e.nodeType}r.test=i;let s=(e,t,r,n,i,s)=>{if(3===e.nodeType)return(0,o.printText)(e.data,t);if(8===e.nodeType)return(0,o.printComment)(e.data,t);let l=a(e)?"DocumentFragment":e.tagName.toLowerCase();return++n>t.maxDepth?(0,o.printElementAsLeaf)(l,t):(0,o.printElement)(l,(0,o.printProps)(a(e)?[]:Array.from(e.attributes,e=>e.name).sort(),a(e)?{}:Array.from(e.attributes).reduce((e,t)=>(e[t.name]=t.value,e),{}),t,r+t.indent,n,i,s),(0,o.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,r+t.indent,n,i,s),t,r)};r.serialize=s,r.default={serialize:s,test:i}},92689,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var o=e.r(4446);let n="@@__IMMUTABLE_ORDERED__@@",i=e=>`Immutable.${e}`,a=e=>`[${e}]`,s=(e,t,r,n,s,l,u)=>++n>t.maxDepth?a(i(u)):`${i(u)+" "}[${(0,o.printIteratorValues)(e.values(),t,r,n,s,l)}]`,l=(e,t,r,l,u,p)=>{var d,c;let h,m;if(e["@@__IMMUTABLE_MAP__@@"]){let s,d;return s=l,d=e[n]?"OrderedMap":"Map",++s>t.maxDepth?a(i(d)):`${i(d)+" "}{${(0,o.printIteratorEntries)(e.entries(),t,r,s,u,p)}}`}if(e["@@__IMMUTABLE_LIST__@@"])return s(e,t,r,l,u,p,"List");if(e["@@__IMMUTABLE_SET__@@"])return s(e,t,r,l,u,p,e[n]?"OrderedSet":"Set");if(e["@@__IMMUTABLE_STACK__@@"])return s(e,t,r,l,u,p,"Stack");if(e["@@__IMMUTABLE_SEQ__@@"]){let n;return d=l,n=i("Seq"),++d>t.maxDepth?a(n):e["@@__IMMUTABLE_KEYED__@@"]?`${n+" "}{${e._iter||e._object?(0,o.printIteratorEntries)(e.entries(),t,r,d,u,p):"â¦"}}`:`${n+" "}[${e._iter||e._array||e._collection||e._iterable?(0,o.printIteratorValues)(e.values(),t,r,d,u,p):"â¦"}]`}return c=l,h=i(e._name||"Record"),++c>t.maxDepth?a(h):`${h+" "}{${(0,o.printIteratorEntries)((m=0,{next(){if(m<e._keys.length){let t=e._keys[m++];return{done:!1,value:[t,e.get(t)]}}return{done:!0,value:void 0}}}),t,r,c,u,p)}}`};r.serialize=l;let u=e=>e&&(!0===e["@@__IMMUTABLE_ITERABLE__@@"]||!0===e["@@__IMMUTABLE_RECORD__@@"]);r.test=u,r.default={serialize:l,test:u}},56264,(e,t,r)=>{"use strict";var o,n=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),p=Symbol.for("react.context"),d=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case l:case s:case h:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case c:case f:case g:case u:return e;default:return t}}case i:return t}}}o=Symbol.for("react.module.reference"),r.ContextConsumer=p,r.ContextProvider=u,r.Element=n,r.ForwardRef=c,r.Fragment=a,r.Lazy=f,r.Memo=g,r.Portal=i,r.Profiler=l,r.StrictMode=s,r.Suspense=h,r.SuspenseList=m,r.isAsyncMode=function(){return!1},r.isConcurrentMode=function(){return!1},r.isContextConsumer=function(e){return _(e)===p},r.isContextProvider=function(e){return _(e)===u},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},r.isForwardRef=function(e){return _(e)===c},r.isFragment=function(e){return _(e)===a},r.isLazy=function(e){return _(e)===f},r.isMemo=function(e){return _(e)===g},r.isPortal=function(e){return _(e)===i},r.isProfiler=function(e){return _(e)===l},r.isStrictMode=function(e){return _(e)===s},r.isSuspense=function(e){return _(e)===h},r.isSuspenseList=function(e){return _(e)===m},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===l||e===s||e===h||e===m||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===u||e.$$typeof===p||e.$$typeof===c||e.$$typeof===o||void 0!==e.getModuleId)||!1},r.typeOf=_},29514,(e,t,r)=>{"use strict";t.exports=e.r(56264)},63308,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(void 0);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,r&&r.set(e,o),o}(e.r(29514)),n=e.r(88782);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let a=(e,t=[])=>(Array.isArray(e)?e.forEach(e=>{a(e,t)}):null!=e&&!1!==e&&t.push(e),t),s=e=>{let t=e.type;if("string"==typeof t)return t;if("function"==typeof t)return t.displayName||t.name||"Unknown";if(o.isFragment(e))return"React.Fragment";if(o.isSuspense(e))return"React.Suspense";if("object"==typeof t&&null!==t){if(o.isContextProvider(e))return"Context.Provider";if(o.isContextConsumer(e))return"Context.Consumer";if(o.isForwardRef(e)){if(t.displayName)return t.displayName;let e=t.render.displayName||t.render.name||"";return""!==e?`ForwardRef(${e})`:"ForwardRef"}if(o.isMemo(e)){let e=t.displayName||t.type.displayName||t.type.name||"";return""!==e?`Memo(${e})`:"Memo"}}return"UNDEFINED"},l=(e,t,r,o,i,l)=>++o>t.maxDepth?(0,n.printElementAsLeaf)(s(e),t):(0,n.printElement)(s(e),(0,n.printProps)((e=>{let{props:t}=e;return Object.keys(t).filter(e=>"children"!==e&&void 0!==t[e]).sort()})(e),e.props,t,r+t.indent,o,i,l),(0,n.printChildren)(a(e.props.children),t,r+t.indent,o,i,l),t,r);r.serialize=l;let u=e=>null!=e&&o.isElement(e);r.test=u,r.default={serialize:l,test:u}},78951,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.test=r.serialize=r.default=void 0;var o=e.r(88782),n=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol;let i="function"==typeof n&&n.for?n.for("react.test.json"):0xea71357,a=(e,t,r,n,i,a)=>++n>t.maxDepth?(0,o.printElementAsLeaf)(e.type,t):(0,o.printElement)(e.type,e.props?(0,o.printProps)((e=>{let{props:t}=e;return t?Object.keys(t).filter(e=>void 0!==t[e]).sort():[]})(e),e.props,t,r+t.indent,n,i,a):"",e.children?(0,o.printChildren)(e.children,t,r+t.indent,n,i,a):"",t,r);r.serialize=a;let s=e=>e&&e.$$typeof===i;r.test=s,r.default={serialize:a,test:s}},29742,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.DEFAULT_OPTIONS=void 0,r.format=A,r.plugins=void 0;var o=d(e.r(59592)),n=e.r(4446),i=d(e.r(92049)),a=d(e.r(27749)),s=d(e.r(42453)),l=d(e.r(92689)),u=d(e.r(63308)),p=d(e.r(78951));function d(e){return e&&e.__esModule?e:{default:e}}let c=Object.prototype.toString,h=Date.prototype.toISOString,m=Error.prototype.toString,g=RegExp.prototype.toString,f=e=>"function"==typeof e.constructor&&e.constructor.name||"Object",y=/^Symbol\((.*)\)(.*)$/,_=/\n/gi;class v extends Error{constructor(e,t){super(e),this.stack=t,this.name=this.constructor.name}}function b(e,t){return t?`[Function ${e.name||"anonymous"}]`:"[Function]"}function w(e){return String(e).replace(y,"Symbol($1)")}function D(e){return`[${m.call(e)}]`}function C(e,t,r,o){if(!0===e||!1===e)return`${e}`;if(void 0===e)return"undefined";if(null===e)return"null";let n=typeof e;if("number"===n)return Object.is(e,-0)?"-0":String(e);if("bigint"===n)return String(`${e}n`);if("string"===n)return o?`"${e.replace(/"|\\/g,"\\$&")}"`:`"${e}"`;if("function"===n)return b(e,t);if("symbol"===n)return w(e);let i=c.call(e);return"[object WeakMap]"===i?"WeakMap {}":"[object WeakSet]"===i?"WeakSet {}":"[object Function]"===i||"[object GeneratorFunction]"===i?b(e,t):"[object Symbol]"===i?w(e):"[object Date]"===i?isNaN(+e)?"Date { NaN }":h.call(e):"[object Error]"===i?D(e):"[object RegExp]"===i?r?g.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):g.call(e):e instanceof Error?D(e):null}function E(e,t,r,o,i,a){if(-1!==i.indexOf(e))return"[Circular]";(i=i.slice()).push(e);let s=++o>t.maxDepth,l=t.min;if(t.callToJSON&&!s&&e.toJSON&&"function"==typeof e.toJSON&&!a)return T(e.toJSON(),t,r,o,i,!0);let u=c.call(e);return"[object Arguments]"===u?s?"[Arguments]":`${l?"":"Arguments "}[${(0,n.printListItems)(e,t,r,o,i,T)}]`:"[object Array]"===u||"[object ArrayBuffer]"===u||"[object DataView]"===u||"[object Float32Array]"===u||"[object Float64Array]"===u||"[object Int8Array]"===u||"[object Int16Array]"===u||"[object Int32Array]"===u||"[object Uint8Array]"===u||"[object Uint8ClampedArray]"===u||"[object Uint16Array]"===u||"[object Uint32Array]"===u?s?`[${e.constructor.name}]`:`${l||!t.printBasicPrototype&&"Array"===e.constructor.name?"":`${e.constructor.name} `}[${(0,n.printListItems)(e,t,r,o,i,T)}]`:"[object Map]"===u?s?"[Map]":`Map {${(0,n.printIteratorEntries)(e.entries(),t,r,o,i,T," => ")}}`:"[object Set]"===u?s?"[Set]":`Set {${(0,n.printIteratorValues)(e.values(),t,r,o,i,T)}}`:s?`[${f(e)}]`:`${l||!t.printBasicPrototype&&"Object"===f(e)?"":`${f(e)} `}{${(0,n.printObjectProperties)(e,t,r,o,i,T)}}`}function k(e,t,r,o,n,i){let a;try{a=null!=e.serialize?e.serialize(t,r,o,n,i,T):e.print(t,e=>T(e,r,o,n,i),e=>{let t=o+r.indent;return t+e.replace(_,`
${t}`)},{edgeSpacing:r.spacingOuter,min:r.min,spacing:r.spacingInner},r.colors)}catch(e){throw new v(e.message,e.stack)}if("string"!=typeof a)throw Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof a}".`);return a}function x(e,t){for(let r=0;r<e.length;r++)try{if(e[r].test(t))return e[r]}catch(e){throw new v(e.message,e.stack)}return null}function T(e,t,r,o,n,i){let a=x(t.plugins,e);if(null!==a)return k(a,e,t,r,o,n);let s=C(e,t.printFunctionName,t.escapeRegex,t.escapeString);return null!==s?s:E(e,t,r,o,n,i)}let S={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},R=Object.keys(S),j={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,maxWidth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:S};r.DEFAULT_OPTIONS=j;let F=e=>e?.printFunctionName??j.printFunctionName,P=e=>e?.escapeRegex??j.escapeRegex,O=e=>e?.escapeString??j.escapeString,I=e=>({callToJSON:e?.callToJSON??j.callToJSON,colors:e?.highlight?R.reduce((t,r)=>{let n=e.theme&&void 0!==e.theme[r]?e.theme[r]:S[r],i=n&&o.default[n];if(i&&"string"==typeof i.close&&"string"==typeof i.open)t[r]=i;else throw Error(`pretty-format: Option "theme" has a key "${r}" whose value "${n}" is undefined in ansi-styles.`);return t},Object.create(null)):R.reduce((e,t)=>(e[t]={close:"",open:""},e),Object.create(null)),compareKeys:"function"==typeof e?.compareKeys||e?.compareKeys===null?e.compareKeys:j.compareKeys,escapeRegex:P(e),escapeString:O(e),indent:e?.min?"":Array((e?.indent??j.indent)+1).join(" "),maxDepth:e?.maxDepth??j.maxDepth,maxWidth:e?.maxWidth??j.maxWidth,min:e?.min??j.min,plugins:e?.plugins??j.plugins,printBasicPrototype:e?.printBasicPrototype??!0,printFunctionName:F(e),spacingInner:e?.min?" ":"\n",spacingOuter:e?.min?"":"\n"});function A(e,t){if(t){if(Object.keys(t).forEach(e=>{if(!Object.prototype.hasOwnProperty.call(j,e))throw Error(`pretty-format: Unknown option "${e}".`)}),t.min&&void 0!==t.indent&&0!==t.indent)throw Error('pretty-format: Options "min" and "indent" cannot be used together.');if(void 0!==t.theme){if(null===t.theme)throw Error('pretty-format: Option "theme" must not be null.');if("object"!=typeof t.theme)throw Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof t.theme}".`)}if(t.plugins){let r=x(t.plugins,e);if(null!==r)return k(r,e,I(t),"",0,[])}}let r=C(e,F(t),P(t),O(t));return null!==r?r:E(e,I(t),"",0,[])}r.plugins={AsymmetricMatcher:i.default,DOMCollection:a.default,DOMElement:s.default,Immutable:l.default,ReactElement:u.default,ReactTestComponent:p.default},r.default=A},22413,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cleanupSemantic=r.Diff=r.DIFF_INSERT=r.DIFF_EQUAL=r.DIFF_DELETE=void 0,r.DIFF_DELETE=-1,r.DIFF_INSERT=1,r.DIFF_EQUAL=0;class o{0;1;constructor(e,t){this[0]=e,this[1]=t}}r.Diff=o;var n=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,o=Math.min(e.length,t.length),n=o,i=0;r<n;)e.substring(i,n)==t.substring(i,n)?i=r=n:o=n,n=Math.floor((o-r)/2+r);return n},i=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,o=Math.min(e.length,t.length),n=o,i=0;r<n;)e.substring(e.length-n,e.length-i)==t.substring(t.length-n,t.length-i)?i=r=n:o=n,n=Math.floor((o-r)/2+r);return n},a=function(e,t){var r=e.length,o=t.length;if(0==r||0==o)return 0;r>o?e=e.substring(r-o):r<o&&(t=t.substring(0,r));var n=Math.min(r,o);if(e==t)return n;for(var i=0,a=1;;){var s=e.substring(n-a),l=t.indexOf(s);if(-1==l)return i;a+=l,(0==l||e.substring(n-a)==t.substring(0,a))&&(i=a,a++)}};r.cleanupSemantic=function(e){for(var t=!1,r=[],n=0,i=null,l=0,u=0,p=0,d=0,c=0;l<e.length;)0==e[l][0]?(r[n++]=l,u=d,p=c,d=0,c=0,i=e[l][1]):(1==e[l][0]?d+=e[l][1].length:c+=e[l][1].length,i&&i.length<=Math.max(u,p)&&i.length<=Math.max(d,c)&&(e.splice(r[n-1],0,new o(-1,i)),e[r[n-1]+1][0]=1,n--,l=--n>0?r[n-1]:-1,u=0,p=0,d=0,c=0,i=null,t=!0)),l++;for(t&&h(e),s(e),l=1;l<e.length;){if(-1==e[l-1][0]&&1==e[l][0]){var m=e[l-1][1],g=e[l][1],f=a(m,g),y=a(g,m);f>=y?(f>=m.length/2||f>=g.length/2)&&(e.splice(l,0,new o(0,g.substring(0,f))),e[l-1][1]=m.substring(0,m.length-f),e[l+1][1]=g.substring(f),l++):(y>=m.length/2||y>=g.length/2)&&(e.splice(l,0,new o(0,m.substring(0,y))),e[l-1][0]=1,e[l-1][1]=g.substring(0,g.length-y),e[l+1][0]=-1,e[l+1][1]=m.substring(y),l++),l++}l++}};var s=function(e){function t(e,t){if(!e||!t)return 6;var r=e.charAt(e.length-1),o=t.charAt(0),n=r.match(l),i=o.match(l),a=n&&r.match(u),s=i&&o.match(u),h=a&&r.match(p),m=s&&o.match(p),g=h&&e.match(d),f=m&&t.match(c);if(g||f)return 5;if(h||m)return 4;if(n&&!a&&s)return 3;if(a||s)return 2;if(n||i)return 1;return 0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var o=e[r-1][1],n=e[r][1],a=e[r+1][1],s=i(o,n);if(s){var h=n.substring(n.length-s);o=o.substring(0,o.length-s),n=h+n.substring(0,n.length-s),a=h+a}for(var m=o,g=n,f=a,y=t(o,n)+t(n,a);n.charAt(0)===a.charAt(0);){o+=n.charAt(0),n=n.substring(1)+a.charAt(0),a=a.substring(1);var _=t(o,n)+t(n,a);_>=y&&(y=_,m=o,g=n,f=a)}e[r-1][1]!=m&&(m?e[r-1][1]=m:(e.splice(r-1,1),r--),e[r][1]=g,f?e[r+1][1]=f:(e.splice(r+1,1),r--))}r++}},l=/[^a-zA-Z0-9]/,u=/\s/,p=/[\r\n]/,d=/\n\r?\n$/,c=/^\r?\n\r?\n/,h=function(e){e.push(new o(0,""));for(var t,r=0,a=0,s=0,l="",u="";r<e.length;)switch(e[r][0]){case 1:s++,u+=e[r][1],r++;break;case -1:a++,l+=e[r][1],r++;break;case 0:a+s>1?(0!==a&&0!==s&&(0!==(t=n(u,l))&&(r-a-s>0&&0==e[r-a-s-1][0]?e[r-a-s-1][1]+=u.substring(0,t):(e.splice(0,0,new o(0,u.substring(0,t))),r++),u=u.substring(t),l=l.substring(t)),0!==(t=i(u,l))&&(e[r][1]=u.substring(u.length-t)+e[r][1],u=u.substring(0,u.length-t),l=l.substring(0,l.length-t))),r-=a+s,e.splice(r,a+s),l.length&&(e.splice(r,0,new o(-1,l)),r++),u.length&&(e.splice(r,0,new o(1,u)),r++),r++):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,a=0,l="",u=""}""===e[e.length-1][1]&&e.pop();var p=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),p=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),p=!0)),r++;p&&h(e)}},71278,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SIMILAR_MESSAGE=r.NO_DIFF_MESSAGE=void 0,r.NO_DIFF_MESSAGE="Compared values have no visual difference.",r.SIMILAR_MESSAGE="Compared values serialize to the same structure.\nPrinting internal object structure without calling `toJSON` instead."},27884,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r,o){d("aLength",e),d("bLength",t),c("isCommon",r),c("foundSubsequence",o);let a=n(0,e,0,t,r);if(0!==a&&o(a,0,0),e!==a||t!==a){let n=i(a,e-1,a,t-1,r),s=e-n,l=t-n,u=a+n;e!==u&&t!==u&&p(0,a,s,a,l,!1,[{foundSubsequence:o,isCommon:r}],[0],[0],{aCommonFollowing:0,aCommonPreceding:0,aEndPreceding:0,aStartFollowing:0,bCommonFollowing:0,bCommonPreceding:0,bEndPreceding:0,bStartFollowing:0,nChangeFollowing:0,nChangePreceding:0,nCommonFollowing:0,nCommonPreceding:0}),0!==n&&o(n,s,l)}};let o="diff-sequences",n=(e,t,r,o,n)=>{let i=0;for(;e<t&&r<o&&n(e,r);)e+=1,r+=1,i+=1;return i},i=(e,t,r,o,n)=>{let i=0;for(;e<=t&&r<=o&&n(t,o);)t-=1,o-=1,i+=1;return i},a=(e,t,r,o,i,a,s)=>{let l=0,u=-e,p=a[0],d=p;a[l]+=n(p+1,t,o+p-u+1,r,i);let c=e<s?e:s;for(l+=1,u+=2;l<=c;l+=1,u+=2){if(l!==e&&d<a[l])p=a[l];else if(t<=(p=d+1))return l-1;d=a[l],a[l]=p+n(p+1,t,o+p-u+1,r,i)}return s},s=(e,t,r,o,n,a,s)=>{let l=0,u=e,p=a[0],d=p;a[l]-=i(t,p-1,r,o+p-u-1,n);let c=e<s?e:s;for(l+=1,u-=2;l<=c;l+=1,u-=2){if(l!==e&&a[l]<d)p=a[l];else if((p=d-1)<t)return l-1;d=a[l],a[l]=p-i(t,p-1,r,o+p-u-1,n)}return s},l=(e,t,r,o,a,s,l,u,p,d,c)=>{let h=o-t,m=a-o-(r-t),g=-m-(e-1),f=-m+(e-1),y=0,_=e<u?e:u;for(let u=0,v=-e;u<=_;u+=1,v+=2){let _=0===u||u!==e&&y<l[u],b=_?l[u]:y,w=_?b:b+1,D=h+w-v,C=n(w+1,r,D+1,a,s),E=w+C;if(y=l[u],l[u]=E,g<=v&&v<=f){let n=(e-1-(v+m))/2;if(n<=d&&p[n]-1<=E){let n=h+b-(_?v+1:v-1),l=i(t,b,o,n,s),u=b-l+1,p=n-l+1;c.nChangePreceding=e-1,e-1==u+p-t-o?(c.aEndPreceding=t,c.bEndPreceding=o):(c.aEndPreceding=u,c.bEndPreceding=p),c.nCommonPreceding=l,0!==l&&(c.aCommonPreceding=u,c.bCommonPreceding=p),c.nCommonFollowing=C,0!==C&&(c.aCommonFollowing=w+1,c.bCommonFollowing=D+1);let d=E+1,m=D+C+1;return c.nChangeFollowing=e-1,e-1==r+a-d-m?(c.aStartFollowing=r,c.bStartFollowing=a):(c.aStartFollowing=d,c.bStartFollowing=m),!0}}}return!1},u=(e,t,r,o,a,s,l,u,p,d,c)=>{let h=a-r,m=a-o-(r-t),g=m-e,f=m+e,y=0,_=e<d?e:d;for(let d=0,v=e;d<=_;d+=1,v-=2){let _=0===d||d!==e&&p[d]<y,b=_?p[d]:y,w=_?b:b-1,D=h+w-v,C=i(t,w-1,o,D-1,s),E=w-C;if(y=p[d],p[d]=E,g<=v&&v<=f){let i=(e+(v-m))/2;if(i<=u&&E-1<=l[i]){let i=D-C;if(c.nChangePreceding=e,e===E+i-t-o?(c.aEndPreceding=t,c.bEndPreceding=o):(c.aEndPreceding=E,c.bEndPreceding=i),c.nCommonPreceding=C,0!==C&&(c.aCommonPreceding=E,c.bCommonPreceding=i),c.nChangeFollowing=e-1,1===e)c.nCommonFollowing=0,c.aStartFollowing=r,c.bStartFollowing=a;else{let t=h+b-(_?v-1:v+1),o=n(b,r,t,a,s);c.nCommonFollowing=o,0!==o&&(c.aCommonFollowing=b,c.bCommonFollowing=t);let i=b+o,l=t+o;e-1==r+a-i-l?(c.aStartFollowing=r,c.bStartFollowing=a):(c.aStartFollowing=i,c.bStartFollowing=l)}return!0}}}return!1},p=(e,t,r,n,i,d,c,h,m,g)=>{if(i-n<r-t){if((d=!d)&&1===c.length){let{foundSubsequence:e,isCommon:t}=c[0];c[1]={foundSubsequence:(t,r,o)=>{e(t,o,r)},isCommon:(e,r)=>t(r,e)}}let e=t,o=r;t=n,r=i,n=e,i=o}let{foundSubsequence:f,isCommon:y}=c[+!!d];((e,t,r,n,i,p,d,c,h)=>{let m=n-t,g=i-r,f=r-t,y=i-n,_=y-f,v=f,b=f;if(d[0]=t-1,c[0]=r,_%2==0){let o=(e||_)/2,l=(f+y)/2;for(let e=1;e<=l;e+=1)if(v=a(e,r,i,m,p,d,v),e<o)b=s(e,t,n,g,p,c,b);else if(u(e,t,r,n,i,p,d,v,c,b,h))return}else{let o=((e||_)+1)/2,u=(f+y+1)/2,w=1;for(v=a(1,r,i,m,p,d,v),w+=1;w<=u;w+=1)if(b=s(w-1,t,n,g,p,c,b),w<o)v=a(w,r,i,m,p,d,v);else if(l(w,t,r,n,i,p,d,v,c,b,h))return}throw Error(`${o}: no overlap aStart=${t} aEnd=${r} bStart=${n} bEnd=${i}`)})(e,t,r,n,i,y,h,m,g);let{nChangePreceding:_,aEndPreceding:v,bEndPreceding:b,nCommonPreceding:w,aCommonPreceding:D,bCommonPreceding:C,nCommonFollowing:E,aCommonFollowing:k,bCommonFollowing:x,nChangeFollowing:T,aStartFollowing:S,bStartFollowing:R}=g;t<v&&n<b&&p(_,t,v,n,b,d,c,h,m,g),0!==w&&f(w,D,C),0!==E&&f(E,k,x),S<r&&R<i&&p(T,S,r,R,i,d,c,h,m,g)},d=(e,t)=>{if("number"!=typeof t)throw TypeError(`${o}: ${e} typeof ${typeof t} is not a number`);if(!Number.isSafeInteger(t))throw RangeError(`${o}: ${e} value ${t} is not a safe integer`);if(t<0)throw RangeError(`${o}: ${e} value ${t} is a negative integer`)},c=(e,t)=>{let r=typeof t;if("function"!==r)throw TypeError(`${o}: ${e} typeof ${r} is not a function`)}},53539,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.joinAlignedDiffsNoExpand=r.joinAlignedDiffsExpand=void 0;var o=e.r(22413);let n=(e,t,r,o,n,i)=>0!==e.length?r(`${o} ${e.replace(/\s+$/,e=>n(e))}`):" "!==o?r(o):t&&0!==i.length?r(`${o} ${i}`):"",i=(e,t,{aColor:r,aIndicator:o,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:a})=>n(e,t,r,o,i,a),a=(e,t,{bColor:r,bIndicator:o,changeLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:a})=>n(e,t,r,o,i,a),s=(e,t,{commonColor:r,commonIndicator:o,commonLineTrailingSpaceColor:i,emptyFirstOrLastLinePlaceholder:a})=>n(e,t,r,o,i,a),l=(e,t,r,o,{patchColor:n})=>n(`@@ -${e+1},${t-e} +${r+1},${o-r} @@`);r.joinAlignedDiffsNoExpand=(e,t)=>{let r=e.length,n=t.contextLines,u=n+n,p=r,d=!1,c=0,h=0;for(;h!==r;){let t=h;for(;h!==r&&e[h][0]===o.DIFF_EQUAL;)h+=1;if(t!==h)if(0===t)h>n&&(p-=h-n,d=!0);else if(h===r){let e=h-t;e>n&&(p-=e-n,d=!0)}else{let e=h-t;e>u&&(p-=e-u,c+=1)}for(;h!==r&&e[h][0]!==o.DIFF_EQUAL;)h+=1}let m=0!==c||d;0!==c?p+=c+1:d&&(p+=1);let g=p-1,f=[],y=0;m&&f.push("");let _=0,v=0,b=0,w=0,D=e=>{let r=f.length;f.push(s(e,0===r||r===g,t)),b+=1,w+=1},C=e=>{let r=f.length;f.push(i(e,0===r||r===g,t)),b+=1},E=e=>{let r=f.length;f.push(a(e,0===r||r===g,t)),w+=1};for(h=0;h!==r;){let i=h;for(;h!==r&&e[h][0]===o.DIFF_EQUAL;)h+=1;if(i!==h)if(0===i){h>n&&(_=i=h-n,v=i,b=_,w=v);for(let t=i;t!==h;t+=1)D(e[t][1])}else if(h===r){let t=h-i>n?i+n:h;for(let r=i;r!==t;r+=1)D(e[r][1])}else{let r=h-i;if(r>u){let o=i+n;for(let t=i;t!==o;t+=1)D(e[t][1]);f[y]=l(_,b,v,w,t),y=f.length,f.push("");let a=r-u;_=b+a,v=w+a,b=_,w=v;for(let t=h-n;t!==h;t+=1)D(e[t][1])}else for(let t=i;t!==h;t+=1)D(e[t][1])}for(;h!==r&&e[h][0]===o.DIFF_DELETE;)C(e[h][1]),h+=1;for(;h!==r&&e[h][0]===o.DIFF_INSERT;)E(e[h][1]),h+=1}return m&&(f[y]=l(_,b,v,w,t)),f.join("\n")},r.joinAlignedDiffsExpand=(e,t)=>e.map((e,r,n)=>{let l=e[1],u=0===r||r===n.length-1;switch(e[0]){case o.DIFF_DELETE:return i(l,u,t);case o.DIFF_INSERT:return a(l,u,t);default:return s(l,u,t)}}).join("\n")},97628,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalizeDiffOptions=r.noColor=void 0;var o,n=(o=e.r(49717))&&o.__esModule?o:{default:o};let i=e=>e;r.noColor=i;let a={aAnnotation:"Expected",aColor:n.default.green,aIndicator:"-",bAnnotation:"Received",bColor:n.default.red,bIndicator:"+",changeColor:n.default.inverse,changeLineTrailingSpaceColor:i,commonColor:n.default.dim,commonIndicator:" ",commonLineTrailingSpaceColor:i,compareKeys:void 0,contextLines:5,emptyFirstOrLastLinePlaceholder:"",expand:!0,includeChangeCounts:!1,omitAnnotationLines:!1,patchColor:n.default.yellow};r.normalizeDiffOptions=(e={})=>{let t,r;return{...a,...e,compareKeys:(t=e.compareKeys)&&"function"==typeof t?t:a.compareKeys,contextLines:"number"==typeof(r=e.contextLines)&&Number.isSafeInteger(r)&&r>=0?r:5}}},23608,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.printDiffLines=r.diffLinesUnified2=r.diffLinesUnified=r.diffLinesRaw=void 0;var o,n=(o=e.r(27884))&&o.__esModule?o:{default:o},i=e.r(22413),a=e.r(53539),s=e.r(97628);let l=e=>1===e.length&&0===e[0].length,u=(e,t)=>{let r,o;return(({aAnnotation:e,aColor:t,aIndicator:r,bAnnotation:o,bColor:n,bIndicator:i,includeChangeCounts:a,omitAnnotationLines:s},l)=>{if(s)return"";let u="",p="";if(a){let t=String(l.a),n=String(l.b),a=o.length-e.length,s=" ".repeat(Math.max(0,a)),d=" ".repeat(Math.max(0,-a)),c=n.length-t.length,h=" ".repeat(Math.max(0,c)),m=" ".repeat(Math.max(0,-c));u=`${s}  ${r} ${h}${t}`,p=`${d}  ${i} ${m}${n}`}let d=`${r} ${e}${u}`,c=`${i} ${o}${p}`;return`${t(d)}
${n(c)}

`})(t,(r=0,o=0,e.forEach(e=>{switch(e[0]){case i.DIFF_DELETE:r+=1;break;case i.DIFF_INSERT:o+=1}}),{a:r,b:o}))+(t.expand?(0,a.joinAlignedDiffsExpand)(e,t):(0,a.joinAlignedDiffsNoExpand)(e,t))};r.printDiffLines=u;let p=(e,t,r)=>u(d(l(e)?[]:e,l(t)?[]:t),(0,s.normalizeDiffOptions)(r));r.diffLinesUnified=p,r.diffLinesUnified2=(e,t,r,o,n)=>{if(l(e)&&l(r)&&(e=[],r=[]),l(t)&&l(o)&&(t=[],o=[]),e.length!==r.length||t.length!==o.length)return p(e,t,n);let a=d(r,o),c=0,h=0;return a.forEach(r=>{switch(r[0]){case i.DIFF_DELETE:r[1]=e[c],c+=1;break;case i.DIFF_INSERT:r[1]=t[h],h+=1;break;default:r[1]=t[h],c+=1,h+=1}}),u(a,(0,s.normalizeDiffOptions)(n))};let d=(e,t)=>{let r=e.length,o=t.length,a=[],s=0,l=0;for((0,n.default)(r,o,(r,o)=>e[r]===t[o],(r,o,n)=>{for(;s!==o;s+=1)a.push(new i.Diff(i.DIFF_DELETE,e[s]));for(;l!==n;l+=1)a.push(new i.Diff(i.DIFF_INSERT,t[l]));for(;0!==r;r-=1,s+=1,l+=1)a.push(new i.Diff(i.DIFF_EQUAL,t[l]))});s!==r;s+=1)a.push(new i.Diff(i.DIFF_DELETE,e[s]));for(;l!==o;l+=1)a.push(new i.Diff(i.DIFF_INSERT,t[l]));return a};r.diffLinesRaw=d},51982,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=(o=e.r(27884))&&o.__esModule?o:{default:o},i=e.r(22413);r.default=(e,t)=>{let r=0,o=0,a=[];return(0,n.default)(e.length,t.length,(r,o)=>e[r]===t[o],(n,s,l)=>{r!==s&&a.push(new i.Diff(i.DIFF_DELETE,e.slice(r,s))),o!==l&&a.push(new i.Diff(i.DIFF_INSERT,t.slice(o,l))),r=s+n,o=l+n,a.push(new i.Diff(i.DIFF_EQUAL,t.slice(l,o)))}),r!==e.length&&a.push(new i.Diff(i.DIFF_DELETE,e.slice(r))),o!==t.length&&a.push(new i.Diff(i.DIFF_INSERT,t.slice(o))),a}},48841,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=e.r(22413);class n{op;line;lines;changeColor;constructor(e,t){this.op=e,this.line=[],this.lines=[],this.changeColor=t}pushSubstring(e){this.pushDiff(new o.Diff(this.op,e))}pushLine(){let e,t,r;this.lines.push(1!==this.line.length?new o.Diff(this.op,(e=this.op,t=this.line,r=this.changeColor,t.reduce((t,n)=>t+(n[0]===o.DIFF_EQUAL?n[1]:n[0]===e&&0!==n[1].length?r(n[1]):""),""))):this.line[0][0]===this.op?this.line[0]:new o.Diff(this.op,this.line[0][1])),this.line.length=0}isLineEmpty(){return 0===this.line.length}pushDiff(e){this.line.push(e)}align(e){let t=e[1];if(t.includes("\n")){let e=t.split("\n"),r=e.length-1;e.forEach((e,t)=>{t<r?(this.pushSubstring(e),this.pushLine()):0!==e.length&&this.pushSubstring(e)})}else this.pushDiff(e)}moveLinesTo(e){this.isLineEmpty()||this.pushLine(),e.push(...this.lines),this.lines.length=0}}class i{deleteBuffer;insertBuffer;lines;constructor(e,t){this.deleteBuffer=e,this.insertBuffer=t,this.lines=[]}pushDiffCommonLine(e){this.lines.push(e)}pushDiffChangeLines(e){let t=0===e[1].length;(!t||this.deleteBuffer.isLineEmpty())&&this.deleteBuffer.pushDiff(e),(!t||this.insertBuffer.isLineEmpty())&&this.insertBuffer.pushDiff(e)}flushChangeLines(){this.deleteBuffer.moveLinesTo(this.lines),this.insertBuffer.moveLinesTo(this.lines)}align(e){let t=e[0],r=e[1];if(r.includes("\n")){let e=r.split("\n"),n=e.length-1;e.forEach((e,r)=>{if(0===r){let r=new o.Diff(t,e);this.deleteBuffer.isLineEmpty()&&this.insertBuffer.isLineEmpty()?(this.flushChangeLines(),this.pushDiffCommonLine(r)):(this.pushDiffChangeLines(r),this.flushChangeLines())}else r<n?this.pushDiffCommonLine(new o.Diff(t,e)):0!==e.length&&this.pushDiffChangeLines(new o.Diff(t,e))})}else this.pushDiffChangeLines(e)}getLines(){return this.flushChangeLines(),this.lines}}r.default=(e,t)=>{let r=new n(o.DIFF_DELETE,t),a=new n(o.DIFF_INSERT,t),s=new i(r,a);return e.forEach(e=>{switch(e[0]){case o.DIFF_DELETE:r.align(e);break;case o.DIFF_INSERT:a.align(e);break;default:s.align(e)}}),s.getLines()}},4892,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.diffStringsUnified=r.diffStringsRaw=void 0;var o=e.r(22413),n=e.r(23608),i=l(e.r(51982)),a=l(e.r(48841)),s=e.r(97628);function l(e){return e&&e.__esModule?e:{default:e}}r.diffStringsUnified=(e,t,r)=>{if(e!==t&&0!==e.length&&0!==t.length){let i=e.includes("\n")||t.includes("\n"),l=u(i?`${e}
`:e,i?`${t}
`:t,!0);if(((e,t)=>{if(t){let t=e.length-1;return e.some((e,r)=>e[0]===o.DIFF_EQUAL&&(r!==t||"\n"!==e[1]))}return e.some(e=>e[0]===o.DIFF_EQUAL)})(l,i)){let e=(0,s.normalizeDiffOptions)(r),t=(0,a.default)(l,e.changeColor);return(0,n.printDiffLines)(t,e)}}return(0,n.diffLinesUnified)(e.split("\n"),t.split("\n"),r)};let u=(e,t,r)=>{let n=(0,i.default)(e,t);return r&&(0,o.cleanupSemantic)(n),n};r.diffStringsRaw=u},16367,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DIFF_DELETE",{enumerable:!0,get:function(){return s.DIFF_DELETE}}),Object.defineProperty(r,"DIFF_EQUAL",{enumerable:!0,get:function(){return s.DIFF_EQUAL}}),Object.defineProperty(r,"DIFF_INSERT",{enumerable:!0,get:function(){return s.DIFF_INSERT}}),Object.defineProperty(r,"Diff",{enumerable:!0,get:function(){return s.Diff}}),r.diff=function(e,t,r){if(Object.is(e,t))return h(l.NO_DIFF_MESSAGE,r);let o=(0,i.getType)(e),s=o,p=!1;if("object"===o&&"function"==typeof e.asymmetricMatch){if(e.$$typeof!==c.for("jest.asymmetricMatcher")||"function"!=typeof e.getExpectedType)return null;p="string"===(s=e.getExpectedType())}if(s!==(0,i.getType)(t))return`  Comparing two different types of values. Expected ${n.default.green(s)} but received ${n.default.red((0,i.getType)(t))}.`;if(p)return null;switch(o){case"string":return(0,u.diffLinesUnified)(e.split("\n"),t.split("\n"),r);case"boolean":case"number":var d,m,g;let f,y;return d=e,m=t,g=r,f=(0,a.format)(d,w),f===(y=(0,a.format)(m,w))?h(l.NO_DIFF_MESSAGE,g):(0,u.diffLinesUnified)(f.split("\n"),y.split("\n"),g);case"map":return k(C(e),C(t),r);case"set":return k(E(e),E(t),r);default:return k(e,t,r)}},Object.defineProperty(r,"diffLinesRaw",{enumerable:!0,get:function(){return u.diffLinesRaw}}),Object.defineProperty(r,"diffLinesUnified",{enumerable:!0,get:function(){return u.diffLinesUnified}}),Object.defineProperty(r,"diffLinesUnified2",{enumerable:!0,get:function(){return u.diffLinesUnified2}}),Object.defineProperty(r,"diffStringsRaw",{enumerable:!0,get:function(){return d.diffStringsRaw}}),Object.defineProperty(r,"diffStringsUnified",{enumerable:!0,get:function(){return d.diffStringsUnified}});var o,n=(o=e.r(49717))&&o.__esModule?o:{default:o},i=e.r(59982),a=e.r(29742),s=e.r(22413),l=e.r(71278),u=e.r(23608),p=e.r(97628),d=e.r(4892),c=globalThis["jest-symbol-do-not-touch"]||globalThis.Symbol;let h=(e,t)=>{let{commonColor:r}=(0,p.normalizeDiffOptions)(t);return r(e)},{AsymmetricMatcher:m,DOMCollection:g,DOMElement:f,Immutable:y,ReactElement:_,ReactTestComponent:v}=a.plugins,b=[v,_,f,g,y,m],w={plugins:b},D={callToJSON:!1,maxDepth:10,plugins:b};function C(e){return new Map(Array.from(e.entries()).sort())}function E(e){return new Set(Array.from(e.values()).sort())}function k(e,t,r){let o,n=!1;try{let n=x(w,r);o=T(e,t,n,r)}catch{n=!0}let i=h(l.NO_DIFF_MESSAGE,r);return(void 0===o||o===i)&&((o=T(e,t,x(D,r),r))===i||n||(o=`${h(l.SIMILAR_MESSAGE,r)}

${o}`)),o}function x(e,t){let{compareKeys:r}=(0,p.normalizeDiffOptions)(t);return{...e,compareKeys:r}}function T(e,t,r,o){let n={...r,indent:0},i=(0,a.format)(e,n),s=(0,a.format)(t,n);if(i===s)return h(l.NO_DIFF_MESSAGE,o);{let n=(0,a.format)(e,r),l=(0,a.format)(t,r);return(0,u.diffLinesUnified2)(n.split("\n"),l.split("\n"),i.split("\n"),s.split("\n"),o)}}},84819,(e,t,r)=>{"use strict";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((o=t.length)!=r.length)return!1;for(n=o;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((o=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=o;0!=n--;){var o,n,i,a=i[n];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},10430,(e,t,r)=>{t.exports=e.x("async_hooks",()=>require("async_hooks"))},9656,(e,t,r)=>{t.exports=e.x("node:tty",()=>require("node:tty"))},54427,e=>{e.v({single:{topLeft:"â",top:"â",topRight:"â",right:"â",bottomRight:"â",bottom:"â",bottomLeft:"â",left:"â"},double:{topLeft:"â",top:"â",topRight:"â",right:"â",bottomRight:"â",bottom:"â",bottomLeft:"â",left:"â"},round:{topLeft:"â­",top:"â",topRight:"â®",right:"â",bottomRight:"â¯",bottom:"â",bottomLeft:"â°",left:"â"},bold:{topLeft:"â",top:"â",topRight:"â",right:"â",bottomRight:"â",bottom:"â",bottomLeft:"â",left:"â"},singleDouble:{topLeft:"â",top:"â",topRight:"â",right:"â",bottomRight:"â",bottom:"â",bottomLeft:"â",left:"â"},doubleSingle:{topLeft:"â",top:"â",topRight:"â",right:"â",bottomRight:"â",bottom:"â",bottomLeft:"â",left:"â"},classic:{topLeft:"+",top:"-",topRight:"+",right:"|",bottomRight:"+",bottom:"-",bottomLeft:"+",left:"|"},arrow:{topLeft:"â",top:"â",topRight:"â",right:"â",bottomRight:"â",bottom:"â",bottomLeft:"â",left:"â"}})},77773,(e,t,r)=>{"use strict";let o=e.r(54427);t.exports=o,t.exports.default=o},30157,(e,t,r)=>{"use strict";t.exports=({onlyFirst:e=!1}={})=>RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",e?void 0:"g")},14925,(e,t,r)=>{"use strict";let o=e.r(30157);t.exports=e=>"string"==typeof e?e.replace(o(),""):e},15472,(e,t,r)=>{"use strict";let o=e=>!Number.isNaN(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141)||!1);t.exports=o,t.exports.default=o},29980,(e,t,r)=>{"use strict";t.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},68845,(e,t,r)=>{"use strict";let o=e.r(14925),n=e.r(15472),i=e.r(29980),a=e=>{if("string"!=typeof e||0===e.length||0===(e=o(e)).length)return 0;e=e.replace(i(),"  ");let t=0;for(let r=0;r<e.length;r++){let o=e.codePointAt(r);o<=31||o>=127&&o<=159||o>=768&&o<=879||(o>65535&&r++,t+=n(o)?2:1)}return t};t.exports=a,t.exports.default=a},29455,(e,t,r)=>{"use strict";let o=e.r(68845);function n(e,t){let r;if(!e)return e;let n=(t=t||{}).align||"center";if("left"===n)return e;let s=t.split||"\n",l=t.pad||" ",u="right"!==n?i:a,p=!1;Array.isArray(e)||(p=!0,e=String(e).split(s));let d=0;return e=e.map(function(e){return d=Math.max(r=o(e=String(e)),d),{str:e,width:r}}).map(function(e){return Array(u(d,e.width)+1).join(l)+e.str}),p?e.join(s):e}function i(e,t){return Math.floor((e-t)/2)}function a(e,t){return e-t}n.left=function(e){return n(e,{align:"left"})},n.center=function(e){return n(e,{align:"center"})},n.right=function(e){return n(e,{align:"right"})},t.exports=n},27789,e=>{e.v(JSON.parse('{"dots":{"interval":80,"frames":["â ","â ","â ¹","â ¸","â ¼","â ´","â ¦","â §","â ","â "]},"dots2":{"interval":80,"frames":["â£¾","â£½","â£»","â¢¿","â¡¿","â£","â£¯","â£·"]},"dots3":{"interval":80,"frames":["â ","â ","â ","â ","â ","â ¦","â ´","â ²","â ³","â "]},"dots4":{"interval":80,"frames":["â ","â ","â ","â ","â ","â ¸","â °","â  ","â °","â ¸","â ","â ","â ","â "]},"dots5":{"interval":80,"frames":["â ","â ","â ","â ","â ","â ","â ","â ²","â ´","â ¦","â ","â ","â ","â ","â ","â ","â "]},"dots6":{"interval":80,"frames":["â ","â ","â ","â ","â ","â ","â ","â ","â ²","â ´","â ¤","â ","â ","â ¤","â ´","â ²","â ","â ","â ","â ","â ","â ","â ","â "]},"dots7":{"interval":80,"frames":["â ","â ","â ","â ","â ","â ","â ","â ","â ","â ¦","â ¤","â  ","â  ","â ¤","â ¦","â ","â ","â ","â ","â ","â ","â ","â ","â "]},"dots8":{"interval":80,"frames":["â ","â ","â ","â ","â ","â ","â ","â ","â ","â ²","â ´","â ¤","â ","â ","â ¤","â  ","â  ","â ¤","â ¦","â ","â ","â ","â ","â ","â ","â ","â ","â ","â "]},"dots9":{"interval":80,"frames":["â¢¹","â¢º","â¢¼","â£¸","â£","â¡§","â¡","â¡"]},"dots10":{"interval":80,"frames":["â¢","â¢","â¢","â¡","â¡","â¡","â¡ "]},"dots11":{"interval":100,"frames":["â ","â ","â ","â¡","â¢","â  ","â ","â "]},"dots12":{"interval":80,"frames":["â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â â ","â â ","â â ","â â ","â â ©","â â¢","â â¡","â¢â ©","â¡â¢","â â¡","â¢â ©","â¡â¢","â â¡","â¢â ¨","â¡â¢","â â¡","â¢â  ","â¡â¢","â â¡","â¢â ","â¡â ","â â ","â â ","â â ","â â ","â â ","â â ©","â â¢","â â¡","â â ©","â â¢","â â¡","â â ©","â â¢","â â¡","â â ¨","â â¢","â â¡","â â  ","â â¢","â â¡"]},"dots13":{"interval":80,"frames":["â£¼","â£¹","â¢»","â ¿","â¡","â£","â£§","â£¶"]},"dots8Bit":{"interval":80,"frames":["â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â  ","â ¡","â ¢","â £","â ¤","â ¥","â ¦","â §","â¡ ","â¡¡","â¡¢","â¡£","â¡¤","â¡¥","â¡¦","â¡§","â ¨","â ©","â ª","â «","â ¬","â ­","â ®","â ¯","â¡¨","â¡©","â¡ª","â¡«","â¡¬","â¡­","â¡®","â¡¯","â °","â ±","â ²","â ³","â ´","â µ","â ¶","â ·","â¡°","â¡±","â¡²","â¡³","â¡´","â¡µ","â¡¶","â¡·","â ¸","â ¹","â º","â »","â ¼","â ½","â ¾","â ¿","â¡¸","â¡¹","â¡º","â¡»","â¡¼","â¡½","â¡¾","â¡¿","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢ ","â¢¡","â¢¢","â¢£","â¢¤","â¢¥","â¢¦","â¢§","â£ ","â£¡","â£¢","â££","â£¤","â£¥","â£¦","â£§","â¢¨","â¢©","â¢ª","â¢«","â¢¬","â¢­","â¢®","â¢¯","â£¨","â£©","â£ª","â£«","â£¬","â£­","â£®","â£¯","â¢°","â¢±","â¢²","â¢³","â¢´","â¢µ","â¢¶","â¢·","â£°","â£±","â£²","â£³","â£´","â£µ","â£¶","â£·","â¢¸","â¢¹","â¢º","â¢»","â¢¼","â¢½","â¢¾","â¢¿","â£¸","â£¹","â£º","â£»","â£¼","â£½","â£¾","â£¿"]},"sand":{"interval":80,"frames":["â ","â ","â ","â¡","â¡","â¡","â¡ ","â£","â£","â£","â£","â£","â£","â£¤","â£¥","â£¦","â£®","â£¶","â£·","â£¿","â¡¿","â ¿","â¢","â ","â¡","â ","â «","â¢","â ","â ","â¡","â ","â ","â ¡","â¢"]},"line":{"interval":130,"frames":["-","\\\\","|","/"]},"line2":{"interval":100,"frames":["â ","-","â","â","â","-"]},"pipe":{"interval":100,"frames":["â¤","â","â´","â","â","â","â¬","â"]},"simpleDots":{"interval":400,"frames":[".  ",".. ","...","   "]},"simpleDotsScrolling":{"interval":200,"frames":[".  ",".. ","..."," ..","  .","   "]},"star":{"interval":70,"frames":["â¶","â¸","â¹","âº","â¹","â·"]},"star2":{"interval":80,"frames":["+","x","*"]},"flip":{"interval":70,"frames":["_","_","_","-","`","`","\'","Â´","-","_","_","_"]},"hamburger":{"interval":100,"frames":["â±","â²","â´"]},"growVertical":{"interval":120,"frames":["â","â","â","â","â","â","â","â","â","â"]},"growHorizontal":{"interval":120,"frames":["â","â","â","â","â","â","â","â","â","â","â","â"]},"balloon":{"interval":140,"frames":[" ",".","o","O","@","*"," "]},"balloon2":{"interval":120,"frames":[".","o","O","Â°","O","o","."]},"noise":{"interval":100,"frames":["â","â","â"]},"bounce":{"interval":120,"frames":["â ","â ","â ","â "]},"boxBounce":{"interval":120,"frames":["â","â","â","â"]},"boxBounce2":{"interval":100,"frames":["â","â","â","â"]},"triangle":{"interval":50,"frames":["â¢","â£","â¤","â¥"]},"binary":{"interval":80,"frames":["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},"arc":{"interval":100,"frames":["â","â ","â","â","â¡","â"]},"circle":{"interval":120,"frames":["â¡","â","â "]},"squareCorners":{"interval":180,"frames":["â°","â³","â²","â±"]},"circleQuarters":{"interval":120,"frames":["â´","â·","â¶","âµ"]},"circleHalves":{"interval":50,"frames":["â","â","â","â"]},"squish":{"interval":100,"frames":["â«","âª"]},"toggle":{"interval":250,"frames":["â¶","â·"]},"toggle2":{"interval":80,"frames":["â«","âª"]},"toggle3":{"interval":120,"frames":["â¡","â "]},"toggle4":{"interval":100,"frames":["â ","â¡","âª","â«"]},"toggle5":{"interval":100,"frames":["â®","â¯"]},"toggle6":{"interval":300,"frames":["á","á"]},"toggle7":{"interval":80,"frames":["â¦¾","â¦¿"]},"toggle8":{"interval":100,"frames":["â","â"]},"toggle9":{"interval":100,"frames":["â","â"]},"toggle10":{"interval":100,"frames":["ã","ã","ã"]},"toggle11":{"interval":50,"frames":["â§","â§"]},"toggle12":{"interval":120,"frames":["â","â"]},"toggle13":{"interval":80,"frames":["=","*","-"]},"arrow":{"interval":100,"frames":["â","â","â","â","â","â","â","â"]},"arrow2":{"interval":80,"frames":["â¬ï¸ ","âï¸ ","â¡ï¸ ","âï¸ ","â¬ï¸ ","âï¸ ","â¬ï¸ ","âï¸ "]},"arrow3":{"interval":120,"frames":["â¹â¹â¹â¹â¹","â¸â¹â¹â¹â¹","â¹â¸â¹â¹â¹","â¹â¹â¸â¹â¹","â¹â¹â¹â¸â¹","â¹â¹â¹â¹â¸"]},"bouncingBar":{"interval":80,"frames":["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},"bouncingBall":{"interval":80,"frames":["( â    )","(  â   )","(   â  )","(    â )","(     â)","(    â )","(   â  )","(  â   )","( â    )","(â     )"]},"smiley":{"interval":200,"frames":["ð ","ð "]},"monkey":{"interval":300,"frames":["ð ","ð ","ð ","ð "]},"hearts":{"interval":100,"frames":["ð ","ð ","ð ","ð ","â¤ï¸ "]},"clock":{"interval":100,"frames":["ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð "]},"earth":{"interval":180,"frames":["ð ","ð ","ð "]},"material":{"interval":17,"frames":["ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ"]},"moon":{"interval":80,"frames":["ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð "]},"runner":{"interval":140,"frames":["ð¶ ","ð "]},"pong":{"interval":80,"frames":["ââ        â","ââ        â","â â       â","â â        â","â  â¡     â","â  â       â","â   â     â","â   â     â","â    â    â","â    â     â","â     â¡  â","â     â    â","â      â  â","â      â  â","â       â â","â       â  â","â       â¡â","â      â   â","â      â  â","â     â   â","â     â   â","â    â     â","â    â¡   â","â   â      â","â   â     â","â  â      â","â  â      â","â â        â","â â¡      â","ââ         â"]},"shark":{"interval":120,"frames":["â|\\\\____________â","â_|\\\\___________â","â__|\\\\__________â","â___|\\\\_________â","â____|\\\\________â","â_____|\\\\_______â","â______|\\\\______â","â_______|\\\\_____â","â________|\\\\____â","â_________|\\\\___â","â__________|\\\\__â","â___________|\\\\_â","â____________|\\\\â","â____________/|â","â___________/|_â","â__________/|__â","â_________/|___â","â________/|____â","â_______/|_____â","â______/|______â","â_____/|_______â","â____/|________â","â___/|_________â","â__/|__________â","â_/|___________â","â/|____________â"]},"dqpb":{"interval":100,"frames":["d","q","p","b"]},"weather":{"interval":100,"frames":["âï¸ ","âï¸ ","âï¸ ","ð¤ ","âï¸ ","ð¥ ","âï¸ ","ð§ ","ð¨ ","ð§ ","ð¨ ","ð§ ","ð¨ ","â ","ð¨ ","ð§ ","ð¨ ","âï¸ ","ð¥ ","âï¸ ","ð¤ ","âï¸ ","âï¸ "]},"christmas":{"interval":400,"frames":["ð²","ð"]},"grenade":{"interval":80,"frames":["Ø  ","â²  "," Â´ "," â¾ ","  â¸","  â¸","  |","  â","  â"," à·´ ","  â","   ","   ","   "]},"point":{"interval":125,"frames":["âââ","âââ","âââ","âââ","âââ"]},"layer":{"interval":150,"frames":["-","=","â¡"]},"betaWave":{"interval":80,"frames":["ÏÎ²Î²Î²Î²Î²Î²","Î²ÏÎ²Î²Î²Î²Î²","Î²Î²ÏÎ²Î²Î²Î²","Î²Î²Î²ÏÎ²Î²Î²","Î²Î²Î²Î²ÏÎ²Î²","Î²Î²Î²Î²Î²ÏÎ²","Î²Î²Î²Î²Î²Î²Ï"]},"fingerDance":{"interval":160,"frames":["ð¤ ","ð¤ ","ð ","â ","ð¤ ","ð "]},"fistBump":{"interval":80,"frames":["ð¤ããããð¤ ","ð¤ããããð¤ ","ð¤ããããð¤ ","ãð¤ããð¤ã ","ããð¤ð¤ãã ","ãð¤â¨ð¤ãã ","ð¤ãâ¨ãð¤ã "]},"soccerHeader":{"interval":80,"frames":[" ð§â½ï¸       ð§ ","ð§  â½ï¸      ð§ ","ð§   â½ï¸     ð§ ","ð§    â½ï¸    ð§ ","ð§     â½ï¸   ð§ ","ð§      â½ï¸  ð§ ","ð§       â½ï¸ð§  ","ð§      â½ï¸  ð§ ","ð§     â½ï¸   ð§ ","ð§    â½ï¸    ð§ ","ð§   â½ï¸     ð§ ","ð§  â½ï¸      ð§ "]},"mindblown":{"interval":160,"frames":["ð ","ð ","ð® ","ð® ","ð¦ ","ð¦ ","ð§ ","ð§ ","ð¤¯ ","ð¥ ","â¨ ","ã ","ã ","ã "]},"speaker":{"interval":160,"frames":["ð ","ð ","ð ","ð "]},"orangePulse":{"interval":100,"frames":["ð¸ ","ð¶ ","ð  ","ð  ","ð¶ "]},"bluePulse":{"interval":100,"frames":["ð¹ ","ð· ","ðµ ","ðµ ","ð· "]},"orangeBluePulse":{"interval":100,"frames":["ð¸ ","ð¶ ","ð  ","ð  ","ð¶ ","ð¹ ","ð· ","ðµ ","ðµ ","ð· "]},"timeTravel":{"interval":100,"frames":["ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð "]},"aesthetic":{"interval":80,"frames":["â°â±â±â±â±â±â±","â°â°â±â±â±â±â±","â°â°â°â±â±â±â±","â°â°â°â°â±â±â±","â°â°â°â°â°â±â±","â°â°â°â°â°â°â±","â°â°â°â°â°â°â°","â°â±â±â±â±â±â±"]},"dwarfFortress":{"interval":80,"frames":[" ââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âº âââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âº ââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âº âââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âº ââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âº âÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âº Â£Â£Â£  ","      âºÂ£Â£Â£  ","      âºÂ£Â£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âº Â£Â£  ","       âºÂ£Â£  ","       âºÂ£Â£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âº Â£  ","        âºÂ£  ","        âºÂ£  ","        âºâ  ","        âºâ  ","        âºâ  ","        âºâ  ","        âºâ  ","        âºâ  ","        âº   ","        âº  &","        âº â¼&","       âº â¼ &","       âºâ¼  &","      âºâ¼  & ","      â¼   & ","     âº   &  ","    â¼    &  ","   âº    &   ","  â¼     &   "," âº     &    ","â¼      &    ","      &     ","      &     ","     &   â  ","     &   â  ","    &    â  ","    &    Â£  ","   &    âÂ£  ","   &    âÂ£  ","  &     âÂ£  ","  &     Â£Â£  "," &     âÂ£Â£  "," &     âÂ£Â£  ","&      âÂ£Â£  ","&      Â£Â£Â£  ","      âÂ£Â£Â£  ","      âÂ£Â£Â£  ","      âÂ£Â£Â£  ","      âÂ£Â£Â£  ","     ââÂ£Â£Â£  ","     ââÂ£Â£Â£  ","     ââÂ£Â£Â£  ","     ââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "]}}'))},67007,(e,t,r)=>{"use strict";let o=Object.assign({},e.r(27789)),n=Object.keys(o);Object.defineProperty(o,"random",{get(){let e=Math.floor(Math.random()*n.length);return o[n[e]]}}),t.exports=o},20455,(e,t,r)=>{"use strict";var o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s={},l={SYMBOL_FOR_REQ_CONTEXT:()=>p,getContext:()=>d};for(var u in l)o(s,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))a.call(e,l)||l===r||o(e,l,{get:()=>t[l],enumerable:!(s=n(t,l))||s.enumerable});return e})(o({},"__esModule",{value:!0}),s);let p=Symbol.for("@vercel/request-context");function d(){let e=globalThis;return e[p]?.get?.()??{}}},23538,(e,t,r)=>{"use strict";var o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s={},l={getVercelOidcToken:()=>c,getVercelOidcTokenSync:()=>h};for(var u in l)o(s,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))a.call(e,l)||l===r||o(e,l,{get:()=>t[l],enumerable:!(s=n(t,l))||s.enumerable});return e})(o({},"__esModule",{value:!0}),s);var p=e.r(20455),d=e.r(31309);async function c(){let t,r="";try{r=h()}catch(e){t=e}try{let[{getTokenPayload:t,isExpired:o},{refreshToken:n}]=await Promise.all([await e.A(92827),await e.A(73937)]);(!r||o(t(r)))&&(await n(),r=h())}catch(r){let e=t instanceof Error?t.message:"";if(r instanceof Error&&(e=`${e}
${r.message}`),e)throw new d.VercelOidcTokenError(e);throw r}return r}function h(){let e=(0,p.getContext)().headers?.["x-vercel-oidc-token"]??process.env.VERCEL_OIDC_TOKEN;if(!e)throw Error("The 'x-vercel-oidc-token' header is missing from the request. Do you have the OIDC option enabled in the Vercel project settings?");return e}},35251,(e,t,r)=>{"use strict";var o=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,s={},l={getContext:()=>d.getContext,getVercelOidcToken:()=>p.getVercelOidcToken,getVercelOidcTokenSync:()=>p.getVercelOidcTokenSync};for(var u in l)o(s,u,{get:l[u],enumerable:!0});t.exports=((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of i(t))a.call(e,l)||l===r||o(e,l,{get:()=>t[l],enumerable:!(s=n(t,l))||s.enumerable});return e})(o({},"__esModule",{value:!0}),s);var p=e.r(23538),d=e.r(20455)},49566,e=>{"use strict";let t,r,o,n,i,a,s,l,u,p;var d,c,h,m,g,f,y,_,v,b,w,D,C,E,k,x,T,S,R,j,F,P,O,I,A,N,B,M,U,L,q,$,z,W,V,K,G,H,Z,J,Y,Q,X,ee,et,er,eo,en,ei,ea,es,el,eu,ep,ed,ec,eh,em,eg,ef,ey=e.i(59639),e_=e.i(60526);let ev=globalThis.window?.document!==void 0;globalThis.process?.versions?.node,globalThis.process?.versions?.bun,globalThis.Deno?.version?.deno,globalThis.process?.versions?.electron,globalThis.navigator?.userAgent?.includes("jsdom"),"undefined"!=typeof WorkerGlobalScope&&WorkerGlobalScope,"undefined"!=typeof DedicatedWorkerGlobalScope&&DedicatedWorkerGlobalScope,"undefined"!=typeof SharedWorkerGlobalScope&&SharedWorkerGlobalScope,"undefined"!=typeof ServiceWorkerGlobalScope&&ServiceWorkerGlobalScope;let eb=globalThis.navigator?.userAgentData?.platform;"macOS"===eb||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform,"Windows"===eb||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform,"Linux"===eb||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform,"iOS"===eb||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),"Android"===eb||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform,ev||ey.default.env.TERM_PROGRAM;let ew=!ev&&"win32"===ey.default.platform,eD=!ev&&(ey.default.env.TERM?.startsWith("screen")||ey.default.env.TERM?.startsWith("tmux")||void 0!==ey.default.env.TMUX);ev||ey.default.cwd;let eC=e=>eD?"\x1bPtmux;"+e.replaceAll("\x1b","\x1b\x1b")+"\x1b\\":e;(()=>{if(ev||!ew)return;let e=e_.default.release().split("."),t=Number(e[0]);return e[2]})();let eE={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function ek(e,t,r,o=!1){let n=String(t),i=(e,t)=>`\u001b[${t[0]}m${e}\u001b[${t[1]}m`,a=(e,t)=>null!=t&&"string"==typeof t?i(e,eE[t]):null!=t&&Array.isArray(t)?t.reduce((e,t)=>a(e,t),e):null!=t&&null!=t[e.trim()]?a(e,t[e.trim()]):null!=t&&null!=t["*"]?a(e,t["*"]):e;return n.replace(/{{(.+?)}}/g,(t,n)=>{let s=null!=r[n]?String(r[n]):o?"":t;return e.stylePrettyLogs?a(s,e?.prettyLogStyles?.[n]??null)+i("",eE.reset):s})}function ex(e,t=2,r=0){return null!=e&&isNaN(e)?"":(e=null!=e?e+r:e,2===t?null==e?"--":e<10?"0"+e:e.toString():null==e?"---":e<10?"00"+e:e<100?"0"+e:e.toString())}function eT(e,t){if(null==t)return{text:"",template:e.prettyLogTemplate,placeholders:{}};let r=e.prettyLogTemplate,o={};r.includes("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}")?r=r.replace("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}","{{dateIsoStr}}"):"UTC"===e.prettyLogTimeZone?(o.yyyy=t.date?.getUTCFullYear()??"----",o.mm=ex(t.date?.getUTCMonth(),2,1),o.dd=ex(t.date?.getUTCDate(),2),o.hh=ex(t.date?.getUTCHours(),2),o.MM=ex(t.date?.getUTCMinutes(),2),o.ss=ex(t.date?.getUTCSeconds(),2),o.ms=ex(t.date?.getUTCMilliseconds(),3)):(o.yyyy=t.date?.getFullYear()??"----",o.mm=ex(t.date?.getMonth(),2,1),o.dd=ex(t.date?.getDate(),2),o.hh=ex(t.date?.getHours(),2),o.MM=ex(t.date?.getMinutes(),2),o.ss=ex(t.date?.getSeconds(),2),o.ms=ex(t.date?.getMilliseconds(),3));let n="UTC"===e.prettyLogTimeZone?t.date:null!=t.date?new Date(t.date.getTime()-6e4*t.date.getTimezoneOffset()):void 0;o.rawIsoStr=n?.toISOString()??"",o.dateIsoStr=n?.toISOString().replace("T"," ").replace("Z","")??"",o.logLevelName=t.logLevelName,o.fileNameWithLine=t.path?.fileNameWithLine??"",o.filePathWithLine=t.path?.filePathWithLine??"",o.fullFilePath=t.path?.fullFilePath??"";let i=e.parentNames?.join(e.prettyErrorParentNamesSeparator);i=null!=i&&null!=t.name?i+e.prettyErrorParentNamesSeparator:void 0;let a=null!=t.name||null!=i?`${i??""}${t.name??""}`:"";return o.name=a,o.nameWithDelimiterPrefix=a.length>0?e.prettyErrorLoggerNameDelimiter+a:"",o.nameWithDelimiterSuffix=a.length>0?a+e.prettyErrorLoggerNameDelimiter:"",e.overwrite?.addPlaceholders!=null&&e.overwrite.addPlaceholders(t,o),{text:ek(e,r,o),template:r,placeholders:o}}function eS(e){if(e instanceof Error)return e;let t=Error("string"==typeof e?e:JSON.stringify(e));return"object"==typeof e&&null!=e&&Object.assign(t,e),t}function eR(e){let t=new Set;return JSON.stringify(e,(e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))return"[Circular]";t.add(r)}return"bigint"==typeof r?`${r}`:void 0===r?"[undefined]":r})}function ej(e,t){let r={seen:[],stylize:eP};return null!=t&&eK(r,t),eF(r.showHidden)&&(r.showHidden=!1),eF(r.depth)&&(r.depth=2),eF(r.colors)&&(r.colors=!0),eF(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=eO),ez(r,e,r.depth)}function eF(e){return void 0===e}function eP(e){return e}function eO(e,t){let r=ej.styles[t];return null!=r&&ej?.colors?.[r]?.[0]!=null&&ej?.colors?.[r]?.[1]!=null?"\x1b["+ej.colors[r][0]+"m"+e+"\x1b["+ej.colors[r][1]+"m":e}function eI(e){return"function"==typeof e}function eA(e){return"string"==typeof e}ej.colors=eE,ej.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function eN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eB(e){return eM(e)&&"[object RegExp]"===eq(e)}function eM(e){return"object"==typeof e&&null!==e}function eU(e){return eM(e)&&("[object Error]"===eq(e)||e instanceof Error)}function eL(e){return eM(e)&&"[object Date]"===eq(e)}function eq(e){return Object.prototype.toString.call(e)}function e$(e){return"["+Error.prototype.toString.call(e)+"]"}function ez(e,t,r=0){var o,n,i;let a,s;if(e.customInspect&&null!=t&&eI(t)&&t?.inspect!==ej&&!(t?.constructor&&t?.constructor.prototype===t)){if("function"!=typeof t.inspect&&null!=t.toString)return t.toString();let o=t?.inspect(r,e);return eA(o)||(o=ez(e,o,r)),o}let l=eV(e,t);if(l)return l;let u=Object.keys(t),p=(s={},u.forEach(e=>{s[e]=!0}),s);try{e.showHidden&&Object.getOwnPropertyNames&&(u=Object.getOwnPropertyNames(t))}catch{}if(eU(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return e$(t);if(0===u.length)if(!eI(e.stylize))return t;else{if(eI(t)){let r=t.name?": "+t.name:"";return e.stylize("[Function"+r+"]","special")}if(eB(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(eL(t))return e.stylize(Date.prototype.toISOString.call(t),"date");if(eU(t))return e$(t)}let d="",c=!1,h=["{\n","\n}"];if(Array.isArray(t)&&(c=!0,h=["[\n","\n]"]),eI(t)&&(d=" [Function"+(t.name?": "+t.name:"")+"]"),eB(t)&&(d=" "+RegExp.prototype.toString.call(t)),eL(t)&&(d=" "+Date.prototype.toUTCString.call(t)),eU(t)&&(d=" "+e$(t)),0===u.length&&(!c||0==t.length))return h[0]+d+h[1];if(r<0)if(eB(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");else return e.stylize("[Object]","special");return e.seen.push(t),a=c?function(e,t,r,o,n){let i=[];for(let n=0,a=t.length;n<a;++n)eN(t,String(n))?i.push(eW(e,t,r,o,String(n),!0)):i.push("");return n.forEach(n=>{n.match(/^\d+$/)||i.push(eW(e,t,r,o,n,!0))}),i}(e,t,r,p,u):u.map(o=>eW(e,t,r,p,o,c)),e.seen.pop(),o=a,n=d,(i=h)[0]+(""===n?"":n+"\n")+"  "+o.join(",\n  ")+" "+i[1]}function eW(e,t,r,o,n,i){let a,s,l={value:void 0};try{l.value=t[n]}catch{}try{Object.getOwnPropertyDescriptor&&(l=Object.getOwnPropertyDescriptor(t,n)||l)}catch{}if(l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),eN(o,n)||(a="["+n+"]"),!s&&(0>e.seen.indexOf(l.value)?(s=null===r?ez(e,l.value,void 0):ez(e,l.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(e=>"  "+e).join("\n").substr(2):"\n"+s.split("\n").map(e=>"   "+e).join("\n")):s=e.stylize("[Circular]","special")),eF(a)){if(i&&n.match(/^\d+$/))return s;(a=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function eV(e,t){if(eF(t))return e.stylize("undefined","undefined");if(eA(t)){let r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(r,"string")}return"number"==typeof t?e.stylize(""+t,"number"):"boolean"==typeof t?e.stylize(""+t,"boolean"):null===t?e.stylize("null","null"):void 0}function eK(e,t){let r={...e};if(!t||!eM(t))return e;let o={...t},n=Object.keys(t),i=n.length;for(;i--;)r[n[i]]=o[n[i]];return r}let eG=[/(?:^|[\\/])node_modules[\\/].*tslog/i,/(?:^|[\\/])deps[\\/].*tslog/i,/tslog[\\/]+src[\\/]+internal[\\/]/i,/tslog[\\/]+src[\\/]BaseLogger/i,/tslog[\\/]+src[\\/]index/i];function eH(e,t){var r=function(e){let t;return(null==(t="string"==typeof e?.stack?e.stack:void 0)||0===t.length?[]:t.split("\n").map(e=>e.trimEnd())).filter(e=>e.length>0&&!/^\s*Error\b/.test(e))}(e);let o=[];for(let e of r){let r=t(e);null!=r&&o.push(r)}return o}function eZ(e,t){return e<0?0:e>=t?Math.max(0,t-1):e}let eJ=/\u001b\[[0-9;]*m/g,eY={black:"#000000",red:"#ef5350",green:"#66bb6a",yellow:"#fdd835",blue:"#42a5f5",magenta:"#ab47bc",cyan:"#26c6da",white:"#fafafa",blackBright:"#424242",redBright:"#ff7043",greenBright:"#81c784",yellowBright:"#ffe082",blueBright:"#64b5f6",magentaBright:"#ce93d8",cyanBright:"#4dd0e1",whiteBright:"#ffffff"},eQ={bgBlack:"#000000",bgRed:"#ef5350",bgGreen:"#66bb6a",bgYellow:"#fdd835",bgBlue:"#42a5f5",bgMagenta:"#ab47bc",bgCyan:"#26c6da",bgWhite:"#fafafa",bgBlackBright:"#424242",bgRedBright:"#ff7043",bgGreenBright:"#81c784",bgYellowBright:"#ffe082",bgBlueBright:"#64b5f6",bgMagentaBright:"#ce93d8",bgCyanBright:"#4dd0e1",bgWhiteBright:"#ffffff"},eX=/(?:(?:file|https?|global code|[^@]+)@)?(?:file:)?((?:\/[^:/]+){2,})(?::(\d+))?(?::(\d+))?/,e0=function(){let e,t,r=function(){let e=globalThis;if("function"==typeof e.importScripts)return{name:"worker",userAgent:e.navigator?.userAgent};let t=globalThis;if(null!=t.Bun){let e=t.Bun.version;return{name:"bun",version:null!=e?`bun/${e}`:void 0,hostname:d(t.process,t.Deno,t.Bun,t.location)}}if(null!=t.Deno){let e=function(e){try{if("function"==typeof e?.hostname){let t=e.hostname();if(null!=t&&t.length>0)return t}}catch{}let t=globalThis.location?.hostname;if(null!=t&&t.length>0)return t}(t.Deno),r=t.Deno?.version?.deno;return{name:"deno",version:null!=r?`deno/${r}`:void 0,hostname:e??d(t.process,t.Deno,t.Bun,t.location)}}return t.process?.versions?.node!=null||t.process?.version!=null?{name:"node",version:t.process?.versions?.node??t.process?.version,hostname:d(t.process,t.Deno,t.Bun,t.location)}:null!=t.process?{name:"node",version:"unknown",hostname:d(t.process,t.Deno,t.Bun,t.location)}:{name:"unknown"}}(),o=function(e){if("browser"===e.name||"worker"===e.name)return{runtime:e.name,browser:e.userAgent};let t={runtime:e.name};return("node"===r.name||"deno"===r.name||"bun"===r.name)&&(t.runtimeVersion=e.version??"unknown"),("node"===r.name||"deno"===r.name||"bun"===r.name)&&(t.hostname=e.hostname??"unknown"),t}(r),n="browser"===r.name||"worker"===r.name,i=n?[...eG,/node_modules[\\/].*tslog/i]:[...eG,/node:(?:internal|vm)/i,/\binternal[\\/]/i],a={getMeta:(e,t,r,n,i,s)=>Object.assign({},o,{name:i,parentNames:s,date:new Date,logLevelId:e,logLevelName:t,path:n?void 0:a.getCallerStackFrame(r)}),getCallerStackFrame(e,t=Error()){let r=eH(t,e=>s(e));if(0===r.length)return{};let o=function(e,t=eG){for(let r=0;r<e.length;r+=1){let o=e[r],n=o.filePath??"",i=o.fullFilePath??"";if(!t.some(e=>e.test(n)||e.test(i)))return r}return 0}(r,i),n=Number.isFinite(e)&&e>=0?eZ(e,r.length):eZ(o,r.length);return r[n]??{}},getErrorTrace:e=>eH(e,e=>s(e)),isError:e=>(function(e){if(e instanceof Error)return!0;if(null!=e&&"object"==typeof e){let t=Object.prototype.toString.call(e);if(/\[object .*Error\]/.test(t))return!0;let r=e.name;if("string"==typeof r&&r.endsWith("Error"))return!0}return!1})(e),isBuffer:e=>"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e),prettyFormatLogObj:(e,t)=>e.reduce((e,r)=>(a.isError(r)?e.errors.push(a.prettyFormatErrorObj(r,t)):e.args.push(r),e),{args:[],errors:[]}),prettyFormatErrorObj(e,t){var r;let o=l(a.getErrorTrace(e),t),n=(function(e,t={}){let r=t.maxDepth??5,o=[],n=new Set,i=e,a=0;for(;null!=i&&a<r;){let e=i?.cause;if(null==e||n.has(e))break;n.add(e),o.push(eS(e)),i=e,a+=1}return o})(e).map((e,r)=>[`Caused by (${r+1}): ${e.name??"Error"}${e.message?`: ${e.message}`:""}`,...l(eH(e,e=>s(e)),t)].join("\n")),i={errorName:` ${e.name} `,errorMessage:Object.getOwnPropertyNames(r=e).filter(e=>"stack"!==e&&"cause"!==e).reduce((e,t)=>{let o=r[t];return"function"==typeof o||e.push(String(o)),e},[]).join(", "),errorStack:[...o,...n].join("\n")};return ek(t,t.prettyErrorTemplate,i)},transportFormatted(e,t,o,n,i){let a=!1!==i.stylePrettyLogs,s=(o.length>0&&t.length>0?"\n":"")+o.join("\n"),l=e.replace(eJ,""),p=a?e:l;a&&("browser"===r.name||"worker"===r.name)&&0;i.prettyInspectOptions.colors=a,console.log(p+u(i.prettyInspectOptions,t)+s)},transportJSON(e){console.log(eR(e))}};return"test"===(e=globalThis?.process,e?.env?.NODE_ENV)&&(a.__resetWorkingDirectoryCacheForTests=()=>{t=void 0}),a;function s(e){return n?function(e){let t=globalThis.location?.origin;if(null==e)return;let r=e.match(eX);if(!r)return;let o=r[1]?.replace(/\?.*$/,"");if(null==o)return;let n=o.split("/"),i=r[2],a=r[3],s=n[n.length-1];return{fullFilePath:t?`${t}${o}`:o,fileName:s,fileNameWithLine:s&&i?`${s}:${i}`:void 0,fileColumn:a,fileLine:i,filePath:o,filePathWithLine:i?`${o}:${i}`:void 0,method:void 0}}(e):function(e){let r,o,n;if("string"!=typeof e||0===e.length)return;let i=e.trim();if(!i.includes(" at ")&&!i.startsWith("at "))return;let a=i.replace(/^at\s+/,""),s=a,l=a.match(/^(.*?)\s+\((.*)\)$/);l&&(r=l[1],s=l[2]);let u=s.replace(/^\(/,"").replace(/\)$/,""),p=u.replace(/\?.*$/,""),d=p,c=p.split(":");c.length>=3&&/^\d+$/.test(c[c.length-1]??"")?(n=c.pop(),o=c.pop(),d=c.join(":")):c.length>=2&&/^\d+$/.test(c[c.length-1]??"")&&(o=c.pop(),d=c.join(":"));let h=d.replace(/^file:\/\//,""),m=(void 0===t&&(t=function(){try{let e=globalThis?.process;if("function"==typeof e?.cwd)return e.cwd()}catch{}try{let e=globalThis?.Deno;if("function"==typeof e?.cwd)return e.cwd()}catch{}}()??null),t??void 0);null!=m&&h.startsWith(m)&&(h=(h=h.slice(m.length)).replace(/^[\\/]/,"")),0===h.length&&(h=d);let g=function(e){if("string"!=typeof e||0===e.length)return e;let t=e.replace(/\\+/g,"\\").replace(/\\/g,"/"),r=t.startsWith("//"),o=t.startsWith("/")&&!r,n=t.match(/^[A-Za-z]:/),i=n?n[0]:"",a=(i?t.slice(i.length):t).split("/"),s=[];for(let e of a)if(""!==e&&"."!==e){if(".."===e){s.length>0&&s.pop();continue}s.push(e)}let l=s.join("/");return(r?l=`//${l}`:o?l=`/${l}`:""!==i&&(l=`${i}${l.length>0?`/${l}`:""}`),0===l.length)?e:l}(h),f=g.length>0?g:h,y=f.split(/\\|\//),_=y[y.length-1],v=_&&o?`${_}:${o}`:void 0,b=f&&o?`${f}:${o}`:void 0;return{fullFilePath:u,fileName:_,fileNameWithLine:v,fileColumn:n,fileLine:o,filePath:f,filePathWithLine:b,method:r}}(e)}function l(e,t){return e.map(e=>ek(t,t.prettyErrorStackTemplate,{...e},!0))}function u(e,t){try{return function(e,...t){let r={seen:[],stylize:eP};null!=e&&eK(r,e);let o=t[0],n=0,i="",a="";if("string"==typeof o){let s;if(1===t.length)return o;let l=0;for(let a=0;a<o.length-1;a++)if(37===o.charCodeAt(a)){let u=o.charCodeAt(++a);if(n+1!==t.length){switch(u){case 115:{let o=t[++n];s="number"==typeof o||"bigint"==typeof o?eV(r,o):"object"!=typeof o||null===o?String(o):ej(o,{...e,compact:3,colors:!1,depth:0});break}case 106:s=eR(t[++n]);break;case 100:{let e=t[++n];s="bigint"==typeof e?eV(r,e):"symbol"==typeof e?"NaN":eV(r,e);break}case 79:s=ej(t[++n],e);break;case 111:s=ej(t[++n],{...e,showHidden:!0,showProxy:!0,depth:4});break;case 105:{let e=t[++n];s="bigint"==typeof e?eV(r,e):"symbol"==typeof e?"NaN":eV(r,parseInt(s));break}case 102:{let e=t[++n];s="symbol"==typeof e?"NaN":eV(r,parseInt(e));break}case 99:n+=1,s="";break;case 37:i+=o.slice(l,a),l=a+1;continue;default:continue}l!==a-1&&(i+=o.slice(l,a-1)),i+=s,l=a+1}else 37===u&&(i+=o.slice(l,a),l=a+1)}0!==l&&(n++,a=" ",l<o.length&&(i+=o.slice(l)))}for(;n<t.length;){let r=t[n];i+=a,i+="string"!=typeof r?ej(r,e):r,a=" ",n++}return i}(e,...t)}catch{return t.map(p).join(" ")}}function p(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch{return String(e)}}function d(e,t,r,o){let n=e?.env?.HOSTNAME??e?.env?.HOST??e?.env?.COMPUTERNAME;if(null!=n&&n.length>0)return n;let i=r?.env?.HOSTNAME??r?.env?.HOST??r?.env?.COMPUTERNAME;if(null!=i&&i.length>0)return i;try{let e=t?.env?.get;if("function"==typeof e){let t=e("HOSTNAME");if(null!=t&&t.length>0)return t}}catch{}if(o?.hostname!=null&&o.hostname.length>0)return o.hostname}}();class e1{constructor(e,t,r=NaN){this.logObj=t,this.stackDepthLevel=r,this.runtime=e0,this.maxErrorCauseDepth=5,this.settings={type:e?.type??"pretty",name:e?.name,parentNames:e?.parentNames,minLevel:e?.minLevel??0,argumentsArrayName:e?.argumentsArrayName,hideLogPositionForProduction:e?.hideLogPositionForProduction??!1,prettyLogTemplate:e?.prettyLogTemplate??"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}	{{logLevelName}}	{{filePathWithLine}}{{nameWithDelimiterPrefix}}	",prettyErrorTemplate:e?.prettyErrorTemplate??"\n{{errorName}} {{errorMessage}}\nerror stack:\n{{errorStack}}",prettyErrorStackTemplate:e?.prettyErrorStackTemplate??"  â¢ {{fileName}}	{{method}}\n	{{filePathWithLine}}",prettyErrorParentNamesSeparator:e?.prettyErrorParentNamesSeparator??":",prettyErrorLoggerNameDelimiter:e?.prettyErrorLoggerNameDelimiter??"	",stylePrettyLogs:e?.stylePrettyLogs??!0,prettyLogTimeZone:e?.prettyLogTimeZone??"UTC",prettyLogStyles:e?.prettyLogStyles??{logLevelName:{"*":["bold","black","bgWhiteBright","dim"],SILLY:["bold","white"],TRACE:["bold","whiteBright"],DEBUG:["bold","green"],INFO:["bold","blue"],WARN:["bold","yellow"],ERROR:["bold","red"],FATAL:["bold","redBright"]},dateIsoStr:"white",filePathWithLine:"white",name:["white","bold"],nameWithDelimiterPrefix:["white","bold"],nameWithDelimiterSuffix:["white","bold"],errorName:["bold","bgRedBright","whiteBright"],fileName:["yellow"],fileNameWithLine:"white"},prettyInspectOptions:e?.prettyInspectOptions??{colors:!0,compact:!1,depth:1/0},metaProperty:e?.metaProperty??"_meta",maskPlaceholder:e?.maskPlaceholder??"[***]",maskValuesOfKeys:e?.maskValuesOfKeys??["password"],maskValuesOfKeysCaseInsensitive:e?.maskValuesOfKeysCaseInsensitive??!1,maskValuesRegEx:e?.maskValuesRegEx,prefix:[...e?.prefix??[]],attachedTransports:[...e?.attachedTransports??[]],overwrite:{mask:e?.overwrite?.mask,toLogObj:e?.overwrite?.toLogObj,addMeta:e?.overwrite?.addMeta,addPlaceholders:e?.overwrite?.addPlaceholders,formatMeta:e?.overwrite?.formatMeta,formatLogObj:e?.overwrite?.formatLogObj,transportFormatted:e?.overwrite?.transportFormatted,transportJSON:e?.overwrite?.transportJSON}},this.captureStackForMeta=this._shouldCaptureStack()}log(e,t,...r){let o,n;if(e<this.settings.minLevel)return;let i=this._resolveLogArguments(r),a=[...this.settings.prefix,...i],s=this.settings.overwrite?.mask!=null?this.settings.overwrite?.mask(a):null!=this.settings.maskValuesOfKeys&&this.settings.maskValuesOfKeys.length>0?this._mask(a):a,l=null!=this.logObj?this._recursiveCloneAndExecuteFunctions(this.logObj):void 0,u=this.settings.overwrite?.toLogObj!=null?this.settings.overwrite?.toLogObj(s,l):this._toLogObj(s,l),p=this.settings.overwrite?.addMeta!=null?this.settings.overwrite?.addMeta(u,e,t):this._addMetaToLogObj(u,e,t),d=p?.[this.settings.metaProperty];if(this.settings.overwrite?.formatMeta!=null&&(o=this.settings.overwrite?.formatMeta(p?.[this.settings.metaProperty])),this.settings.overwrite?.formatLogObj!=null&&(n=this.settings.overwrite?.formatLogObj(s,this.settings)),"pretty"===this.settings.type&&(o=o??this._prettyFormatLogObjMeta(p?.[this.settings.metaProperty]),n=n??e0.prettyFormatLogObj(s,this.settings)),null!=o&&null!=n)if(this.settings.overwrite?.transportFormatted!=null){let e=this.settings.overwrite.transportFormatted,t=e.length;t<4?e(o,n.args,n.errors):4===t?e(o,n.args,n.errors,d):e(o,n.args,n.errors,d,this.settings)}else e0.transportFormatted(o,n.args,n.errors,d,this.settings);else this.settings.overwrite?.transportJSON!=null?this.settings.overwrite.transportJSON(p):"hidden"!==this.settings.type&&e0.transportJSON(p);return null!=this.settings.attachedTransports&&this.settings.attachedTransports.length>0&&this.settings.attachedTransports.forEach(e=>{e(p)}),p}attachTransport(e){this.settings.attachedTransports.push(e)}getSubLogger(e,t){let r={...this.settings,...e,parentNames:this.settings?.parentNames!=null&&this.settings?.name!=null?[...this.settings.parentNames,this.settings.name]:this.settings?.name!=null?[this.settings.name]:void 0,prefix:[...this.settings.prefix,...e?.prefix??[]]};return new this.constructor(r,t??this.logObj,this.stackDepthLevel)}_mask(e){let t=this._getMaskKeys();return e?.map(e=>this._recursiveCloneAndMaskValuesOfKeys(e,t))}_getMaskKeys(){let e=this.settings.maskValuesOfKeys??[],t=e.map(String).join("|");if(!0===this.settings.maskValuesOfKeysCaseInsensitive){if(this.maskKeysCache?.source===e&&!0===this.maskKeysCache.caseInsensitive&&this.maskKeysCache.signature===t)return this.maskKeysCache.normalized;let r=e.map(e=>"string"==typeof e?e.toLowerCase():String(e).toLowerCase());return this.maskKeysCache={source:e,caseInsensitive:!0,normalized:r,signature:t},r}return this.maskKeysCache={source:e,caseInsensitive:!1,normalized:e,signature:t},e}_resolveLogArguments(e){if(1===e.length&&"function"==typeof e[0]){let t=e[0];if(0===t.length){let e=t();return Array.isArray(e)?e:[e]}}return e}_recursiveCloneAndMaskValuesOfKeys(e,t,r=[]){if(r.includes(e))return{...e};if("object"==typeof e&&null!==e&&r.push(e),e0.isError(e)||e0.isBuffer(e))return e;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Array.isArray(e))return e.map(e=>this._recursiveCloneAndMaskValuesOfKeys(e,t,r));if(e instanceof Date)return new Date(e.getTime());else if(e instanceof URL)return{href:e.href,protocol:e.protocol,username:e.username,password:e.password,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,searchParams:[...e.searchParams].map(([e,t])=>({key:e,value:t})),hash:e.hash,origin:e.origin};else if(null!==e&&"object"==typeof e){let o=e0.isError(e)?this._cloneError(e):Object.create(Object.getPrototypeOf(e));return Object.getOwnPropertyNames(e).reduce((o,n)=>{let i=this.settings?.maskValuesOfKeysCaseInsensitive!==!0?n:"string"==typeof n?n.toLowerCase():String(n).toLowerCase();return o[n]=t.includes(i)?this.settings.maskPlaceholder:(()=>{try{return this._recursiveCloneAndMaskValuesOfKeys(e[n],t,r)}catch{return null}})(),o},o)}else{if("string"==typeof e){let t=e;for(let e of this.settings?.maskValuesRegEx||[])t=t.replace(e,this.settings?.maskPlaceholder||"");return t}return e}}_recursiveCloneAndExecuteFunctions(e,t=[]){return this.isObjectOrArray(e)&&t.includes(e)?this.shallowCopy(e):(this.isObjectOrArray(e)&&t.push(e),Array.isArray(e))?e.map(e=>this._recursiveCloneAndExecuteFunctions(e,t)):e instanceof Date?new Date(e.getTime()):this.isObject(e)?Object.getOwnPropertyNames(e).reduce((r,o)=>{let n=Object.getOwnPropertyDescriptor(e,o);if(n){Object.defineProperty(r,o,n);let i=e[o];r[o]="function"==typeof i?i():this._recursiveCloneAndExecuteFunctions(i,t)}return r},Object.create(Object.getPrototypeOf(e))):e}isObjectOrArray(e){return"object"==typeof e&&null!==e}isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}shallowCopy(e){return Array.isArray(e)?[...e]:{...e}}_toLogObj(e,t={}){return e=e?.map(e=>e0.isError(e)?this._toErrorObject(e):e),t=null==this.settings.argumentsArrayName?1!==e.length||Array.isArray(e[0])||!0===e0.isBuffer(e[0])||e[0]instanceof Date?{...t,...e}:"object"==typeof e[0]&&null!=e[0]?{...e[0],...t}:{0:e[0],...t}:{...t,[this.settings.argumentsArrayName]:e}}_cloneError(e){let t=new e.constructor;return Object.getOwnPropertyNames(e).forEach(r=>{t[r]=e[r]}),t}_toErrorObject(e,t=0,r=new Set){r.has(e)||r.add(e);let o={nativeError:e,name:e.name??"Error",message:e.message,stack:e0.getErrorTrace(e)};if(t>=this.maxErrorCauseDepth)return o;let n=e.cause;if(null!=n){let e=eS(n);r.has(e)||(o.cause=this._toErrorObject(e,t+1,r))}return o}_addMetaToLogObj(e,t,r){return{...e,[this.settings.metaProperty]:e0.getMeta(t,r,this.stackDepthLevel,!this.captureStackForMeta,this.settings.name,this.settings.parentNames)}}_shouldCaptureStack(){if(this.settings.hideLogPositionForProduction)return!1;if("json"===this.settings.type)return!0;let e=this.settings.prettyLogTemplate??"";return!!/{{\s*(file(Name|Path|Line|PathWithLine|NameWithLine)|fullFilePath)\s*}}/.test(e)}_prettyFormatLogObjMeta(e){return eT(this.settings,e).text}}var e2=e.i(22734),e3=e.i(83705);e.i(98746);var e6=e.i(54799);let e5=new Uint8Array(256),e4=e5.length;function e8(){return e4>e5.length-16&&((0,e6.randomFillSync)(e5),e4=0),e5.slice(e4,e4+=16)}let e9=[];for(let e=0;e<256;++e)e9.push((e+256).toString(16).slice(1));let e7={};function te(e,t,r,o,n=0){if(e.length<16)throw Error("Random bytes length must be >= 16");if(o){if(n<0||n+16>o.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`)}else o=new Uint8Array(16),n=0;return t??=Date.now(),r??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],o[n++]=t/0x10000000000&255,o[n++]=t/0x100000000&255,o[n++]=t/0x1000000&255,o[n++]=t/65536&255,o[n++]=t/256&255,o[n++]=255&t,o[n++]=112|r>>>28&15,o[n++]=r>>>20&255,o[n++]=128|r>>>14&63,o[n++]=r>>>6&255,o[n++]=r<<2&255|3&e[10],o[n++]=e[11],o[n++]=e[12],o[n++]=e[13],o[n++]=e[14],o[n++]=e[15],o}let tt=function(e,t,r){let o;if(e)o=te(e.random??e.rng?.()??e8(),e.msecs,e.seq,t,r);else{var n,i,a;let e=Date.now(),s=e8();n=e7,i=e,a=s,n.msecs??=-1/0,n.seq??=0,i>n.msecs?(n.seq=a[6]<<23|a[7]<<16|a[8]<<8|a[9],n.msecs=i):(n.seq=n.seq+1|0,0===n.seq&&n.msecs++),o=te(s,e7.msecs,e7.seq,t,r)}return t??function(e,t=0){return(e9[e[t+0]]+e9[e[t+1]]+e9[e[t+2]]+e9[e[t+3]]+"-"+e9[e[t+4]]+e9[e[t+5]]+"-"+e9[e[t+6]]+e9[e[t+7]]+"-"+e9[e[t+8]]+e9[e[t+9]]+"-"+e9[e[t+10]]+e9[e[t+11]]+e9[e[t+12]]+e9[e[t+13]]+e9[e[t+14]]+e9[e[t+15]]).toLowerCase()}(o)};var tr=e.i(87444);let to=new Uint8Array([0,97,115,109,1,0,0,0,1,48,8,96,3,127,127,127,1,127,96,3,127,127,127,0,96,2,127,127,0,96,1,127,1,127,96,3,127,127,126,1,126,96,3,126,127,127,1,126,96,2,127,126,0,96,1,127,1,126,3,11,10,0,0,2,1,3,4,5,6,1,7,5,3,1,0,1,7,85,9,3,109,101,109,2,0,5,120,120,104,51,50,0,0,6,105,110,105,116,51,50,0,2,8,117,112,100,97,116,101,51,50,0,3,8,100,105,103,101,115,116,51,50,0,4,5,120,120,104,54,52,0,5,6,105,110,105,116,54,52,0,7,8,117,112,100,97,116,101,54,52,0,8,8,100,105,103,101,115,116,54,52,0,9,10,251,22,10,242,1,1,4,127,32,0,32,1,106,33,3,32,1,65,16,79,4,127,32,3,65,16,107,33,6,32,2,65,168,136,141,161,2,106,33,3,32,2,65,137,235,208,208,7,107,33,4,32,2,65,207,140,162,142,6,106,33,5,3,64,32,3,32,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,3,32,4,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,4,32,2,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,2,32,5,32,0,65,4,106,34,0,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,5,32,6,32,0,65,4,106,34,0,79,13,0,11,32,2,65,12,119,32,5,65,18,119,106,32,4,65,7,119,106,32,3,65,1,119,106,5,32,2,65,177,207,217,178,1,106,11,32,1,106,32,0,32,1,65,15,113,16,1,11,146,1,0,32,1,32,2,106,33,2,3,64,32,1,65,4,106,32,2,75,69,4,64,32,0,32,1,40,2,0,65,189,220,202,149,124,108,106,65,17,119,65,175,214,211,190,2,108,33,0,32,1,65,4,106,33,1,12,1,11,11,3,64,32,1,32,2,79,69,4,64,32,0,32,1,45,0,0,65,177,207,217,178,1,108,106,65,11,119,65,177,243,221,241,121,108,33,0,32,1,65,1,106,33,1,12,1,11,11,32,0,32,0,65,15,118,115,65,247,148,175,175,120,108,34,0,65,13,118,32,0,115,65,189,220,202,149,124,108,34,0,65,16,118,32,0,115,11,63,0,32,0,65,8,106,32,1,65,168,136,141,161,2,106,54,2,0,32,0,65,12,106,32,1,65,137,235,208,208,7,107,54,2,0,32,0,65,16,106,32,1,54,2,0,32,0,65,20,106,32,1,65,207,140,162,142,6,106,54,2,0,11,195,4,1,6,127,32,1,32,2,106,33,6,32,0,65,24,106,33,4,32,0,65,40,106,40,2,0,33,3,32,0,32,0,40,2,0,32,2,106,54,2,0,32,0,65,4,106,34,5,32,5,40,2,0,32,2,65,16,79,32,0,40,2,0,65,16,79,114,114,54,2,0,32,2,32,3,106,65,16,73,4,64,32,3,32,4,106,32,1,32,2,252,10,0,0,32,0,65,40,106,32,2,32,3,106,54,2,0,15,11,32,3,4,64,32,3,32,4,106,32,1,65,16,32,3,107,34,2,252,10,0,0,32,0,65,8,106,34,3,32,3,40,2,0,32,4,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,54,2,0,32,0,65,12,106,34,3,32,3,40,2,0,32,4,65,4,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,54,2,0,32,0,65,16,106,34,3,32,3,40,2,0,32,4,65,8,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,54,2,0,32,0,65,20,106,34,3,32,3,40,2,0,32,4,65,12,106,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,54,2,0,32,0,65,40,106,65,0,54,2,0,32,1,32,2,106,33,1,11,32,1,32,6,65,16,107,77,4,64,32,6,65,16,107,33,8,32,0,65,8,106,40,2,0,33,2,32,0,65,12,106,40,2,0,33,3,32,0,65,16,106,40,2,0,33,5,32,0,65,20,106,40,2,0,33,7,3,64,32,2,32,1,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,2,32,3,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,3,32,5,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,5,32,7,32,1,65,4,106,34,1,40,2,0,65,247,148,175,175,120,108,106,65,13,119,65,177,243,221,241,121,108,33,7,32,8,32,1,65,4,106,34,1,79,13,0,11,32,0,65,8,106,32,2,54,2,0,32,0,65,12,106,32,3,54,2,0,32,0,65,16,106,32,5,54,2,0,32,0,65,20,106,32,7,54,2,0,11,32,1,32,6,73,4,64,32,4,32,1,32,6,32,1,107,34,1,252,10,0,0,32,0,65,40,106,32,1,54,2,0,11,11,97,1,1,127,32,0,65,16,106,40,2,0,33,1,32,0,65,4,106,40,2,0,4,127,32,1,65,12,119,32,0,65,20,106,40,2,0,65,18,119,106,32,0,65,12,106,40,2,0,65,7,119,106,32,0,65,8,106,40,2,0,65,1,119,106,5,32,1,65,177,207,217,178,1,106,11,32,0,40,2,0,106,32,0,65,24,106,32,0,65,40,106,40,2,0,16,1,11,255,3,2,3,126,1,127,32,0,32,1,106,33,6,32,1,65,32,79,4,126,32,6,65,32,107,33,6,32,2,66,214,235,130,238,234,253,137,245,224,0,124,33,3,32,2,66,177,169,172,193,173,184,212,166,61,125,33,4,32,2,66,249,234,208,208,231,201,161,228,225,0,124,33,5,3,64,32,3,32,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,3,32,4,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,4,32,2,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,2,32,5,32,0,65,8,106,34,0,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,5,32,6,32,0,65,8,106,34,0,79,13,0,11,32,2,66,12,137,32,5,66,18,137,124,32,4,66,7,137,124,32,3,66,1,137,124,32,3,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,4,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,2,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,5,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,5,32,2,66,197,207,217,178,241,229,186,234,39,124,11,32,1,173,124,32,0,32,1,65,31,113,16,6,11,134,2,0,32,1,32,2,106,33,2,3,64,32,2,32,1,65,8,106,79,4,64,32,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,32,0,133,66,27,137,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,33,0,32,1,65,8,106,33,1,12,1,11,11,32,1,65,4,106,32,2,77,4,64,32,0,32,1,53,2,0,66,135,149,175,175,152,182,222,155,158,127,126,133,66,23,137,66,207,214,211,190,210,199,171,217,66,126,66,249,243,221,241,153,246,153,171,22,124,33,0,32,1,65,4,106,33,1,11,3,64,32,1,32,2,73,4,64,32,0,32,1,49,0,0,66,197,207,217,178,241,229,186,234,39,126,133,66,11,137,66,135,149,175,175,152,182,222,155,158,127,126,33,0,32,1,65,1,106,33,1,12,1,11,11,32,0,32,0,66,33,136,133,66,207,214,211,190,210,199,171,217,66,126,34,0,32,0,66,29,136,133,66,249,243,221,241,153,246,153,171,22,126,34,0,32,0,66,32,136,133,11,77,0,32,0,65,8,106,32,1,66,214,235,130,238,234,253,137,245,224,0,124,55,3,0,32,0,65,16,106,32,1,66,177,169,172,193,173,184,212,166,61,125,55,3,0,32,0,65,24,106,32,1,55,3,0,32,0,65,32,106,32,1,66,249,234,208,208,231,201,161,228,225,0,124,55,3,0,11,244,4,2,3,127,4,126,32,1,32,2,106,33,5,32,0,65,40,106,33,4,32,0,65,200,0,106,40,2,0,33,3,32,0,32,0,41,3,0,32,2,173,124,55,3,0,32,2,32,3,106,65,32,73,4,64,32,3,32,4,106,32,1,32,2,252,10,0,0,32,0,65,200,0,106,32,2,32,3,106,54,2,0,15,11,32,3,4,64,32,3,32,4,106,32,1,65,32,32,3,107,34,2,252,10,0,0,32,0,65,8,106,34,3,32,3,41,3,0,32,4,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,55,3,0,32,0,65,16,106,34,3,32,3,41,3,0,32,4,65,8,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,55,3,0,32,0,65,24,106,34,3,32,3,41,3,0,32,4,65,16,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,55,3,0,32,0,65,32,106,34,3,32,3,41,3,0,32,4,65,24,106,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,55,3,0,32,0,65,200,0,106,65,0,54,2,0,32,1,32,2,106,33,1,11,32,1,65,32,106,32,5,77,4,64,32,5,65,32,107,33,2,32,0,65,8,106,41,3,0,33,6,32,0,65,16,106,41,3,0,33,7,32,0,65,24,106,41,3,0,33,8,32,0,65,32,106,41,3,0,33,9,3,64,32,6,32,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,6,32,7,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,7,32,8,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,8,32,9,32,1,65,8,106,34,1,41,3,0,66,207,214,211,190,210,199,171,217,66,126,124,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,33,9,32,2,32,1,65,8,106,34,1,79,13,0,11,32,0,65,8,106,32,6,55,3,0,32,0,65,16,106,32,7,55,3,0,32,0,65,24,106,32,8,55,3,0,32,0,65,32,106,32,9,55,3,0,11,32,1,32,5,73,4,64,32,4,32,1,32,5,32,1,107,34,1,252,10,0,0,32,0,65,200,0,106,32,1,54,2,0,11,11,188,2,1,5,126,32,0,65,24,106,41,3,0,33,1,32,0,41,3,0,34,2,66,32,90,4,126,32,0,65,8,106,41,3,0,34,3,66,1,137,32,0,65,16,106,41,3,0,34,4,66,7,137,124,32,1,66,12,137,32,0,65,32,106,41,3,0,34,5,66,18,137,124,124,32,3,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,4,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,1,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,32,5,66,207,214,211,190,210,199,171,217,66,126,66,31,137,66,135,149,175,175,152,182,222,155,158,127,126,133,66,135,149,175,175,152,182,222,155,158,127,126,66,157,163,181,234,131,177,141,138,250,0,125,5,32,1,66,197,207,217,178,241,229,186,234,39,124,11,32,2,124,32,0,65,40,106,32,2,66,31,131,167,16,6,11]);async function tn(){return function(e){let{exports:{mem:t,xxh32:r,xxh64:o,init32:n,update32:i,digest32:a,init64:s,update64:l,digest64:u}}=e,p=new Uint8Array(t.buffer);function d(e,r){if(t.buffer.byteLength<e+r){let o=Math.ceil((e+r-t.buffer.byteLength)/65536);t.grow(o),p=new Uint8Array(t.buffer)}}function c(e,t,r,o,n,i){d(e);let a=new Uint8Array(e);return p.set(a),r(0,t),a.set(p.subarray(0,e)),{update(t){let r;return p.set(a),"string"==typeof t?(d(3*t.length,e),r=f.encodeInto(t,p.subarray(e)).written):(d(t.byteLength,e),p.set(t,e),r=t.byteLength),o(0,e,r),a.set(p.subarray(0,e)),this},digest:()=>(p.set(a),i(n(0)))}}function h(e){return e>>>0}let m=2n**64n-1n;function g(e){return e&m}let f=new TextEncoder,y=0,_=0n;function v(e,t=y){return d(3*e.length,0),h(r(0,f.encodeInto(e,p).written,t))}function b(e,t=_){return d(3*e.length,0),g(o(0,f.encodeInto(e,p).written,t))}return{h32:v,h32ToString:(e,t=y)=>v(e,t).toString(16).padStart(8,"0"),h32Raw:(e,t=y)=>(d(e.byteLength,0),p.set(e),h(r(0,e.byteLength,t))),create32:(e=y)=>c(48,e,n,i,a,h),h64:b,h64ToString:(e,t=_)=>b(e,t).toString(16).padStart(16,"0"),h64Raw:(e,t=_)=>(d(e.byteLength,0),p.set(e),g(o(0,e.byteLength,t))),create64:(e=_)=>c(88,e,s,l,u,g)}}((await WebAssembly.instantiate(to)).instance)}var ti=e.i(24361),ta=Object.prototype.toString,ts=Array.isArray||function(e){return"[object Array]"===ta.call(e)};function tl(e){return"function"==typeof e}function tu(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function tp(e,t){return null!=e&&"object"==typeof e&&t in e}var td=RegExp.prototype.test,tc=/\S/,th={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},tm=/\s*/,tg=/\s+/,tf=/\s*=/,ty=/\s*\}/,t_=/#|\^|\/|>|\{|&|=|!/;function tv(e){this.string=e,this.tail=e,this.pos=0}function tb(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function tw(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}tv.prototype.eos=function(){return""===this.tail},tv.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var r=t[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},tv.prototype.scanUntil=function(e){var t,r=this.tail.search(e);switch(r){case -1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=t.length,t},tb.prototype.push=function(e){return new tb(e,this)},tb.prototype.lookup=function(e){var t=this.cache;if(t.hasOwnProperty(e))n=t[e];else{for(var r,o,n,i,a,s,l=this,u=!1;l;){if(e.indexOf(".")>0)for(i=l.view,a=e.split("."),s=0;null!=i&&s<a.length;)s===a.length-1&&(u=tp(i,a[s])||(r=i,o=a[s],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(o))),i=i[a[s++]];else i=l.view[e],u=tp(l.view,e);if(u){n=i;break}l=l.parent}t[e]=n}return tl(n)&&(n=n.call(this.view)),n},tw.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},tw.prototype.parse=function(e,t){var r=this.templateCache,o=e+":"+(t||tD.tags).join(":"),n=void 0!==r,i=n?r.get(o):void 0;return void 0==i&&(i=function(e,t){if(!e)return[];var r,o,n,i,a,s,l,u,p,d=!1,c=[],h=[],m=[],g=!1,f=!1,y="",_=0;function v(){if(g&&!f)for(;m.length;)delete h[m.pop()];else m=[];g=!1,f=!1}function b(e){if("string"==typeof e&&(e=e.split(tg,2)),!ts(e)||2!==e.length)throw Error("Invalid tags: "+e);r=RegExp(tu(e[0])+"\\s*"),o=RegExp("\\s*"+tu(e[1])),n=RegExp("\\s*"+tu("}"+e[1]))}b(t||tD.tags);for(var w=new tv(e);!w.eos();){if(i=w.pos,s=w.scanUntil(r))for(var D=0,C=s.length;D<C;++D)!function(e){return!td.call(tc,e)}(l=s.charAt(D))?(f=!0,d=!0,y+=" "):(m.push(h.length),y+=l),h.push(["text",l,i,i+1]),i+=1,"\n"===l&&(v(),y="",_=0,d=!1);if(!w.scan(r))break;if(g=!0,a=w.scan(t_)||"name",w.scan(tm),"="===a?(s=w.scanUntil(tf),w.scan(tf),w.scanUntil(o)):"{"===a?(s=w.scanUntil(n),w.scan(ty),w.scanUntil(o),a="&"):s=w.scanUntil(o),!w.scan(o))throw Error("Unclosed tag at "+w.pos);if(u=">"==a?[a,s,i,w.pos,y,_,d]:[a,s,i,w.pos],_++,h.push(u),"#"===a||"^"===a)c.push(u);else if("/"===a){if(!(p=c.pop()))throw Error('Unopened section "'+s+'" at '+i);if(p[1]!==s)throw Error('Unclosed section "'+p[1]+'" at '+i)}else"name"===a||"{"===a||"&"===a?f=!0:"="===a&&b(s)}if(v(),p=c.pop())throw Error('Unclosed section "'+p[1]+'" at '+w.pos);return function(e){for(var t,r=[],o=r,n=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":o.push(t),n.push(t),o=t[4]=[];break;case"/":n.pop()[5]=t[2],o=n.length>0?n[n.length-1][4]:r;break;default:o.push(t)}return r}(function(e){for(var t,r,o=[],n=0,i=e.length;n<i;++n)(t=e[n])&&("text"===t[0]&&r&&"text"===r[0]?(r[1]+=t[1],r[3]=t[3]):(o.push(t),r=t));return o}(h))}(e,t),n&&r.set(o,i)),i},tw.prototype.render=function(e,t,r,o){var n=this.getConfigTags(o),i=this.parse(e,n),a=t instanceof tb?t:new tb(t,void 0);return this.renderTokens(i,a,r,e,o)},tw.prototype.renderTokens=function(e,t,r,o,n){for(var i,a,s,l="",u=0,p=e.length;u<p;++u)s=void 0,"#"===(a=(i=e[u])[0])?s=this.renderSection(i,t,r,o,n):"^"===a?s=this.renderInverted(i,t,r,o,n):">"===a?s=this.renderPartial(i,t,r,n):"&"===a?s=this.unescapedValue(i,t):"name"===a?s=this.escapedValue(i,t,n):"text"===a&&(s=this.rawValue(i)),void 0!==s&&(l+=s);return l},tw.prototype.renderSection=function(e,t,r,o,n){var i=this,a="",s=t.lookup(e[1]);if(s){if(ts(s))for(var l=0,u=s.length;l<u;++l)a+=this.renderTokens(e[4],t.push(s[l]),r,o,n);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)a+=this.renderTokens(e[4],t.push(s),r,o,n);else if(tl(s)){if("string"!=typeof o)throw Error("Cannot use higher-order sections without the original template");null!=(s=s.call(t.view,o.slice(e[3],e[5]),function(e){return i.render(e,t,r,n)}))&&(a+=s)}else a+=this.renderTokens(e[4],t,r,o,n);return a}},tw.prototype.renderInverted=function(e,t,r,o,n){var i=t.lookup(e[1]);if(!i||ts(i)&&0===i.length)return this.renderTokens(e[4],t,r,o,n)},tw.prototype.indentPartial=function(e,t,r){for(var o=t.replace(/[^ \t]/g,""),n=e.split("\n"),i=0;i<n.length;i++)n[i].length&&(i>0||!r)&&(n[i]=o+n[i]);return n.join("\n")},tw.prototype.renderPartial=function(e,t,r,o){if(r){var n=this.getConfigTags(o),i=tl(r)?r(e[1]):r[e[1]];if(null!=i){var a=e[6],s=e[5],l=e[4],u=i;0==s&&l&&(u=this.indentPartial(i,l,a));var p=this.parse(u,n);return this.renderTokens(p,t,r,u,o)}}},tw.prototype.unescapedValue=function(e,t){var r=t.lookup(e[1]);if(null!=r)return r},tw.prototype.escapedValue=function(e,t,r){var o=this.getConfigEscape(r)||tD.escape,n=t.lookup(e[1]);if(null!=n)return"number"==typeof n&&o===tD.escape?String(n):o(n)},tw.prototype.rawValue=function(e){return e[1]},tw.prototype.getConfigTags=function(e){return ts(e)?e:e&&"object"==typeof e?e.tags:void 0},tw.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!ts(e)?e.escape:void 0};var tD={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(cache){tC.templateCache=cache},get templateCache(){return tC.templateCache}},tC=new tw;tD.clearCache=function(){return tC.clearCache()},tD.parse=function(e,t){return tC.parse(e,t)},tD.render=function(e,t,r,o){if("string"!=typeof e)throw TypeError('Invalid template! Template should be a "string" but "'+(ts(e)?"array":typeof e)+'" was given as the first argument for mustache#render(template, view, partials)');return tC.render(e,t,r,o)},tD.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return th[e]})},tD.Scanner=tv,tD.Context=tb,tD.Writer=tw;var tE=e.i(30998);function tk(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function tx(e,t){let r=tk(e),o=tk(t),n=r.getTime()-o.getTime();return n<0?-1:n>0?1:n}let tT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function tS(e){return (t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}let tR={date:tS({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:tS({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:tS({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},tj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function tF(e){return(t,r)=>{let o;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,n=r?.width?String(r.width):t;o=e.formattingValues[n]||e.formattingValues[t]}else{let t=e.defaultWidth,n=r?.width?String(r.width):e.defaultWidth;o=e.values[n]||e.values[t]}return o[e.argumentCallback?e.argumentCallback(t):t]}}function tP(e){return(t,r={})=>{let o,n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;let s=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}(l,e=>e.test(s)):function(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}(l,e=>e.test(s));return o=e.valueCallback?e.valueCallback(u):u,{value:o=r.valueCallback?r.valueCallback(o):o,rest:t.slice(s.length)}}}let tO={code:"en-US",formatDistance:(e,t,r)=>{let o,n=tT[e];if(o="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),r?.addSuffix)if(r.comparison&&r.comparison>0)return"in "+o;else return o+" ago";return o},formatLong:tR,formatRelative:(e,t,r,o)=>tj[e],localize:{ordinalNumber:(e,t)=>{let r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:tF({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:tF({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:tF({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:tF({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:tF({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(f={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{let r=e.match(f.matchPattern);if(!r)return null;let o=r[0],n=e.match(f.parsePattern);if(!n)return null;let i=f.valueCallback?f.valueCallback(n[0]):n[0];return{value:i=t.valueCallback?t.valueCallback(i):i,rest:e.slice(o.length)}}),era:tP({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:tP({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:tP({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:tP({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:tP({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},tI={};function tA(e){let t=tk(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),e-r}var tN=e.i(16367),tB=e.i(84819),tM=e.i(10430);let tU=(e=0)=>t=>`\u001B[${t+e}m`,tL=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,tq=(e=0)=>(t,r,o)=>`\u001B[${38+e};2;${t};${r};${o}m`,t$={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(t$.modifier),[...Object.keys(t$.color),...Object.keys(t$.bgColor)];let tz=function(){let e=new Map;for(let[t,r]of Object.entries(t$)){for(let[t,o]of Object.entries(r))t$[t]={open:`\u001B[${o[0]}m`,close:`\u001B[${o[1]}m`},r[t]=t$[t],e.set(o[0],o[1]);Object.defineProperty(t$,t,{value:r,enumerable:!1})}return Object.defineProperty(t$,"codes",{value:e,enumerable:!1}),t$.color.close="\x1b[39m",t$.bgColor.close="\x1b[49m",t$.color.ansi=tU(),t$.color.ansi256=tL(),t$.color.ansi16m=tq(),t$.bgColor.ansi=tU(10),t$.bgColor.ansi256=tL(10),t$.bgColor.ansi16m=tq(10),Object.defineProperties(t$,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map(e=>e+e).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},enumerable:!1},hexToAnsi256:{value:e=>t$.rgbToAnsi256(...t$.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){let t,r,o;if(e<8)return 30+e;if(e<16)return 90+(e-8);if(e>=232)r=t=((e-232)*10+8)/255,o=t;else{let n=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(n/6)/5,o=n%6/5}let n=2*Math.max(t,r,o);if(0===n)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(t));return 2===n&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>t$.ansi256ToAnsi(t$.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>t$.ansi256ToAnsi(t$.hexToAnsi256(e)),enumerable:!1}}),t$}();var tW=e.i(9656);function tV(e,t=globalThis.Deno?globalThis.Deno.args:ey.default.argv){let r=e.startsWith("-")?"":1===e.length?"-":"--",o=t.indexOf(r+e),n=t.indexOf("--");return -1!==o&&(-1===n||o<n)}let{env:tK}=ey.default;function tG(e,r={}){var o;return 0!==(o=function(e,{streamIsTTY:r,sniffFlags:o=!0}={}){let n=function(){if("FORCE_COLOR"in tK)return"true"===tK.FORCE_COLOR?1:"false"===tK.FORCE_COLOR?0:0===tK.FORCE_COLOR.length?1:Math.min(Number.parseInt(tK.FORCE_COLOR,10),3)}();void 0!==n&&(t=n);let i=o?t:n;if(0===i)return 0;if(o){if(tV("color=16m")||tV("color=full")||tV("color=truecolor"))return 3;if(tV("color=256"))return 2}if("TF_BUILD"in tK&&"AGENT_NAME"in tK)return 1;if(e&&!r&&void 0===i)return 0;let a=i||0;if("dumb"===tK.TERM)return a;if("win32"===ey.default.platform){let e=e_.default.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in tK)return["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some(e=>e in tK)?3:["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(e=>e in tK)||"codeship"===tK.CI_NAME?1:a;if("TEAMCITY_VERSION"in tK)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(tK.TEAMCITY_VERSION);if("truecolor"===tK.COLORTERM||"xterm-kitty"===tK.TERM||"xterm-ghostty"===tK.TERM||"wezterm"===tK.TERM)return 3;if("TERM_PROGRAM"in tK){let e=Number.parseInt((tK.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(tK.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(tK.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(tK.TERM)||"COLORTERM"in tK?1:a}(e,{streamIsTTY:e&&e.isTTY,...r}))&&{level:o,hasBasic:!0,has256:o>=2,has16m:o>=3}}tV("no-color")||tV("no-colors")||tV("color=false")||tV("color=never")?t=0:(tV("color")||tV("colors")||tV("color=true")||tV("color=always"))&&(t=1);let{stdout:tH,stderr:tZ}={stdout:tG({isTTY:tW.default.isatty(1)}),stderr:tG({isTTY:tW.default.isatty(2)})},tJ=Symbol("GENERATOR"),tY=Symbol("STYLER"),tQ=Symbol("IS_EMPTY"),tX=["ansi","ansi","ansi256","ansi16m"],t0=Object.create(null);function t1(e){let t;return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw Error("The `level` option should be an integer from 0 to 3");let r=tH?tH.level:0;e.level=void 0===t.level?r:t.level})(t=(...e)=>e.join(" "),e),Object.setPrototypeOf(t,t1.prototype),t}for(let[e,t]of(Object.setPrototypeOf(t1.prototype,Function.prototype),Object.entries(tz)))t0[e]={get(){let r=t5(this,t6(t.open,t.close,this[tY]),this[tQ]);return Object.defineProperty(this,e,{value:r}),r}};t0.visible={get(){let e=t5(this,this[tY],!0);return Object.defineProperty(this,"visible",{value:e}),e}};let t2=(e,t,r,...o)=>"rgb"===e?"ansi16m"===t?tz[r].ansi16m(...o):"ansi256"===t?tz[r].ansi256(tz.rgbToAnsi256(...o)):tz[r].ansi(tz.rgbToAnsi(...o)):"hex"===e?t2("rgb",t,r,...tz.hexToRgb(...o)):tz[r][e](...o);for(let e of["rgb","hex","ansi256"])t0[e]={get(){let{level:t}=this;return function(...r){return t5(this,t6(t2(e,tX[t],"color",...r),tz.color.close,this[tY]),this[tQ])}}},t0["bg"+e[0].toUpperCase()+e.slice(1)]={get(){let{level:t}=this;return function(...r){return t5(this,t6(t2(e,tX[t],"bgColor",...r),tz.bgColor.close,this[tY]),this[tQ])}}};let t3=Object.defineProperties(()=>{},{...t0,level:{enumerable:!0,get(){return this[tJ].level},set(e){this[tJ].level=e}}}),t6=(e,t,r)=>{let o,n;return void 0===r?(o=e,n=t):(o=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:o,closeAll:n,parent:r}},t5=(e,t,r)=>{let o=(...e)=>t4(o,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(o,t3),o[tJ]=e,o[tY]=t,o[tQ]=r,o},t4=(e,t)=>{if(e.level<=0||!t)return e[tQ]?"":t;let r=e[tY];if(void 0===r)return t;let{openAll:o,closeAll:n}=r;if(t.includes("\x1b"))for(;void 0!==r;)t=function(e,t,r){let o=e.indexOf(t);if(-1===o)return e;let n=t.length,i=0,a="";do a+=e.slice(i,o)+t+r,i=o+n,o=e.indexOf(t,i);while(-1!==o)return a+e.slice(i)}(t,r.close,r.open),r=r.parent;let i=t.indexOf("\n");return -1!==i&&(t=function(e,t,r,o){let n=0,i="";do{let a="\r"===e[o-1];i+=e.slice(n,a?o-1:o)+t+(a?"\r\n":"\n")+r,n=o+1,o=e.indexOf("\n",n)}while(-1!==o)return i+e.slice(n)}(t,n,o,i)),o+t+n};Object.defineProperties(t1.prototype,t0);let t8=t1();t1({level:tZ?tZ.level:0});let t9=function({onlyFirst:e=!1}={}){let t=`(?:\\u001B\\][\\s\\S]*?(?:\\u0007|\\u001B\\u005C|\\u009C))`;return RegExp(`${t}|[\\u001B\\u009B][[\\]()#;?]*(?:\\d{1,4}(?:[;:]\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]`,e?void 0:"g")}();function t7(e){if("string"!=typeof e)throw TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(t9,"")}let re=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED8\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDD1D\uDEEF]\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE]|[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE]|\uDEEF\u200D\uD83D\uDC69\uD83C[\uDFFB-\uDFFE])))?))?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC2\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF]|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC30\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE])|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3\uDE70]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF]|\uDEEF\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,rt=new Intl.Segmenter,rr=/^\p{Default_Ignorable_Code_Point}$/u;function ro(e,t={}){if("string"!=typeof e||0===e.length)return 0;let{ambiguousIsNarrow:r=!0,countAnsiEscapeCodes:o=!1}=t;if(o||(e=t7(e)),0===e.length)return 0;let n=0,i={ambiguousAsWide:!r};for(let{segment:t}of rt.segment(e)){let e=t.codePointAt(0);if(!(e<=31)&&(!(e>=127)||!(e<=159))&&(!(e>=8203)||!(e<=8207))&&65279!==e&&(!(e>=768)||!(e<=879))&&(!(e>=6832)||!(e<=6911))&&(!(e>=7616)||!(e<=7679))&&(!(e>=8400)||!(e<=8447))&&(!(e>=65056)||!(e<=65071))&&(!(e>=55296)||!(e<=57343))&&(!(e>=65024)||!(e<=65039))&&!rr.test(t)){if(re().test(t)){n+=2;continue}n+=function(e,{ambiguousAsWide:t=!1}={}){var r;if(!Number.isSafeInteger(e))throw TypeError(`Expected a code point, got \`${typeof e}\`.`);return 12288===e||e>=65281&&e<=65376||e>=65504&&e<=65510||(r=e)>=4352&&r<=4447||8986===r||8987===r||9001===r||9002===r||r>=9193&&r<=9196||9200===r||9203===r||9725===r||9726===r||9748===r||9749===r||r>=9776&&r<=9783||r>=9800&&r<=9811||9855===r||r>=9866&&r<=9871||9875===r||9889===r||9898===r||9899===r||9917===r||9918===r||9924===r||9925===r||9934===r||9940===r||9962===r||9970===r||9971===r||9973===r||9978===r||9981===r||9989===r||9994===r||9995===r||10024===r||10060===r||10062===r||r>=10067&&r<=10069||10071===r||r>=10133&&r<=10135||10160===r||10175===r||11035===r||11036===r||11088===r||11093===r||r>=11904&&r<=11929||r>=11931&&r<=12019||r>=12032&&r<=12245||r>=12272&&r<=12287||r>=12289&&r<=12350||r>=12353&&r<=12438||r>=12441&&r<=12543||r>=12549&&r<=12591||r>=12593&&r<=12686||r>=12688&&r<=12773||r>=12783&&r<=12830||r>=12832&&r<=12871||r>=12880&&r<=42124||r>=42128&&r<=42182||r>=43360&&r<=43388||r>=44032&&r<=55203||r>=63744&&r<=64255||r>=65040&&r<=65049||r>=65072&&r<=65106||r>=65108&&r<=65126||r>=65128&&r<=65131||r>=94176&&r<=94180||r>=94192&&r<=94198||r>=94208&&r<=101589||r>=101631&&r<=101662||r>=101760&&r<=101874||r>=110576&&r<=110579||r>=110581&&r<=110587||110589===r||110590===r||r>=110592&&r<=110882||110898===r||r>=110928&&r<=110930||110933===r||r>=110948&&r<=110951||r>=110960&&r<=111355||r>=119552&&r<=119638||r>=119648&&r<=119670||126980===r||127183===r||127374===r||r>=127377&&r<=127386||r>=127488&&r<=127490||r>=127504&&r<=127547||r>=127552&&r<=127560||127568===r||127569===r||r>=127584&&r<=127589||r>=127744&&r<=127776||r>=127789&&r<=127797||r>=127799&&r<=127868||r>=127870&&r<=127891||r>=127904&&r<=127946||r>=127951&&r<=127955||r>=127968&&r<=127984||127988===r||r>=127992&&r<=128062||128064===r||r>=128066&&r<=128252||r>=128255&&r<=128317||r>=128331&&r<=128334||r>=128336&&r<=128359||128378===r||128405===r||128406===r||128420===r||r>=128507&&r<=128591||r>=128640&&r<=128709||128716===r||r>=128720&&r<=128722||r>=128725&&r<=128728||r>=128732&&r<=128735||128747===r||128748===r||r>=128756&&r<=128764||r>=128992&&r<=129003||129008===r||r>=129292&&r<=129338||r>=129340&&r<=129349||r>=129351&&r<=129535||r>=129648&&r<=129660||r>=129664&&r<=129674||r>=129678&&r<=129734||129736===r||r>=129741&&r<=129756||r>=129759&&r<=129770||r>=129775&&r<=129784||r>=131072&&r<=196605||r>=196608&&r<=262141||t&&(161===e||164===e||167===e||168===e||170===e||173===e||174===e||e>=176&&e<=180||e>=182&&e<=186||e>=188&&e<=191||198===e||208===e||215===e||216===e||e>=222&&e<=225||230===e||e>=232&&e<=234||236===e||237===e||240===e||242===e||243===e||e>=247&&e<=250||252===e||254===e||257===e||273===e||275===e||283===e||294===e||295===e||299===e||e>=305&&e<=307||312===e||e>=319&&e<=322||324===e||e>=328&&e<=331||333===e||338===e||339===e||358===e||359===e||363===e||462===e||464===e||466===e||468===e||470===e||472===e||474===e||476===e||593===e||609===e||708===e||711===e||e>=713&&e<=715||717===e||720===e||e>=728&&e<=731||733===e||735===e||e>=768&&e<=879||e>=913&&e<=929||e>=931&&e<=937||e>=945&&e<=961||e>=963&&e<=969||1025===e||e>=1040&&e<=1103||1105===e||8208===e||e>=8211&&e<=8214||8216===e||8217===e||8220===e||8221===e||e>=8224&&e<=8226||e>=8228&&e<=8231||8240===e||8242===e||8243===e||8245===e||8251===e||8254===e||8308===e||8319===e||e>=8321&&e<=8324||8364===e||8451===e||8453===e||8457===e||8467===e||8470===e||8481===e||8482===e||8486===e||8491===e||8531===e||8532===e||e>=8539&&e<=8542||e>=8544&&e<=8555||e>=8560&&e<=8569||8585===e||e>=8592&&e<=8601||8632===e||8633===e||8658===e||8660===e||8679===e||8704===e||8706===e||8707===e||8711===e||8712===e||8715===e||8719===e||8721===e||8725===e||8730===e||e>=8733&&e<=8736||8739===e||8741===e||e>=8743&&e<=8748||8750===e||e>=8756&&e<=8759||8764===e||8765===e||8776===e||8780===e||8786===e||8800===e||8801===e||e>=8804&&e<=8807||8810===e||8811===e||8814===e||8815===e||8834===e||8835===e||8838===e||8839===e||8853===e||8857===e||8869===e||8895===e||8978===e||e>=9312&&e<=9449||e>=9451&&e<=9547||e>=9552&&e<=9587||e>=9600&&e<=9615||e>=9618&&e<=9621||9632===e||9633===e||e>=9635&&e<=9641||9650===e||9651===e||9654===e||9655===e||9660===e||9661===e||9664===e||9665===e||e>=9670&&e<=9672||9675===e||e>=9678&&e<=9681||e>=9698&&e<=9701||9711===e||9733===e||9734===e||9737===e||9742===e||9743===e||9756===e||9758===e||9792===e||9794===e||9824===e||9825===e||e>=9827&&e<=9829||e>=9831&&e<=9834||9836===e||9837===e||9839===e||9886===e||9887===e||9919===e||e>=9926&&e<=9933||e>=9935&&e<=9939||e>=9941&&e<=9953||9955===e||9960===e||9961===e||e>=9963&&e<=9969||9972===e||e>=9974&&e<=9977||9979===e||9980===e||9982===e||9983===e||10045===e||e>=10102&&e<=10111||e>=11094&&e<=11097||e>=12872&&e<=12879||e>=57344&&e<=63743||e>=65024&&e<=65039||65533===e||e>=127232&&e<=127242||e>=127248&&e<=127277||e>=127280&&e<=127337||e>=127344&&e<=127373||127375===e||127376===e||e>=127387&&e<=127404||e>=917760&&e<=917999||e>=983040&&e<=1048573||e>=1048576&&e<=1114109)?2:1}(e,i)}}return n}let rn=(e=0)=>t=>`\u001B[${t+e}m`,ri=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,ra=(e=0)=>(t,r,o)=>`\u001B[${38+e};2;${t};${r};${o}m`,rs={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(rs.modifier),[...Object.keys(rs.color),...Object.keys(rs.bgColor)];let rl=function(){let e=new Map;for(let[t,r]of Object.entries(rs)){for(let[t,o]of Object.entries(r))rs[t]={open:`\u001B[${o[0]}m`,close:`\u001B[${o[1]}m`},r[t]=rs[t],e.set(o[0],o[1]);Object.defineProperty(rs,t,{value:r,enumerable:!1})}return Object.defineProperty(rs,"codes",{value:e,enumerable:!1}),rs.color.close="\x1b[39m",rs.bgColor.close="\x1b[49m",rs.color.ansi=rn(),rs.color.ansi256=ri(),rs.color.ansi16m=ra(),rs.bgColor.ansi=rn(10),rs.bgColor.ansi256=ri(10),rs.bgColor.ansi16m=ra(10),Object.defineProperties(rs,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map(e=>e+e).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},enumerable:!1},hexToAnsi256:{value:e=>rs.rgbToAnsi256(...rs.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){let t,r,o;if(e<8)return 30+e;if(e<16)return 90+(e-8);if(e>=232)r=t=((e-232)*10+8)/255,o=t;else{let n=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(n/6)/5,o=n%6/5}let n=2*Math.max(t,r,o);if(0===n)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(t));return 2===n&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>rs.ansi256ToAnsi(rs.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>rs.ansi256ToAnsi(rs.hexToAnsi256(e)),enumerable:!1}}),rs}();function ru(e,t=globalThis.Deno?globalThis.Deno.args:ey.default.argv){let r=e.startsWith("-")?"":1===e.length?"-":"--",o=t.indexOf(r+e),n=t.indexOf("--");return -1!==o&&(-1===n||o<n)}let{env:rp}=ey.default;function rd(e,t={}){var o;return 0!==(o=function(e,{streamIsTTY:t,sniffFlags:o=!0}={}){let n=function(){if("FORCE_COLOR"in rp)return"true"===rp.FORCE_COLOR?1:"false"===rp.FORCE_COLOR?0:0===rp.FORCE_COLOR.length?1:Math.min(Number.parseInt(rp.FORCE_COLOR,10),3)}();void 0!==n&&(r=n);let i=o?r:n;if(0===i)return 0;if(o){if(ru("color=16m")||ru("color=full")||ru("color=truecolor"))return 3;if(ru("color=256"))return 2}if("TF_BUILD"in rp&&"AGENT_NAME"in rp)return 1;if(e&&!t&&void 0===i)return 0;let a=i||0;if("dumb"===rp.TERM)return a;if("win32"===ey.default.platform){let e=e_.default.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in rp)return["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some(e=>e in rp)?3:["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(e=>e in rp)||"codeship"===rp.CI_NAME?1:a;if("TEAMCITY_VERSION"in rp)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(rp.TEAMCITY_VERSION);if("truecolor"===rp.COLORTERM||"xterm-kitty"===rp.TERM||"xterm-ghostty"===rp.TERM||"wezterm"===rp.TERM)return 3;if("TERM_PROGRAM"in rp){let e=Number.parseInt((rp.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(rp.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(rp.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(rp.TERM)||"COLORTERM"in rp?1:a}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:o,hasBasic:!0,has256:o>=2,has16m:o>=3}}ru("no-color")||ru("no-colors")||ru("color=false")||ru("color=never")?r=0:(ru("color")||ru("colors")||ru("color=true")||ru("color=always"))&&(r=1);let{stdout:rc,stderr:rh}={stdout:rd({isTTY:tW.default.isatty(1)}),stderr:rd({isTTY:tW.default.isatty(2)})},rm=Symbol("GENERATOR"),rg=Symbol("STYLER"),rf=Symbol("IS_EMPTY"),ry=["ansi","ansi","ansi256","ansi16m"],r_=Object.create(null);function rv(e){let t;return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw Error("The `level` option should be an integer from 0 to 3");let r=rc?rc.level:0;e.level=void 0===t.level?r:t.level})(t=(...e)=>e.join(" "),e),Object.setPrototypeOf(t,rv.prototype),t}for(let[e,t]of(Object.setPrototypeOf(rv.prototype,Function.prototype),Object.entries(rl)))r_[e]={get(){let r=rC(this,rD(t.open,t.close,this[rg]),this[rf]);return Object.defineProperty(this,e,{value:r}),r}};r_.visible={get(){let e=rC(this,this[rg],!0);return Object.defineProperty(this,"visible",{value:e}),e}};let rb=(e,t,r,...o)=>"rgb"===e?"ansi16m"===t?rl[r].ansi16m(...o):"ansi256"===t?rl[r].ansi256(rl.rgbToAnsi256(...o)):rl[r].ansi(rl.rgbToAnsi(...o)):"hex"===e?rb("rgb",t,r,...rl.hexToRgb(...o)):rl[r][e](...o);for(let e of["rgb","hex","ansi256"])r_[e]={get(){let{level:t}=this;return function(...r){return rC(this,rD(rb(e,ry[t],"color",...r),rl.color.close,this[rg]),this[rf])}}},r_["bg"+e[0].toUpperCase()+e.slice(1)]={get(){let{level:t}=this;return function(...r){return rC(this,rD(rb(e,ry[t],"bgColor",...r),rl.bgColor.close,this[rg]),this[rf])}}};let rw=Object.defineProperties(()=>{},{...r_,level:{enumerable:!0,get(){return this[rm].level},set(e){this[rm].level=e}}}),rD=(e,t,r)=>{let o,n;return void 0===r?(o=e,n=t):(o=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:o,closeAll:n,parent:r}},rC=(e,t,r)=>{let o=(...e)=>rE(o,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(o,rw),o[rm]=e,o[rg]=t,o[rf]=r,o},rE=(e,t)=>{if(e.level<=0||!t)return e[rf]?"":t;let r=e[rg];if(void 0===r)return t;let{openAll:o,closeAll:n}=r;if(t.includes("\x1b"))for(;void 0!==r;)t=function(e,t,r){let o=e.indexOf(t);if(-1===o)return e;let n=t.length,i=0,a="";do a+=e.slice(i,o)+t+r,i=o+n,o=e.indexOf(t,i);while(-1!==o)return a+e.slice(i)}(t,r.close,r.open),r=r.parent;let i=t.indexOf("\n");return -1!==i&&(t=function(e,t,r,o){let n=0,i="";do{let a="\r"===e[o-1];i+=e.slice(n,a?o-1:o)+t+(a?"\r\n":"\n")+r,n=o+1,o=e.indexOf("\n",n)}while(-1!==o)return i+e.slice(n)}(t,n,o,i)),o+t+n};Object.defineProperties(rv.prototype,r_);let rk=rv();function rx(e){let t=0;for(let r of e.split("\n"))t=Math.max(t,ro(r));return t}rv({level:rh?rh.level:0});var rT=e.i(77773);let rS=/[\p{Lu}]/u,rR=/[\p{Ll}]/u,rj=/^[\p{Lu}](?![\p{Lu}])/gu,rF=/([\p{Alpha}\p{N}_]|$)/u,rP=/[_.\- ]+/,rO=RegExp("^"+rP.source),rI=RegExp(rP.source+rF.source,"gu"),rA=RegExp("\\d+"+rF.source,"gu");var rN=e.i(29455);let rB=(e=0)=>t=>`\u001B[${t+e}m`,rM=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,rU=(e=0)=>(t,r,o)=>`\u001B[${38+e};2;${t};${r};${o}m`,rL={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(rL.modifier),[...Object.keys(rL.color),...Object.keys(rL.bgColor)];let rq=function(){let e=new Map;for(let[t,r]of Object.entries(rL)){for(let[t,o]of Object.entries(r))rL[t]={open:`\u001B[${o[0]}m`,close:`\u001B[${o[1]}m`},r[t]=rL[t],e.set(o[0],o[1]);Object.defineProperty(rL,t,{value:r,enumerable:!1})}return Object.defineProperty(rL,"codes",{value:e,enumerable:!1}),rL.color.close="\x1b[39m",rL.bgColor.close="\x1b[49m",rL.color.ansi=rB(),rL.color.ansi256=rM(),rL.color.ansi16m=rU(),rL.bgColor.ansi=rB(10),rL.bgColor.ansi256=rM(10),rL.bgColor.ansi16m=rU(10),Object.defineProperties(rL,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map(e=>e+e).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},enumerable:!1},hexToAnsi256:{value:e=>rL.rgbToAnsi256(...rL.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){let t,r,o;if(e<8)return 30+e;if(e<16)return 90+(e-8);if(e>=232)r=t=((e-232)*10+8)/255,o=t;else{let n=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(n/6)/5,o=n%6/5}let n=2*Math.max(t,r,o);if(0===n)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(t));return 2===n&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>rL.ansi256ToAnsi(rL.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>rL.ansi256ToAnsi(rL.hexToAnsi256(e)),enumerable:!1}}),rL}(),r$=new Set(["\x1b","Â"]),rz="]8;;",rW=e=>`${r$.values().next().value}[${e}m`,rV=e=>`${r$.values().next().value}${rz}${e}\u0007`,rK=(e,t,r)=>{let o=[...t],n=!1,i=!1,a=ro(t7(e.at(-1)));for(let[t,s]of o.entries()){let l=ro(s);if(a+l<=r?e[e.length-1]+=s:(e.push(s),a=0),r$.has(s)&&(n=!0,i=o.slice(t+1,t+1+rz.length).join("")===rz),n){i?"\x07"===s&&(n=!1,i=!1):"m"===s&&(n=!1);continue}(a+=l)===r&&t<o.length-1&&(e.push(""),a=0)}!a&&e.at(-1).length>0&&e.length>1&&(e[e.length-2]+=e.pop())};function rG(e,t,r){return String(e).normalize().replaceAll("\r\n","\n").split("\n").map(e=>((e,t,r={})=>{let o,n;if(!1!==r.trim&&""===e.trim())return"";let i="",a=e.split(" ").map(e=>ro(e)),s=[""];for(let[o,n]of e.split(" ").entries()){!1!==r.trim&&(s[s.length-1]=s.at(-1).trimStart());let e=ro(s.at(-1));if(0!==o&&(e>=t&&(!1===r.wordWrap||!1===r.trim)&&(s.push(""),e=0),(e>0||!1===r.trim)&&(s[s.length-1]+=" ",e++)),r.hard&&a[o]>t){let r=t-e,i=1+Math.floor((a[o]-r-1)/t);Math.floor((a[o]-1)/t)<i&&s.push(""),rK(s,n,t);continue}if(e+a[o]>t&&e>0&&a[o]>0){if(!1===r.wordWrap&&e<t){rK(s,n,t);continue}s.push("")}if(e+a[o]>t&&!1===r.wordWrap){rK(s,n,t);continue}s[s.length-1]+=n}!1!==r.trim&&(s=s.map(e=>(e=>{let t=e.split(" "),r=t.length;for(;r>0&&!(ro(t[r-1])>0);)r--;return r===t.length?e:t.slice(0,r).join(" ")+t.slice(r).join("")})(e)));let l=s.join("\n"),u=[...l],p=0;for(let[e,t]of u.entries()){if(i+=t,r$.has(t)){let{groups:e}=RegExp(`(?:\\[(?<code>\\d+)m|\\${rz}(?<uri>.*)\u0007)`).exec(l.slice(p))||{groups:{}};if(void 0!==e.code){let t=Number.parseFloat(e.code);o=39===t?void 0:t}else void 0!==e.uri&&(n=0===e.uri.length?void 0:e.uri)}let r=rq.codes.get(Number(o));"\n"===u[e+1]?(n&&(i+=rV("")),o&&r&&(i+=rW(r))):"\n"===t&&(o&&r&&(i+=rW(o)),n&&(i+=rV(n))),p+=t.length}return i})(e,t,r)).join("\n")}let rH="none",rZ=()=>{let{env:e,stdout:t,stderr:r}=ey.default;return t?.columns?t.columns:r?.columns?r.columns:e.COLUMNS?Number.parseInt(e.COLUMNS,10):80},rJ=e=>"number"==typeof e?{top:e,right:3*e,bottom:e,left:3*e}:{top:0,right:0,bottom:0,left:0,...e},rY=(e,t)=>t===rH?e:` ${e} `,rQ=e=>"string"==typeof e&&(rk[e]??e.match(/^#(?:[0-f]{3}){1,2}$/i)),rX=(e=0)=>t=>`\u001B[${t+e}m`,r0=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,r1=(e=0)=>(t,r,o)=>`\u001B[${38+e};2;${t};${r};${o}m`,r2={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(r2.modifier),[...Object.keys(r2.color),...Object.keys(r2.bgColor)];let r3=function(){let e=new Map;for(let[t,r]of Object.entries(r2)){for(let[t,o]of Object.entries(r))r2[t]={open:`\u001B[${o[0]}m`,close:`\u001B[${o[1]}m`},r[t]=r2[t],e.set(o[0],o[1]);Object.defineProperty(r2,t,{value:r,enumerable:!1})}return Object.defineProperty(r2,"codes",{value:e,enumerable:!1}),r2.color.close="\x1b[39m",r2.bgColor.close="\x1b[49m",r2.color.ansi=rX(),r2.color.ansi256=r0(),r2.color.ansi16m=r1(),r2.bgColor.ansi=rX(10),r2.bgColor.ansi256=r0(10),r2.bgColor.ansi16m=r1(10),Object.defineProperties(r2,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map(e=>e+e).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},enumerable:!1},hexToAnsi256:{value:e=>r2.rgbToAnsi256(...r2.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){let t,r,o;if(e<8)return 30+e;if(e<16)return 90+(e-8);if(e>=232)r=t=((e-232)*10+8)/255,o=t;else{let n=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(n/6)/5,o=n%6/5}let n=2*Math.max(t,r,o);if(0===n)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(t));return 2===n&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>r2.ansi256ToAnsi(r2.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>r2.ansi256ToAnsi(r2.hexToAnsi256(e)),enumerable:!1}}),r2}();function r6(e,t=globalThis.Deno?globalThis.Deno.args:ey.default.argv){let r=e.startsWith("-")?"":1===e.length?"-":"--",o=t.indexOf(r+e),n=t.indexOf("--");return -1!==o&&(-1===n||o<n)}let{env:r5}=ey.default;function r4(e,t={}){var r;return 0!==(r=function(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let n=function(){if("FORCE_COLOR"in r5)return"true"===r5.FORCE_COLOR?1:"false"===r5.FORCE_COLOR?0:0===r5.FORCE_COLOR.length?1:Math.min(Number.parseInt(r5.FORCE_COLOR,10),3)}();void 0!==n&&(o=n);let i=r?o:n;if(0===i)return 0;if(r){if(r6("color=16m")||r6("color=full")||r6("color=truecolor"))return 3;if(r6("color=256"))return 2}if("TF_BUILD"in r5&&"AGENT_NAME"in r5)return 1;if(e&&!t&&void 0===i)return 0;let a=i||0;if("dumb"===r5.TERM)return a;if("win32"===ey.default.platform){let e=e_.default.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in r5)return["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some(e=>e in r5)?3:["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(e=>e in r5)||"codeship"===r5.CI_NAME?1:a;if("TEAMCITY_VERSION"in r5)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r5.TEAMCITY_VERSION);if("truecolor"===r5.COLORTERM||"xterm-kitty"===r5.TERM||"xterm-ghostty"===r5.TERM||"wezterm"===r5.TERM)return 3;if("TERM_PROGRAM"in r5){let e=Number.parseInt((r5.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r5.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r5.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r5.TERM)||"COLORTERM"in r5?1:a}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}r6("no-color")||r6("no-colors")||r6("color=false")||r6("color=never")?o=0:(r6("color")||r6("colors")||r6("color=true")||r6("color=always"))&&(o=1);let{stdout:r8,stderr:r9}={stdout:r4({isTTY:tW.default.isatty(1)}),stderr:r4({isTTY:tW.default.isatty(2)})},r7=Symbol("GENERATOR"),oe=Symbol("STYLER"),ot=Symbol("IS_EMPTY"),or=["ansi","ansi","ansi256","ansi16m"],oo=Object.create(null);function on(e){let t;return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw Error("The `level` option should be an integer from 0 to 3");let r=r8?r8.level:0;e.level=void 0===t.level?r:t.level})(t=(...e)=>e.join(" "),e),Object.setPrototypeOf(t,on.prototype),t}for(let[e,t]of(Object.setPrototypeOf(on.prototype,Function.prototype),Object.entries(r3)))oo[e]={get(){let r=ol(this,os(t.open,t.close,this[oe]),this[ot]);return Object.defineProperty(this,e,{value:r}),r}};oo.visible={get(){let e=ol(this,this[oe],!0);return Object.defineProperty(this,"visible",{value:e}),e}};let oi=(e,t,r,...o)=>"rgb"===e?"ansi16m"===t?r3[r].ansi16m(...o):"ansi256"===t?r3[r].ansi256(r3.rgbToAnsi256(...o)):r3[r].ansi(r3.rgbToAnsi(...o)):"hex"===e?oi("rgb",t,r,...r3.hexToRgb(...o)):r3[r][e](...o);for(let e of["rgb","hex","ansi256"])oo[e]={get(){let{level:t}=this;return function(...r){return ol(this,os(oi(e,or[t],"color",...r),r3.color.close,this[oe]),this[ot])}}},oo["bg"+e[0].toUpperCase()+e.slice(1)]={get(){let{level:t}=this;return function(...r){return ol(this,os(oi(e,or[t],"bgColor",...r),r3.bgColor.close,this[oe]),this[ot])}}};let oa=Object.defineProperties(()=>{},{...oo,level:{enumerable:!0,get(){return this[r7].level},set(e){this[r7].level=e}}}),os=(e,t,r)=>{let o,n;return void 0===r?(o=e,n=t):(o=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:o,closeAll:n,parent:r}},ol=(e,t,r)=>{let o=(...e)=>ou(o,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(o,oa),o[r7]=e,o[oe]=t,o[ot]=r,o},ou=(e,t)=>{if(e.level<=0||!t)return e[ot]?"":t;let r=e[oe];if(void 0===r)return t;let{openAll:o,closeAll:n}=r;if(t.includes("\x1b"))for(;void 0!==r;)t=function(e,t,r){let o=e.indexOf(t);if(-1===o)return e;let n=t.length,i=0,a="";do a+=e.slice(i,o)+t+r,i=o+n,o=e.indexOf(t,i);while(-1!==o)return a+e.slice(i)}(t,r.close,r.open),r=r.parent;let i=t.indexOf("\n");return -1!==i&&(t=function(e,t,r,o){let n=0,i="";do{let a="\r"===e[o-1];i+=e.slice(n,a?o-1:o)+t+(a?"\r\n":"\n")+r,n=o+1,o=e.indexOf("\n",n)}while(-1!==o)return i+e.slice(n)}(t,n,o,i)),o+t+n};Object.defineProperties(on.prototype,oo);let op=on();on({level:r9?r9.level:0});var od=ey;let oc=(e,t,r,o)=>{if("length"===r||"prototype"===r||"arguments"===r||"caller"===r)return;let n=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(t,r);(oh(n,i)||!o)&&Object.defineProperty(e,r,i)},oh=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},om=(e,t)=>`/* Wrapped ${e}*/
${t}`,og=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),of=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),oy=new WeakMap,o_=(e,t={})=>{let r;if("function"!=typeof e)throw TypeError("Expected a function");let o=0,n=e.displayName||e.name||"<anonymous>",i=function(...a){if(oy.set(i,++o),1===o)r=e.apply(this,a),e=void 0;else if(!0===t.throw)throw Error(`Function \`${n}\` can only be called once`);return r};return!function(e,t,{ignoreNonConfigurable:r=!1}={}){let o,{name:n}=e;for(let o of Reflect.ownKeys(t))oc(e,t,o,r);(o=Object.getPrototypeOf(t))!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,o),((e,t,r)=>{let o=""===r?"":`with ${r.trim()}() `,n=om.bind(null,o,t.toString());Object.defineProperty(n,"name",of);let{writable:i,enumerable:a,configurable:s}=og;Object.defineProperty(e,"toString",{value:n,writable:i,enumerable:a,configurable:s})})(e,t,n)}(i,e),oy.set(i,o),i};o_.callCount=e=>{if(!oy.has(e))throw Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return oy.get(e)};let ov=[];ov.push("SIGHUP","SIGINT","SIGTERM"),ov.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");let ob=e=>!!e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on,ow=Symbol.for("signal-exit emitter"),oD=globalThis,oC=Object.defineProperty.bind(Object);class oE{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(oD[ow])return oD[ow];oC(oD,ow,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,t){this.listeners[e].push(t)}removeListener(e,t){let r=this.listeners[e],o=r.indexOf(t);-1!==o&&(0===o&&1===r.length?r.length=0:r.splice(o,1))}emit(e,t,r){if(this.emitted[e])return!1;this.emitted[e]=!0;let o=!1;for(let n of this.listeners[e])o=!0===n(t,r)||o;return"exit"===e&&(o=this.emit("afterExit",t,r)||o),o}}class ok{}class ox extends ok{#e="win32"===oT.platform?"SIGINT":"SIGHUP";#t=new oE;#r;#o;#n;#i={};#a=!1;constructor(e){for(const t of(super(),this.#r=e,this.#i={},ov))this.#i[t]=()=>{let r=this.#r.listeners(t),{count:o}=this.#t;if("object"==typeof e.__signal_exit_emitter__&&"number"==typeof e.__signal_exit_emitter__.count&&(o+=e.__signal_exit_emitter__.count),r.length===o){this.unload();let r=this.#t.emit("exit",null,t),o="SIGHUP"===t?this.#e:t;r||e.kill(e.pid,o)}};this.#n=e.reallyExit,this.#o=e.emit}onExit(e,t){if(!ob(this.#r))return()=>{};!1===this.#a&&this.load();let r=t?.alwaysLast?"afterExit":"exit";return this.#t.on(r,e),()=>{this.#t.removeListener(r,e),0===this.#t.listeners.exit.length&&0===this.#t.listeners.afterExit.length&&this.unload()}}load(){if(!this.#a){for(let e of(this.#a=!0,this.#t.count+=1,ov))try{let t=this.#i[e];t&&this.#r.on(e,t)}catch(e){}this.#r.emit=(e,...t)=>this.#s(e,...t),this.#r.reallyExit=e=>this.#l(e)}}unload(){this.#a&&(this.#a=!1,ov.forEach(e=>{let t=this.#i[e];if(!t)throw Error("Listener not defined for signal: "+e);try{this.#r.removeListener(e,t)}catch(e){}}),this.#r.emit=this.#o,this.#r.reallyExit=this.#n,this.#t.count-=1)}#l(e){return ob(this.#r)?(this.#r.exitCode=e||0,this.#t.emit("exit",this.#r.exitCode,null),this.#n.call(this.#r,this.#r.exitCode)):0}#s(e,...t){let r=this.#o;if(!("exit"===e&&ob(this.#r)))return r.call(this.#r,e,...t);{"number"==typeof t[0]&&(this.#r.exitCode=t[0]);let o=r.call(this.#r,e,...t);return this.#t.emit("exit",this.#r.exitCode,null),o}}}let oT=globalThis.process,{onExit:oS,load:oR,unload:oj}=(a=ob(oT)?new ox(oT):new class extends ok{onExit(){return()=>{}}load(){}unload(){}},{onExit:(e,t)=>a.onExit(e,t),load:()=>a.load(),unload:()=>a.unload()}),oF=ey.default.stderr.isTTY?ey.default.stderr:ey.default.stdout.isTTY?ey.default.stdout:void 0,oP=oF?o_(()=>{oS(()=>{oF.write("\x1b[?25h")},{alwaysLast:!0})}):()=>{},oO=!1,oI={};oI.show=(e=od.default.stderr)=>{e.isTTY&&(oO=!1,e.write("\x1b[?25h"))},oI.hide=(e=od.default.stderr)=>{e.isTTY&&(oP(),oO=!0,e.write("\x1b[?25l"))},oI.toggle=(e,t)=>{void 0!==e&&(oO=e),oO?oI.show(t):oI.hide(t)};var oA=e.i(67007);let oN=(e=0)=>t=>`\u001B[${t+e}m`,oB=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,oM=(e=0)=>(t,r,o)=>`\u001B[${38+e};2;${t};${r};${o}m`,oU={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(oU.modifier),[...Object.keys(oU.color),...Object.keys(oU.bgColor)];let oL=function(){let e=new Map;for(let[t,r]of Object.entries(oU)){for(let[t,o]of Object.entries(r))oU[t]={open:`\u001B[${o[0]}m`,close:`\u001B[${o[1]}m`},r[t]=oU[t],e.set(o[0],o[1]);Object.defineProperty(oU,t,{value:r,enumerable:!1})}return Object.defineProperty(oU,"codes",{value:e,enumerable:!1}),oU.color.close="\x1b[39m",oU.bgColor.close="\x1b[49m",oU.color.ansi=oN(),oU.color.ansi256=oB(),oU.color.ansi16m=oM(),oU.bgColor.ansi=oN(10),oU.bgColor.ansi256=oB(10),oU.bgColor.ansi16m=oM(10),Object.defineProperties(oU,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value(e){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[r]=t;3===r.length&&(r=[...r].map(e=>e+e).join(""));let o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,255&o]},enumerable:!1},hexToAnsi256:{value:e=>oU.rgbToAnsi256(...oU.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){let t,r,o;if(e<8)return 30+e;if(e<16)return 90+(e-8);if(e>=232)r=t=((e-232)*10+8)/255,o=t;else{let n=(e-=16)%36;t=Math.floor(e/36)/5,r=Math.floor(n/6)/5,o=n%6/5}let n=2*Math.max(t,r,o);if(0===n)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(t));return 2===n&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,t,r)=>oU.ansi256ToAnsi(oU.rgbToAnsi256(e,t,r)),enumerable:!1},hexToAnsi:{value:e=>oU.ansi256ToAnsi(oU.hexToAnsi256(e)),enumerable:!1}}),oU}();function oq(e,t=globalThis.Deno?globalThis.Deno.args:ey.default.argv){let r=e.startsWith("-")?"":1===e.length?"-":"--",o=t.indexOf(r+e),n=t.indexOf("--");return -1!==o&&(-1===n||o<n)}let{env:o$}=ey.default;function oz(e,t={}){var r;return 0!==(r=function(e,{streamIsTTY:t,sniffFlags:r=!0}={}){let o=function(){if("FORCE_COLOR"in o$)return"true"===o$.FORCE_COLOR?1:"false"===o$.FORCE_COLOR?0:0===o$.FORCE_COLOR.length?1:Math.min(Number.parseInt(o$.FORCE_COLOR,10),3)}();void 0!==o&&(n=o);let i=r?n:o;if(0===i)return 0;if(r){if(oq("color=16m")||oq("color=full")||oq("color=truecolor"))return 3;if(oq("color=256"))return 2}if("TF_BUILD"in o$&&"AGENT_NAME"in o$)return 1;if(e&&!t&&void 0===i)return 0;let a=i||0;if("dumb"===o$.TERM)return a;if("win32"===ey.default.platform){let e=e_.default.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o$)return["GITHUB_ACTIONS","GITEA_ACTIONS","CIRCLECI"].some(e=>e in o$)?3:["TRAVIS","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(e=>e in o$)||"codeship"===o$.CI_NAME?1:a;if("TEAMCITY_VERSION"in o$)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o$.TEAMCITY_VERSION);if("truecolor"===o$.COLORTERM||"xterm-kitty"===o$.TERM||"xterm-ghostty"===o$.TERM||"wezterm"===o$.TERM)return 3;if("TERM_PROGRAM"in o$){let e=Number.parseInt((o$.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o$.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o$.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o$.TERM)||"COLORTERM"in o$?1:a}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}oq("no-color")||oq("no-colors")||oq("color=false")||oq("color=never")?n=0:(oq("color")||oq("colors")||oq("color=true")||oq("color=always"))&&(n=1);let{stdout:oW,stderr:oV}={stdout:oz({isTTY:tW.default.isatty(1)}),stderr:oz({isTTY:tW.default.isatty(2)})},oK=Symbol("GENERATOR"),oG=Symbol("STYLER"),oH=Symbol("IS_EMPTY"),oZ=["ansi","ansi","ansi256","ansi16m"],oJ=Object.create(null);function oY(e){let t;return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw Error("The `level` option should be an integer from 0 to 3");let r=oW?oW.level:0;e.level=void 0===t.level?r:t.level})(t=(...e)=>e.join(" "),e),Object.setPrototypeOf(t,oY.prototype),t}for(let[e,t]of(Object.setPrototypeOf(oY.prototype,Function.prototype),Object.entries(oL)))oJ[e]={get(){let r=o1(this,o0(t.open,t.close,this[oG]),this[oH]);return Object.defineProperty(this,e,{value:r}),r}};oJ.visible={get(){let e=o1(this,this[oG],!0);return Object.defineProperty(this,"visible",{value:e}),e}};let oQ=(e,t,r,...o)=>"rgb"===e?"ansi16m"===t?oL[r].ansi16m(...o):"ansi256"===t?oL[r].ansi256(oL.rgbToAnsi256(...o)):oL[r].ansi(oL.rgbToAnsi(...o)):"hex"===e?oQ("rgb",t,r,...oL.hexToRgb(...o)):oL[r][e](...o);for(let e of["rgb","hex","ansi256"])oJ[e]={get(){let{level:t}=this;return function(...r){return o1(this,o0(oQ(e,oZ[t],"color",...r),oL.color.close,this[oG]),this[oH])}}},oJ["bg"+e[0].toUpperCase()+e.slice(1)]={get(){let{level:t}=this;return function(...r){return o1(this,o0(oQ(e,oZ[t],"bgColor",...r),oL.bgColor.close,this[oG]),this[oH])}}};let oX=Object.defineProperties(()=>{},{...oJ,level:{enumerable:!0,get(){return this[oK].level},set(e){this[oK].level=e}}}),o0=(e,t,r)=>{let o,n;return void 0===r?(o=e,n=t):(o=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:o,closeAll:n,parent:r}},o1=(e,t,r)=>{let o=(...e)=>o2(o,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(o,oX),o[oK]=e,o[oG]=t,o[oH]=r,o},o2=(e,t)=>{if(e.level<=0||!t)return e[oH]?"":t;let r=e[oG];if(void 0===r)return t;let{openAll:o,closeAll:n}=r;if(t.includes("\x1b"))for(;void 0!==r;)t=function(e,t,r){let o=e.indexOf(t);if(-1===o)return e;let n=t.length,i=0,a="";do a+=e.slice(i,o)+t+r,i=o+n,o=e.indexOf(t,i);while(-1!==o)return a+e.slice(i)}(t,r.close,r.open),r=r.parent;let i=t.indexOf("\n");return -1!==i&&(t=function(e,t,r,o){let n=0,i="";do{let a="\r"===e[o-1];i+=e.slice(n,a?o-1:o)+t+(a?"\r\n":"\n")+r,n=o+1,o=e.indexOf("\n",n)}while(-1!==o)return i+e.slice(n)}(t,n,o,i)),o+t+n};Object.defineProperties(oY.prototype,oJ);let o3=oY();oY({level:oV?oV.level:0});let o6={info:o3.blue("â¹"),success:o3.green("â"),warning:o3.yellow("â "),error:o3.red("â")},o5={info:o3.blue("i"),success:o3.green("â"),warning:o3.yellow("â¼"),error:o3.red("Ã")},o4=("win32"!==ey.default.platform?"linux"!==ey.default.env.TERM:ey.default.env.CI||ey.default.env.WT_SESSION||ey.default.env.TERMINUS_SUBLIME||"{cmd::Cmder}"===ey.default.env.ConEmuTask||"Terminus-Sublime"===ey.default.env.TERM_PROGRAM||"vscode"===ey.default.env.TERM_PROGRAM||"xterm-256color"===ey.default.env.TERM||"alacritty"===ey.default.env.TERM||"JetBrains-JediTerm"===ey.default.env.TERMINAL_EMULATOR)?o6:o5,o8=new class{#u=0;start(){this.#u++,1===this.#u&&this.#p()}stop(){if(this.#u<=0)throw Error("`stop` called more times than `start`");this.#u--,0===this.#u&&this.#d()}#p(){"win32"!==ey.default.platform&&ey.default.stdin.isTTY&&(ey.default.stdin.setRawMode(!0),ey.default.stdin.on("data",this.#c),ey.default.stdin.resume())}#d(){ey.default.stdin.isTTY&&(ey.default.stdin.off("data",this.#c),ey.default.stdin.pause(),ey.default.stdin.setRawMode(!1))}#c(e){3===e[0]&&ey.default.emit("SIGINT")}};class o9{#h=0;#m=!1;#g=0;#f=-1;#y=0;#_;#v;#b;#w;#D;#C;#E;#k;#x;#T;#S;color;constructor(e){"string"==typeof e&&(e={text:e}),this.#_={color:"cyan",stream:ey.default.stderr,discardStdin:!0,hideCursor:!0,...e},this.color=this.#_.color,this.spinner=this.#_.spinner,this.#D=this.#_.interval,this.#b=this.#_.stream,this.#C="boolean"==typeof this.#_.isEnabled?this.#_.isEnabled:function({stream:e=process.stdout}={}){return!!(e&&e.isTTY&&"dumb"!==process.env.TERM&&!("CI"in process.env))}({stream:this.#b}),this.#E="boolean"==typeof this.#_.isSilent&&this.#_.isSilent,this.text=this.#_.text,this.prefixText=this.#_.prefixText,this.suffixText=this.#_.suffixText,this.indent=this.#_.indent,"test"===ey.default.env.NODE_ENV&&(this._stream=this.#b,this._isEnabled=this.#C,Object.defineProperty(this,"_linesToClear",{get(){return this.#h},set(e){this.#h=e}}),Object.defineProperty(this,"_frameIndex",{get(){return this.#f}}),Object.defineProperty(this,"_lineCount",{get(){return this.#g}}))}get indent(){return this.#k}set indent(e=0){if(!(e>=0&&Number.isInteger(e)))throw Error("The `indent` option must be an integer from 0 and up");this.#k=e,this.#R()}get interval(){return this.#D??this.#v.interval??100}get spinner(){return this.#v}set spinner(e){if(this.#f=-1,this.#D=void 0,"object"==typeof e){if(void 0===e.frames)throw Error("The given spinner must have a `frames` property");this.#v=e}else if(!function(){let{env:e}=ey.default,{TERM:t,TERM_PROGRAM:r}=e;return"win32"!==ey.default.platform?"linux"!==t:!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||"{cmd::Cmder}"===e.ConEmuTask||"Terminus-Sublime"===r||"vscode"===r||"xterm-256color"===t||"alacritty"===t||"rxvt-unicode"===t||"rxvt-unicode-256color"===t||"JetBrains-JediTerm"===e.TERMINAL_EMULATOR}())this.#v=oA.default.line;else if(void 0===e)this.#v=oA.default.dots;else if("default"!==e&&oA.default[e])this.#v=oA.default[e];else throw Error(`There is no built-in spinner named '${e}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return this.#x}set text(e=""){this.#x=e,this.#R()}get prefixText(){return this.#T}set prefixText(e=""){this.#T=e,this.#R()}get suffixText(){return this.#S}set suffixText(e=""){this.#S=e,this.#R()}get isSpinning(){return void 0!==this.#w}#j(e=this.#T,t=" "){return"string"==typeof e&&""!==e?e+t:"function"==typeof e?e()+t:""}#F(e=this.#S,t=" "){return"string"==typeof e&&""!==e?t+e:"function"==typeof e?t+e():""}#R(){let e=this.#b.columns??80,t=this.#j(this.#T,"-"),r=this.#F(this.#S,"-"),o=" ".repeat(this.#k)+t+"--"+this.#x+"--"+r;for(let t of(this.#g=0,t7(o).split("\n")))this.#g+=Math.max(1,Math.ceil(ro(t,{countAnsiEscapeCodes:!0})/e))}get isEnabled(){return this.#C&&!this.#E}set isEnabled(e){if("boolean"!=typeof e)throw TypeError("The `isEnabled` option must be a boolean");this.#C=e}get isSilent(){return this.#E}set isSilent(e){if("boolean"!=typeof e)throw TypeError("The `isSilent` option must be a boolean");this.#E=e}frame(){let e=Date.now();(-1===this.#f||e-this.#y>=this.interval)&&(this.#f=++this.#f%this.#v.frames.length,this.#y=e);let{frames:t}=this.#v,r=t[this.#f];return this.color&&(r=op[this.color](r)),("string"==typeof this.#T&&""!==this.#T?this.#T+" ":"")+r+("string"==typeof this.text?" "+this.text:"")+("string"==typeof this.#S&&""!==this.#S?" "+this.#S:"")}clear(){if(!this.#C||!this.#b.isTTY)return this;this.#b.cursorTo(0);for(let e=0;e<this.#h;e++)e>0&&this.#b.moveCursor(0,-1),this.#b.clearLine(1);return(this.#k||this.lastIndent!==this.#k)&&this.#b.cursorTo(this.#k),this.lastIndent=this.#k,this.#h=0,this}render(){return this.#E||(this.clear(),this.#b.write(this.frame()),this.#h=this.#g),this}start(e){return e&&(this.text=e),this.#E||(this.#C?this.isSpinning||(this.#_.hideCursor&&oI.hide(this.#b),this.#_.discardStdin&&ey.default.stdin.isTTY&&(this.#m=!0,o8.start()),this.render(),this.#w=setInterval(this.render.bind(this),this.interval)):this.text&&this.#b.write(`- ${this.text}
`)),this}stop(){return this.#C&&(clearInterval(this.#w),this.#w=void 0,this.#f=0,this.clear(),this.#_.hideCursor&&oI.show(this.#b),this.#_.discardStdin&&ey.default.stdin.isTTY&&this.#m&&(o8.stop(),this.#m=!1)),this}succeed(e){return this.stopAndPersist({symbol:o4.success,text:e})}fail(e){return this.stopAndPersist({symbol:o4.error,text:e})}warn(e){return this.stopAndPersist({symbol:o4.warning,text:e})}info(e){return this.stopAndPersist({symbol:o4.info,text:e})}stopAndPersist(e={}){if(this.#E)return this;let t=e.prefixText??this.#T,r=this.#j(t," "),o=e.symbol??" ",n=e.text??this.text,i=e.suffixText??this.#S,a=r+o+("string"==typeof n?(o?" ":"")+n:"")+this.#F(i," ")+"\n";return this.stop(),this.#b.write(a),this}}var o7="vercel.ai.error",ne=Symbol.for(o7),nt=class e extends(C=Error,D=ne,C){constructor({name:e,message:t,cause:r}){super(t),this[D]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,o7)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}},nr="AI_APICallError",no=`vercel.ai.error.${nr}`,nn=Symbol.for(no),ni=class extends(k=nt,E=nn,k){constructor({message:e,url:t,requestBodyValues:r,statusCode:o,responseHeaders:n,responseBody:i,cause:a,isRetryable:s=null!=o&&(408===o||409===o||429===o||o>=500),data:l}){super({name:nr,message:e,cause:a}),this[E]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=o,this.responseHeaders=n,this.responseBody=i,this.isRetryable=s,this.data=l}static isInstance(e){return nt.hasMarker(e,no)}},na="AI_EmptyResponseBodyError",ns=`vercel.ai.error.${na}`,nl=Symbol.for(ns),nu=class extends(T=nt,x=nl,T){constructor({message:e="Empty response body"}={}){super({name:na,message:e}),this[x]=!0}static isInstance(e){return nt.hasMarker(e,ns)}};function np(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}var nd="AI_InvalidArgumentError",nc=`vercel.ai.error.${nd}`,nh=Symbol.for(nc),nm=class extends(R=nt,S=nh,R){constructor({message:e,cause:t,argument:r}){super({name:nd,message:e,cause:t}),this[S]=!0,this.argument=r}static isInstance(e){return nt.hasMarker(e,nc)}},ng="AI_InvalidPromptError",nf=`vercel.ai.error.${ng}`,ny=Symbol.for(nf),n_=class extends(F=nt,j=ny,F){constructor({prompt:e,message:t,cause:r}){super({name:ng,message:`Invalid prompt: ${t}`,cause:r}),this[j]=!0,this.prompt=e}static isInstance(e){return nt.hasMarker(e,nf)}},nv="AI_InvalidResponseDataError",nb=`vercel.ai.error.${nv}`,nw=Symbol.for(nb),nD=class extends(O=nt,P=nw,O){constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:nv,message:t}),this[P]=!0,this.data=e}static isInstance(e){return nt.hasMarker(e,nb)}},nC="AI_JSONParseError",nE=`vercel.ai.error.${nC}`,nk=Symbol.for(nE),nx=class extends(A=nt,I=nk,A){constructor({text:e,cause:t}){super({name:nC,message:`JSON parsing failed: Text: ${e}.
Error message: ${np(t)}`,cause:t}),this[I]=!0,this.text=e}static isInstance(e){return nt.hasMarker(e,nE)}},nT="AI_LoadAPIKeyError",nS=`vercel.ai.error.${nT}`,nR=Symbol.for(nS),nj=class extends(B=nt,N=nR,B){constructor({message:e}){super({name:nT,message:e}),this[N]=!0}static isInstance(e){return nt.hasMarker(e,nS)}},nF=Symbol.for("vercel.ai.error.AI_LoadSettingError");Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var nP="AI_NoSuchModelError",nO=`vercel.ai.error.${nP}`,nI=Symbol.for(nO),nA=class extends(U=nt,M=nI,U){constructor({errorName:e=nP,modelId:t,modelType:r,message:o=`No such ${r}: ${t}`}){super({name:e,message:o}),this[M]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return nt.hasMarker(e,nO)}},nN="AI_TooManyEmbeddingValuesForCallError",nB=`vercel.ai.error.${nN}`,nM=Symbol.for(nB),nU=class extends(q=nt,L=nM,q){constructor(e){super({name:nN,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[L]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return nt.hasMarker(e,nB)}},nL="AI_TypeValidationError",nq=`vercel.ai.error.${nL}`,n$=Symbol.for(nq),nz=class e extends(z=nt,$=n$,z){constructor({value:e,cause:t}){super({name:nL,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${np(t)}`,cause:t}),this[$]=!0,this.value=e}static isInstance(e){return nt.hasMarker(e,nq)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}},nW="AI_UnsupportedFunctionalityError",nV=`vercel.ai.error.${nW}`,nK=Symbol.for(nV),nG=class extends(V=nt,W=nK,V){constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:nW,message:t}),this[W]=!0,this.functionality=e}static isInstance(e){return nt.hasMarker(e,nV)}};e.i(73916);var nH=e.i(33881);e.s(["default",0,nH],64404);var nZ=e.i(34296);(y=K||(K={})).assertEqual=e=>{},y.assertIs=function(e){},y.assertNever=function(e){throw Error()},y.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},y.getValidEnumValues=e=>{let t=y.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let o of t)r[o]=e[o];return y.objectValues(r)},y.objectValues=e=>y.objectKeys(e).map(function(t){return e[t]}),y.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},y.find=(e,t)=>{for(let r of e)if(t(r))return r},y.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,y.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},y.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(G||(G={})).mergeShapes=(e,t)=>({...e,...t});let nJ=K.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nY=e=>{switch(typeof e){case"undefined":return nJ.undefined;case"string":return nJ.string;case"number":return Number.isNaN(e)?nJ.nan:nJ.number;case"boolean":return nJ.boolean;case"function":return nJ.function;case"bigint":return nJ.bigint;case"symbol":return nJ.symbol;case"object":if(Array.isArray(e))return nJ.array;if(null===e)return nJ.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return nJ.promise;if("undefined"!=typeof Map&&e instanceof Map)return nJ.map;if("undefined"!=typeof Set&&e instanceof Set)return nJ.set;if("undefined"!=typeof Date&&e instanceof Date)return nJ.date;return nJ.object;default:return nJ.unknown}};e.s(["ZodParsedType",0,nJ,"getParsedType",0,nY,"objectUtil",()=>G,"util",()=>K],72949);let nQ=K.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nX=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class n0 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},o=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(o);else if("invalid_return_type"===n.code)o(n.returnTypeError);else if("invalid_arguments"===n.code)o(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,o=0;for(;o<n.path.length;){let r=n.path[o];o===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],o++}}};return o(this),r}static assert(e){if(!(e instanceof n0))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,K.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t=Object.create(null),r=[];for(let o of this.issues)if(o.path.length>0){let r=o.path[0];t[r]=t[r]||[],t[r].push(e(o))}else r.push(e(o));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}n0.create=e=>new n0(e),e.s(["ZodError",()=>n0,"ZodIssueCode",0,nQ,"quotelessJson",0,nX],64613);let n1=(e,t)=>{let r;switch(e.code){case nQ.invalid_type:r=e.received===nJ.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case nQ.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,K.jsonStringifyReplacer)}`;break;case nQ.unrecognized_keys:r=`Unrecognized key(s) in object: ${K.joinValues(e.keys,", ")}`;break;case nQ.invalid_union:r="Invalid input";break;case nQ.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${K.joinValues(e.options)}`;break;case nQ.invalid_enum_value:r=`Invalid enum value. Expected ${K.joinValues(e.options)}, received '${e.received}'`;break;case nQ.invalid_arguments:r="Invalid function arguments";break;case nQ.invalid_return_type:r="Invalid function return type";break;case nQ.invalid_date:r="Invalid date";break;case nQ.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:K.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case nQ.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case nQ.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case nQ.custom:r="Invalid input";break;case nQ.invalid_intersection_types:r="Intersection results could not be merged";break;case nQ.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case nQ.not_finite:r="Number must be finite";break;default:r=t.defaultError,K.assertNever(e)}return{message:r}},n2=n1;function n3(e){n2=e}function n6(){return n2}e.s(["getErrorMap",()=>n6,"setErrorMap",()=>n3],74902);let n5=e=>{let{data:t,path:r,errorMaps:o,issueData:n}=e,i=[...r,...n.path||[]],a={...n,path:i};if(void 0!==n.message)return{...n,path:i,message:n.message};let s="";for(let e of o.filter(e=>!!e).slice().reverse())s=e(a,{data:t,defaultError:s}).message;return{...n,path:i,message:s}},n4=[];function n8(e,t){let r=n2,o=n5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===n1?void 0:n1].filter(e=>!!e)});e.common.issues.push(o)}class n9{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let o of t){if("aborted"===o.status)return n7;"dirty"===o.status&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,o=await e.value;r.push({key:t,value:o})}return n9.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let o of t){let{key:t,value:n}=o;if("aborted"===t.status||"aborted"===n.status)return n7;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||o.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let n7=Object.freeze({status:"aborted"}),ie=e=>({status:"dirty",value:e}),it=e=>({status:"valid",value:e}),ir=e=>"aborted"===e.status,io=e=>"dirty"===e.status,ii=e=>"valid"===e.status,ia=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,ie,"EMPTY_PATH",0,n4,"INVALID",0,n7,"OK",0,it,"ParseStatus",()=>n9,"addIssueToContext",()=>n8,"isAborted",0,ir,"isAsync",0,ia,"isDirty",0,io,"isValid",0,ii,"makeIssue",0,n5],3357),e.s([],66264),(_=H||(H={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},_.toString=e=>"string"==typeof e?e:e?.message;class is{constructor(e,t,r,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let il=(e,t)=>{if(ii(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new n0(e.common.issues);return this._error=t,this._error}}};function iu(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:o,description:n}=e;if(t&&(r||o))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:i}=e;return"invalid_enum_value"===t.code?{message:i??n.defaultError}:void 0===n.data?{message:i??o??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:i??r??n.defaultError}},description:n}}class ip{get description(){return this._def.description}_getType(e){return nY(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:nY(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new n9,ctx:{common:e.parent.common,data:e.data,parsedType:nY(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ia(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nY(e)},o=this._parseSync({data:e,path:r.path,parent:r});return il(r,o)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nY(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return ii(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>ii(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nY(e)},o=this._parse({data:e,path:r.path,parent:r});return il(r,await (ia(o)?o:Promise.resolve(o)))}refine(e,t){return this._refinement((r,o)=>{let n=e(r),i=()=>o.addIssue({code:nQ.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(i(),!1)):!!n||(i(),!1)})}refinement(e,t){return this._refinement((r,o)=>!!e(r)||(o.addIssue("function"==typeof t?t(r,o):t),!1))}_refinement(e){return new i5({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return i4.create(this,this._def)}nullable(){return i8.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return i$.create(this)}promise(){return i6.create(this,this._def)}or(e){return iW.create([this,e],this._def)}and(e){return iG.create(this,e,this._def)}transform(e){return new i5({...iu(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new i9({...iu(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:Z.ZodDefault})}brand(){return new ar({typeName:Z.ZodBranded,type:this,...iu(this._def)})}catch(e){return new i7({...iu(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:Z.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ao.create(this,e)}readonly(){return an.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let id=/^c[^\s-]{8,}$/i,ic=/^[0-9a-z]+$/,ih=/^[0-9A-HJKMNP-TV-Z]{26}$/i,im=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ig=/^[a-z0-9_-]{21}$/i,iy=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,i_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ib=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ik=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ix="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iT=RegExp(`^${ix}$`);function iS(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function iR(e){let t=`${ix}T${iS(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class ij extends ip{_parse(e){var t,r,o,n;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==nJ.string){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.string,received:t.parsedType}),n7}let s=new n9;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(n8(a=this._getOrReturnCtx(e,a),{code:nQ.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("max"===l.kind)e.data.length>l.value&&(n8(a=this._getOrReturnCtx(e,a),{code:nQ.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?n8(a,{code:nQ.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&n8(a,{code:nQ.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),s.dirty())}else if("email"===l.kind)iv.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"email",code:nQ.invalid_string,message:l.message}),s.dirty());else if("emoji"===l.kind)i||(i=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),i.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:nQ.invalid_string,message:l.message}),s.dirty());else if("uuid"===l.kind)im.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:nQ.invalid_string,message:l.message}),s.dirty());else if("nanoid"===l.kind)ig.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:nQ.invalid_string,message:l.message}),s.dirty());else if("cuid"===l.kind)id.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:nQ.invalid_string,message:l.message}),s.dirty());else if("cuid2"===l.kind)ic.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:nQ.invalid_string,message:l.message}),s.dirty());else if("ulid"===l.kind)ih.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:nQ.invalid_string,message:l.message}),s.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{n8(a=this._getOrReturnCtx(e,a),{validation:"url",code:nQ.invalid_string,message:l.message}),s.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"regex",code:nQ.invalid_string,message:l.message}),s.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(n8(a=this._getOrReturnCtx(e,a),{code:nQ.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),s.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(n8(a=this._getOrReturnCtx(e,a),{code:nQ.invalid_string,validation:{startsWith:l.value},message:l.message}),s.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(n8(a=this._getOrReturnCtx(e,a),{code:nQ.invalid_string,validation:{endsWith:l.value},message:l.message}),s.dirty()):"datetime"===l.kind?iR(l).test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{code:nQ.invalid_string,validation:"datetime",message:l.message}),s.dirty()):"date"===l.kind?iT.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{code:nQ.invalid_string,validation:"date",message:l.message}),s.dirty()):"time"===l.kind?RegExp(`^${iS(l)}$`).test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{code:nQ.invalid_string,validation:"time",message:l.message}),s.dirty()):"duration"===l.kind?i_.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"duration",code:nQ.invalid_string,message:l.message}),s.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(r=l.version)||!r)&&ib.test(t)||("v6"===r||!r)&&iD.test(t))&&1&&(n8(a=this._getOrReturnCtx(e,a),{validation:"ip",code:nQ.invalid_string,message:l.message}),s.dirty())):"jwt"===l.kind?!function(e,t){if(!iy.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let o=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(o));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(n8(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:nQ.invalid_string,message:l.message}),s.dirty()):"cidr"===l.kind?(o=e.data,!(("v4"===(n=l.version)||!n)&&iw.test(o)||("v6"===n||!n)&&iC.test(o))&&1&&(n8(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:nQ.invalid_string,message:l.message}),s.dirty())):"base64"===l.kind?iE.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"base64",code:nQ.invalid_string,message:l.message}),s.dirty()):"base64url"===l.kind?ik.test(e.data)||(n8(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:nQ.invalid_string,message:l.message}),s.dirty()):K.assertNever(l);return{status:s.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:nQ.invalid_string,...H.errToObj(r)})}_addCheck(e){return new ij({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...H.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...H.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...H.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...H.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...H.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...H.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...H.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...H.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...H.errToObj(t)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new ij({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ij({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ij({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ij.create=e=>new ij({checks:[],typeName:Z.ZodString,coerce:e?.coerce??!1,...iu(e)});class iF extends ip{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==nJ.number){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.number,received:t.parsedType}),n7}let r=new n9;for(let o of this._def.checks)"int"===o.kind?K.isInteger(e.data)||(n8(t=this._getOrReturnCtx(e,t),{code:nQ.invalid_type,expected:"integer",received:"float",message:o.message}),r.dirty()):"min"===o.kind?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):"max"===o.kind?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty()):"multipleOf"===o.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,n=r>o?r:o;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,o.value)&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):"finite"===o.kind?Number.isFinite(e.data)||(n8(t=this._getOrReturnCtx(e,t),{code:nQ.not_finite,message:o.message}),r.dirty()):K.assertNever(o);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,r,o){return new iF({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:H.toString(o)}]})}_addCheck(e){return new iF({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&K.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}iF.create=e=>new iF({checks:[],typeName:Z.ZodNumber,coerce:e?.coerce||!1,...iu(e)});class iP extends ip{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==nJ.bigint)return this._getInvalidInput(e);let r=new n9;for(let o of this._def.checks)"min"===o.kind?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):"max"===o.kind?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty()):"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):K.assertNever(o);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.bigint,received:t.parsedType}),n7}gte(e,t){return this.setLimit("min",e,!0,H.toString(t))}gt(e,t){return this.setLimit("min",e,!1,H.toString(t))}lte(e,t){return this.setLimit("max",e,!0,H.toString(t))}lt(e,t){return this.setLimit("max",e,!1,H.toString(t))}setLimit(e,t,r,o){return new iP({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:H.toString(o)}]})}_addCheck(e){return new iP({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}iP.create=e=>new iP({checks:[],typeName:Z.ZodBigInt,coerce:e?.coerce??!1,...iu(e)});class iO extends ip{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==nJ.boolean){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.boolean,received:t.parsedType}),n7}return it(e.data)}}iO.create=e=>new iO({typeName:Z.ZodBoolean,coerce:e?.coerce||!1,...iu(e)});class iI extends ip{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==nJ.date){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.date,received:t.parsedType}),n7}if(Number.isNaN(e.data.getTime()))return n8(this._getOrReturnCtx(e),{code:nQ.invalid_date}),n7;let r=new n9;for(let o of this._def.checks)"min"===o.kind?e.data.getTime()<o.value&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(n8(t=this._getOrReturnCtx(e,t),{code:nQ.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):K.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new iI({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}iI.create=e=>new iI({checks:[],coerce:e?.coerce||!1,typeName:Z.ZodDate,...iu(e)});class iA extends ip{_parse(e){if(this._getType(e)!==nJ.symbol){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.symbol,received:t.parsedType}),n7}return it(e.data)}}iA.create=e=>new iA({typeName:Z.ZodSymbol,...iu(e)});class iN extends ip{_parse(e){if(this._getType(e)!==nJ.undefined){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.undefined,received:t.parsedType}),n7}return it(e.data)}}iN.create=e=>new iN({typeName:Z.ZodUndefined,...iu(e)});class iB extends ip{_parse(e){if(this._getType(e)!==nJ.null){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.null,received:t.parsedType}),n7}return it(e.data)}}iB.create=e=>new iB({typeName:Z.ZodNull,...iu(e)});class iM extends ip{constructor(){super(...arguments),this._any=!0}_parse(e){return it(e.data)}}iM.create=e=>new iM({typeName:Z.ZodAny,...iu(e)});class iU extends ip{constructor(){super(...arguments),this._unknown=!0}_parse(e){return it(e.data)}}iU.create=e=>new iU({typeName:Z.ZodUnknown,...iu(e)});class iL extends ip{_parse(e){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.never,received:t.parsedType}),n7}}iL.create=e=>new iL({typeName:Z.ZodNever,...iu(e)});class iq extends ip{_parse(e){if(this._getType(e)!==nJ.undefined){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.void,received:t.parsedType}),n7}return it(e.data)}}iq.create=e=>new iq({typeName:Z.ZodVoid,...iu(e)});class i$ extends ip{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),o=this._def;if(t.parsedType!==nJ.array)return n8(t,{code:nQ.invalid_type,expected:nJ.array,received:t.parsedType}),n7;if(null!==o.exactLength){let e=t.data.length>o.exactLength.value,n=t.data.length<o.exactLength.value;(e||n)&&(n8(t,{code:e?nQ.too_big:nQ.too_small,minimum:n?o.exactLength.value:void 0,maximum:e?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(null!==o.minLength&&t.data.length<o.minLength.value&&(n8(t,{code:nQ.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),null!==o.maxLength&&t.data.length>o.maxLength.value&&(n8(t,{code:nQ.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>o.type._parseAsync(new is(t,e,t.path,r)))).then(e=>n9.mergeArray(r,e));let n=[...t.data].map((e,r)=>o.type._parseSync(new is(t,e,t.path,r)));return n9.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new i$({...this._def,minLength:{value:e,message:H.toString(t)}})}max(e,t){return new i$({...this._def,maxLength:{value:e,message:H.toString(t)}})}length(e,t){return new i$({...this._def,exactLength:{value:e,message:H.toString(t)}})}nonempty(e){return this.min(1,e)}}i$.create=(e,t)=>new i$({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...iu(t)});class iz extends ip{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=K.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==nJ.object){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.object,received:t.parsedType}),n7}let{status:t,ctx:r}=this._processInputParams(e),{shape:o,keys:n}=this._getCached(),i=[];if(!(this._def.catchall instanceof iL&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||i.push(e);let a=[];for(let e of n){let t=o[e],n=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new is(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof iL){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of i)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)i.length>0&&(n8(r,{code:nQ.unrecognized_keys,keys:i}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of i){let o=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new is(r,o,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,o=await t.value;e.push({key:r,value:o,alwaysSet:t.alwaysSet})}return e}).then(e=>n9.mergeObjectSync(t,e)):n9.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new iz({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let o=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:H.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new iz({...this._def,unknownKeys:"strip"})}passthrough(){return new iz({...this._def,unknownKeys:"passthrough"})}extend(e){return new iz({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new iz({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Z.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new iz({...this._def,catchall:e})}pick(e){let t={};for(let r of K.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new iz({...this._def,shape:()=>t})}omit(e){let t={};for(let r of K.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new iz({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof iz){let r={};for(let o in t.shape){let n=t.shape[o];r[o]=i4.create(e(n))}return new iz({...t._def,shape:()=>r})}if(t instanceof i$)return new i$({...t._def,type:e(t.element)});if(t instanceof i4)return i4.create(e(t.unwrap()));if(t instanceof i8)return i8.create(e(t.unwrap()));if(t instanceof iH)return iH.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of K.objectKeys(this.shape)){let o=this.shape[r];e&&!e[r]?t[r]=o:t[r]=o.optional()}return new iz({...this._def,shape:()=>t})}required(e){let t={};for(let r of K.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof i4;)e=e._def.innerType;t[r]=e}return new iz({...this._def,shape:()=>t})}keyof(){return i1(K.objectKeys(this.shape))}}iz.create=(e,t)=>new iz({shape:()=>e,unknownKeys:"strip",catchall:iL.create(),typeName:Z.ZodObject,...iu(t)}),iz.strictCreate=(e,t)=>new iz({shape:()=>e,unknownKeys:"strict",catchall:iL.create(),typeName:Z.ZodObject,...iu(t)}),iz.lazycreate=(e,t)=>new iz({shape:e,unknownKeys:"strip",catchall:iL.create(),typeName:Z.ZodObject,...iu(t)});class iW extends ip{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new n0(e.ctx.common.issues));return n8(t,{code:nQ.invalid_union,unionErrors:r}),n7});{let e,o=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},i=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:r}),r.common.issues.length&&o.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=o.map(e=>new n0(e));return n8(t,{code:nQ.invalid_union,unionErrors:n}),n7}}get options(){return this._def.options}}iW.create=(e,t)=>new iW({options:e,typeName:Z.ZodUnion,...iu(t)});let iV=e=>{if(e instanceof iX)return iV(e.schema);if(e instanceof i5)return iV(e.innerType());if(e instanceof i0)return[e.value];if(e instanceof i2)return e.options;if(e instanceof i3)return K.objectValues(e.enum);else if(e instanceof i9)return iV(e._def.innerType);else if(e instanceof iN)return[void 0];else if(e instanceof iB)return[null];else if(e instanceof i4)return[void 0,...iV(e.unwrap())];else if(e instanceof i8)return[null,...iV(e.unwrap())];else if(e instanceof ar)return iV(e.unwrap());else if(e instanceof an)return iV(e.unwrap());else if(e instanceof i7)return iV(e._def.innerType);else return[]};class iK extends ip{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nJ.object)return n8(t,{code:nQ.invalid_type,expected:nJ.object,received:t.parsedType}),n7;let r=this.discriminator,o=t.data[r],n=this.optionsMap.get(o);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(n8(t,{code:nQ.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),n7)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let o=new Map;for(let r of t){let t=iV(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(o.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);o.set(n,r)}}return new iK({typeName:Z.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...iu(r)})}}class iG extends ip{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),o=(e,o)=>{if(ir(e)||ir(o))return n7;let n=function e(t,r){let o=nY(t),n=nY(r);if(t===r)return{valid:!0,data:t};if(o===nJ.object&&n===nJ.object){let o=K.objectKeys(r),n=K.objectKeys(t).filter(e=>-1!==o.indexOf(e)),i={...t,...r};for(let o of n){let n=e(t[o],r[o]);if(!n.valid)return{valid:!1};i[o]=n.data}return{valid:!0,data:i}}if(o===nJ.array&&n===nJ.array){if(t.length!==r.length)return{valid:!1};let o=[];for(let n=0;n<t.length;n++){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};o.push(i.data)}return{valid:!0,data:o}}if(o===nJ.date&&n===nJ.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,o.value);return n.valid?((io(e)||io(o))&&t.dirty(),{status:t.value,value:n.data}):(n8(r,{code:nQ.invalid_intersection_types}),n7)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>o(e,t)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}iG.create=(e,t,r)=>new iG({left:e,right:t,typeName:Z.ZodIntersection,...iu(r)});class iH extends ip{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nJ.array)return n8(r,{code:nQ.invalid_type,expected:nJ.array,received:r.parsedType}),n7;if(r.data.length<this._def.items.length)return n8(r,{code:nQ.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n7;!this._def.rest&&r.data.length>this._def.items.length&&(n8(r,{code:nQ.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let o=[...r.data].map((e,t)=>{let o=this._def.items[t]||this._def.rest;return o?o._parse(new is(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(o).then(e=>n9.mergeArray(t,e)):n9.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new iH({...this._def,rest:e})}}iH.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new iH({items:e,typeName:Z.ZodTuple,rest:null,...iu(t)})};class iZ extends ip{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nJ.object)return n8(r,{code:nQ.invalid_type,expected:nJ.object,received:r.parsedType}),n7;let o=[],n=this._def.keyType,i=this._def.valueType;for(let e in r.data)o.push({key:n._parse(new is(r,e,r.path,e)),value:i._parse(new is(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?n9.mergeObjectAsync(t,o):n9.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,r){return new iZ(t instanceof ip?{keyType:e,valueType:t,typeName:Z.ZodRecord,...iu(r)}:{keyType:ij.create(),valueType:e,typeName:Z.ZodRecord,...iu(t)})}}class iJ extends ip{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nJ.map)return n8(r,{code:nQ.invalid_type,expected:nJ.map,received:r.parsedType}),n7;let o=this._def.keyType,n=this._def.valueType,i=[...r.data.entries()].map(([e,t],i)=>({key:o._parse(new is(r,e,r.path,[i,"key"])),value:n._parse(new is(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of i){let o=await r.key,n=await r.value;if("aborted"===o.status||"aborted"===n.status)return n7;("dirty"===o.status||"dirty"===n.status)&&t.dirty(),e.set(o.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of i){let o=r.key,n=r.value;if("aborted"===o.status||"aborted"===n.status)return n7;("dirty"===o.status||"dirty"===n.status)&&t.dirty(),e.set(o.value,n.value)}return{status:t.value,value:e}}}}iJ.create=(e,t,r)=>new iJ({valueType:t,keyType:e,typeName:Z.ZodMap,...iu(r)});class iY extends ip{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==nJ.set)return n8(r,{code:nQ.invalid_type,expected:nJ.set,received:r.parsedType}),n7;let o=this._def;null!==o.minSize&&r.data.size<o.minSize.value&&(n8(r,{code:nQ.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),null!==o.maxSize&&r.data.size>o.maxSize.value&&(n8(r,{code:nQ.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());let n=this._def.valueType;function i(e){let r=new Set;for(let o of e){if("aborted"===o.status)return n7;"dirty"===o.status&&t.dirty(),r.add(o.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>n._parse(new is(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>i(e)):i(a)}min(e,t){return new iY({...this._def,minSize:{value:e,message:H.toString(t)}})}max(e,t){return new iY({...this._def,maxSize:{value:e,message:H.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}iY.create=(e,t)=>new iY({valueType:e,minSize:null,maxSize:null,typeName:Z.ZodSet,...iu(t)});class iQ extends ip{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==nJ.function)return n8(t,{code:nQ.invalid_type,expected:nJ.function,received:t.parsedType}),n7;function r(e,r){return n5({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n2,n1].filter(e=>!!e),issueData:{code:nQ.invalid_arguments,argumentsError:r}})}function o(e,r){return n5({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n2,n1].filter(e=>!!e),issueData:{code:nQ.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof i6){let e=this;return it(async function(...t){let a=new n0([]),s=await e._def.args.parseAsync(t,n).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(i,this,s);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw a.addIssue(o(l,e)),a})})}{let e=this;return it(function(...t){let a=e._def.args.safeParse(t,n);if(!a.success)throw new n0([r(t,a.error)]);let s=Reflect.apply(i,this,a.data),l=e._def.returns.safeParse(s,n);if(!l.success)throw new n0([o(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new iQ({...this._def,args:iH.create(e).rest(iU.create())})}returns(e){return new iQ({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new iQ({args:e||iH.create([]).rest(iU.create()),returns:t||iU.create(),typeName:Z.ZodFunction,...iu(r)})}}class iX extends ip{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}iX.create=(e,t)=>new iX({getter:e,typeName:Z.ZodLazy,...iu(t)});class i0 extends ip{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return n8(t,{received:t.data,code:nQ.invalid_literal,expected:this._def.value}),n7}return{status:"valid",value:e.data}}get value(){return this._def.value}}function i1(e,t){return new i2({values:e,typeName:Z.ZodEnum,...iu(t)})}i0.create=(e,t)=>new i0({value:e,typeName:Z.ZodLiteral,...iu(t)});class i2 extends ip{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return n8(t,{expected:K.joinValues(r),received:t.parsedType,code:nQ.invalid_type}),n7}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return n8(t,{received:t.data,code:nQ.invalid_enum_value,options:r}),n7}return it(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return i2.create(e,{...this._def,...t})}exclude(e,t=this._def){return i2.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}i2.create=i1;class i3 extends ip{_parse(e){let t=K.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==nJ.string&&r.parsedType!==nJ.number){let e=K.objectValues(t);return n8(r,{expected:K.joinValues(e),received:r.parsedType,code:nQ.invalid_type}),n7}if(this._cache||(this._cache=new Set(K.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=K.objectValues(t);return n8(r,{received:r.data,code:nQ.invalid_enum_value,options:e}),n7}return it(e.data)}get enum(){return this._def.values}}i3.create=(e,t)=>new i3({values:e,typeName:Z.ZodNativeEnum,...iu(t)});class i6 extends ip{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==nJ.promise&&!1===t.common.async?(n8(t,{code:nQ.invalid_type,expected:nJ.promise,received:t.parsedType}),n7):it((t.parsedType===nJ.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}i6.create=(e,t)=>new i6({type:e,typeName:Z.ZodPromise,...iu(t)});class i5 extends ip{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),o=this._def.effect||null,n={addIssue:e=>{n8(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===o.type){let e=o.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return n7;let o=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===o.status?n7:"dirty"===o.status||"dirty"===t.value?ie(o.value):o});{if("aborted"===t.value)return n7;let o=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===o.status?n7:"dirty"===o.status||"dirty"===t.value?ie(o.value):o}}if("refinement"===o.type){let e=e=>{let t=o.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?n7:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===o.status?n7:("dirty"===o.status&&t.dirty(),e(o.value),{status:t.value,value:o.value})}}if("transform"===o.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>ii(e)?Promise.resolve(o.transform(e.value,n)).then(e=>({status:t.value,value:e})):n7);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ii(e))return n7;let i=o.transform(e.value,n);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}K.assertNever(o)}}i5.create=(e,t,r)=>new i5({schema:e,typeName:Z.ZodEffects,effect:t,...iu(r)}),i5.createWithPreprocess=(e,t,r)=>new i5({schema:t,effect:{type:"preprocess",transform:e},typeName:Z.ZodEffects,...iu(r)});class i4 extends ip{_parse(e){return this._getType(e)===nJ.undefined?it(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}i4.create=(e,t)=>new i4({innerType:e,typeName:Z.ZodOptional,...iu(t)});class i8 extends ip{_parse(e){return this._getType(e)===nJ.null?it(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}i8.create=(e,t)=>new i8({innerType:e,typeName:Z.ZodNullable,...iu(t)});class i9 extends ip{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===nJ.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}i9.create=(e,t)=>new i9({innerType:e,typeName:Z.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...iu(t)});class i7 extends ip{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ia(o)?o.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new n0(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===o.status?o.value:this._def.catchValue({get error(){return new n0(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}i7.create=(e,t)=>new i7({innerType:e,typeName:Z.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...iu(t)});class ae extends ip{_parse(e){if(this._getType(e)!==nJ.nan){let t=this._getOrReturnCtx(e);return n8(t,{code:nQ.invalid_type,expected:nJ.nan,received:t.parsedType}),n7}return{status:"valid",value:e.data}}}ae.create=e=>new ae({typeName:Z.ZodNaN,...iu(e)});let at=Symbol("zod_brand");class ar extends ip{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ao extends ip{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?n7:"dirty"===e.status?(t.dirty(),ie(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?n7:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ao({in:e,out:t,typeName:Z.ZodPipeline})}}class an extends ip{_parse(e){let t=this._def.innerType._parse(e),r=e=>(ii(e)&&(e.value=Object.freeze(e.value)),e);return ia(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function ai(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function aa(e,t={},r){return e?iM.create().superRefine((o,n)=>{let i=e(o);if(i instanceof Promise)return i.then(e=>{if(!e){let e=ai(t,o),i=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:i})}});if(!i){let e=ai(t,o),i=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:i})}}):iM.create()}an.create=(e,t)=>new an({innerType:e,typeName:Z.ZodReadonly,...iu(t)});let as={object:iz.lazycreate};(v=Z||(Z={})).ZodString="ZodString",v.ZodNumber="ZodNumber",v.ZodNaN="ZodNaN",v.ZodBigInt="ZodBigInt",v.ZodBoolean="ZodBoolean",v.ZodDate="ZodDate",v.ZodSymbol="ZodSymbol",v.ZodUndefined="ZodUndefined",v.ZodNull="ZodNull",v.ZodAny="ZodAny",v.ZodUnknown="ZodUnknown",v.ZodNever="ZodNever",v.ZodVoid="ZodVoid",v.ZodArray="ZodArray",v.ZodObject="ZodObject",v.ZodUnion="ZodUnion",v.ZodDiscriminatedUnion="ZodDiscriminatedUnion",v.ZodIntersection="ZodIntersection",v.ZodTuple="ZodTuple",v.ZodRecord="ZodRecord",v.ZodMap="ZodMap",v.ZodSet="ZodSet",v.ZodFunction="ZodFunction",v.ZodLazy="ZodLazy",v.ZodLiteral="ZodLiteral",v.ZodEnum="ZodEnum",v.ZodEffects="ZodEffects",v.ZodNativeEnum="ZodNativeEnum",v.ZodOptional="ZodOptional",v.ZodNullable="ZodNullable",v.ZodDefault="ZodDefault",v.ZodCatch="ZodCatch",v.ZodPromise="ZodPromise",v.ZodBranded="ZodBranded",v.ZodPipeline="ZodPipeline",v.ZodReadonly="ZodReadonly";let al=(e,t={message:`Input not instance of ${e.name}`})=>aa(t=>t instanceof e,t),au=ij.create,ap=iF.create,ad=ae.create,ac=iP.create,ah=iO.create,am=iI.create,ag=iA.create,af=iN.create,ay=iB.create,a_=iM.create,av=iU.create,ab=iL.create,aw=iq.create,aD=i$.create,aC=iz.create,aE=iz.strictCreate,ak=iW.create,ax=iK.create,aT=iG.create,aS=iH.create,aR=iZ.create,aj=iJ.create,aF=iY.create,aP=iQ.create,aO=iX.create,aI=i0.create,aA=i2.create,aN=i3.create,aB=i6.create,aM=i5.create,aU=i4.create,aL=i8.create,aq=i5.createWithPreprocess,a$=ao.create,az=()=>au().optional(),aW=()=>ap().optional(),aV=()=>ah().optional(),aK={string:e=>ij.create({...e,coerce:!0}),number:e=>iF.create({...e,coerce:!0}),boolean:e=>iO.create({...e,coerce:!0}),bigint:e=>iP.create({...e,coerce:!0}),date:e=>iI.create({...e,coerce:!0})};e.s(["BRAND",0,at,"NEVER",0,n7,"Schema",()=>ip,"ZodAny",()=>iM,"ZodArray",()=>i$,"ZodBigInt",()=>iP,"ZodBoolean",()=>iO,"ZodBranded",()=>ar,"ZodCatch",()=>i7,"ZodDate",()=>iI,"ZodDefault",()=>i9,"ZodDiscriminatedUnion",()=>iK,"ZodEffects",()=>i5,"ZodEnum",()=>i2,"ZodFirstPartyTypeKind",()=>Z,"ZodFunction",()=>iQ,"ZodIntersection",()=>iG,"ZodLazy",()=>iX,"ZodLiteral",()=>i0,"ZodMap",()=>iJ,"ZodNaN",()=>ae,"ZodNativeEnum",()=>i3,"ZodNever",()=>iL,"ZodNull",()=>iB,"ZodNullable",()=>i8,"ZodNumber",()=>iF,"ZodObject",()=>iz,"ZodOptional",()=>i4,"ZodPipeline",()=>ao,"ZodPromise",()=>i6,"ZodReadonly",()=>an,"ZodRecord",()=>iZ,"ZodSchema",()=>ip,"ZodSet",()=>iY,"ZodString",()=>ij,"ZodSymbol",()=>iA,"ZodTransformer",()=>i5,"ZodTuple",()=>iH,"ZodType",()=>ip,"ZodUndefined",()=>iN,"ZodUnion",()=>iW,"ZodUnknown",()=>iU,"ZodVoid",()=>iq,"any",()=>a_,"array",()=>aD,"bigint",()=>ac,"boolean",()=>ah,"coerce",0,aK,"custom",()=>aa,"date",()=>am,"datetimeRegex",()=>iR,"discriminatedUnion",()=>ax,"effect",()=>aM,"enum",()=>aA,"function",()=>aP,"instanceof",()=>al,"intersection",()=>aT,"late",0,as,"lazy",()=>aO,"literal",()=>aI,"map",()=>aj,"nan",()=>ad,"nativeEnum",()=>aN,"never",()=>ab,"null",()=>ay,"nullable",()=>aL,"number",()=>ap,"object",()=>aC,"oboolean",()=>aV,"onumber",()=>aW,"optional",()=>aU,"ostring",()=>az,"pipeline",()=>a$,"preprocess",()=>aq,"promise",()=>aB,"record",()=>aR,"set",()=>aF,"strictObject",()=>aE,"string",()=>au,"symbol",()=>ag,"transformer",()=>aM,"tuple",()=>aS,"undefined",()=>af,"union",()=>ak,"unknown",()=>av,"void",()=>aw],55439),e.s([],91276),e.i(91276),e.i(74902),e.s(["defaultErrorMap",0,n1,"getErrorMap",()=>n6,"setErrorMap",()=>n3],59950),e.i(59950),e.i(3357),e.i(66264),e.i(72949),e.i(55439),e.i(64613),e.s(["BRAND",0,at,"DIRTY",0,ie,"EMPTY_PATH",0,n4,"INVALID",0,n7,"NEVER",0,n7,"OK",0,it,"ParseStatus",()=>n9,"Schema",()=>ip,"ZodAny",()=>iM,"ZodArray",()=>i$,"ZodBigInt",()=>iP,"ZodBoolean",()=>iO,"ZodBranded",()=>ar,"ZodCatch",()=>i7,"ZodDate",()=>iI,"ZodDefault",()=>i9,"ZodDiscriminatedUnion",()=>iK,"ZodEffects",()=>i5,"ZodEnum",()=>i2,"ZodError",()=>n0,"ZodFirstPartyTypeKind",()=>Z,"ZodFunction",()=>iQ,"ZodIntersection",()=>iG,"ZodIssueCode",0,nQ,"ZodLazy",()=>iX,"ZodLiteral",()=>i0,"ZodMap",()=>iJ,"ZodNaN",()=>ae,"ZodNativeEnum",()=>i3,"ZodNever",()=>iL,"ZodNull",()=>iB,"ZodNullable",()=>i8,"ZodNumber",()=>iF,"ZodObject",()=>iz,"ZodOptional",()=>i4,"ZodParsedType",0,nJ,"ZodPipeline",()=>ao,"ZodPromise",()=>i6,"ZodReadonly",()=>an,"ZodRecord",()=>iZ,"ZodSchema",()=>ip,"ZodSet",()=>iY,"ZodString",()=>ij,"ZodSymbol",()=>iA,"ZodTransformer",()=>i5,"ZodTuple",()=>iH,"ZodType",()=>ip,"ZodUndefined",()=>iN,"ZodUnion",()=>iW,"ZodUnknown",()=>iU,"ZodVoid",()=>iq,"addIssueToContext",()=>n8,"any",()=>a_,"array",()=>aD,"bigint",()=>ac,"boolean",()=>ah,"coerce",0,aK,"custom",()=>aa,"date",()=>am,"datetimeRegex",()=>iR,"defaultErrorMap",0,n1,"discriminatedUnion",()=>ax,"effect",()=>aM,"enum",()=>aA,"function",()=>aP,"getErrorMap",()=>n6,"getParsedType",0,nY,"instanceof",()=>al,"intersection",()=>aT,"isAborted",0,ir,"isAsync",0,ia,"isDirty",0,io,"isValid",0,ii,"late",0,as,"lazy",()=>aO,"literal",()=>aI,"makeIssue",0,n5,"map",()=>aj,"nan",()=>ad,"nativeEnum",()=>aN,"never",()=>ab,"null",()=>ay,"nullable",()=>aL,"number",()=>ap,"object",()=>aC,"objectUtil",()=>G,"oboolean",()=>aV,"onumber",()=>aW,"optional",()=>aU,"ostring",()=>az,"pipeline",()=>a$,"preprocess",()=>aq,"promise",()=>aB,"quotelessJson",0,nX,"record",()=>aR,"set",()=>aF,"setErrorMap",()=>n3,"strictObject",()=>aE,"string",()=>au,"symbol",()=>ag,"transformer",()=>aM,"tuple",()=>aS,"undefined",()=>af,"union",()=>ak,"unknown",()=>av,"util",()=>K,"void",()=>aw],23682),e.i(23682);class aG extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function aH(e){}class aZ extends TransformStream{constructor({onError:e,onRetry:t,onComment:r}={}){let o;super({start(n){o=function(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=aH,onError:r=aH,onRetry:o=aH,onComment:n}=e,i="",a=!0,s,l="",u="";function p(e){if(""===e)return void(l.length>0&&t({id:s,event:u||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),s=void 0,l="",u="");if(e.startsWith(":")){n&&n(e.slice(e.startsWith(": ")?2:1));return}let r=e.indexOf(":");if(-1!==r){let t=e.slice(0,r),o=" "===e[r+1]?2:1;d(t,e.slice(r+o),e);return}d(e,"",e)}function d(e,t,n){switch(e){case"event":u=t;break;case"data":l=`${l}${t}
`;break;case"id":s=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?o(parseInt(t,10)):r(new aG(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:n}));break;default:r(new aG(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:n}))}}return{feed:function(e){let t=a?e.replace(/^\xEF\xBB\xBF/,""):e,[r,o]=function(e){let t=[],r="",o=0;for(;o<e.length;){let n=e.indexOf("\r",o),i=e.indexOf(`
`,o),a=-1;if(-1!==n&&-1!==i?a=Math.min(n,i):-1!==n?a=n===e.length-1?-1:n:-1!==i&&(a=i),-1===a){r=e.slice(o);break}{let r=e.slice(o,a);t.push(r),"\r"===e[(o=a+1)-1]&&e[o]===`
`&&o++}}return[t,r]}(`${i}${t}`);for(let e of r)p(e);i=o,a=!1},reset:function(e={}){i&&e.consume&&p(i),a=!0,s=void 0,l="",u="",i=""}}}({onEvent:e=>{n.enqueue(e)},onError(t){"terminate"===e?n.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:r})},transform(e){o.feed(e)}})}}function aJ(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}function aY({tools:e=[],providerToolNames:t}){let r={},o={};for(let n of e)if("provider"===n.type&&n.id in t){let e=t[n.id];r[n.name]=e,o[e]=n.name}return{toProviderToolName:e=>{var t;return null!=(t=r[e])?t:e},toCustomToolName:e=>{var t;return null!=(t=o[e])?t:e}}}function aQ(e){return Object.fromEntries([...e.headers])}var{btoa:aX,atob:a0}=globalThis;function a1(e){let t=a0(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function a2(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return aX(t)}function a3(e){return e instanceof Uint8Array?a2(e):e}var a6="AI_DownloadError",a5=`vercel.ai.error.${a6}`,a4=Symbol.for(a5),a8=class extends(Y=nt,J=a4,Y){constructor({url:e,statusCode:t,statusText:r,cause:o,message:n=null==o?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${o}`}){super({name:a6,message:n,cause:o}),this[J]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return nt.hasMarker(e,a5)}};async function a9(e){try{let t=await fetch(e);if(!t.ok)throw new a8({url:e,statusCode:t.status,statusText:t.statusText});return await t.blob()}catch(t){if(a8.isInstance(t))throw t;throw new a8({url:e,cause:t})}}var a7=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:o="-"}={})=>{let n=()=>{let e=r.length,o=Array(t);for(let n=0;n<t;n++)o[n]=r[Math.random()*e|0];return o.join("")};if(null==e)return n;if(r.includes(o))throw new nm({argument:"separator",message:`The separator "${o}" must not be part of the alphabet "${r}".`});return()=>`${e}${o}${n()}`},se=a7();function st(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var sr=["fetch failed","failed to fetch"];function so({error:e,url:t,requestBodyValues:r}){if(st(e))return e;if(e instanceof TypeError&&sr.includes(e.message.toLowerCase())){let o=e.cause;if(null!=o)return new ni({message:`Cannot connect to API: ${o.message}`,cause:o,url:t,requestBodyValues:r,isRetryable:!0})}return e}function sn(e=globalThis){var t,r,o;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?`runtime/${e.navigator.userAgent.toLowerCase()}`:(null==(o=null==(r=e.process)?void 0:r.versions)?void 0:o.node)?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function si(e,...t){let r=new Headers(function(e){if(null==e)return{};let t={};if(e instanceof Headers)e.forEach((e,r)=>{t[r.toLowerCase()]=e});else for(let[r,o]of(Array.isArray(e)||(e=Object.entries(e)),e))null!=o&&(t[r.toLowerCase()]=o);return t}(e)),o=r.get("user-agent")||"";return r.set("user-agent",[o,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var sa="4.0.9",ss=()=>globalThis.fetch,sl=async({url:e,headers:t={},successfulResponseHandler:r,failedResponseHandler:o,abortSignal:n,fetch:i=ss()})=>{try{let a=await i(e,{method:"GET",headers:si(t,`ai-sdk/provider-utils/${sa}`,sn()),signal:n}),s=aQ(a);if(!a.ok){let t;try{t=await o({response:a,url:e,requestBodyValues:{}})}catch(t){if(st(t)||ni.isInstance(t))throw t;throw new ni({message:"Failed to process error response",cause:t,statusCode:a.status,url:e,responseHeaders:s,requestBodyValues:{}})}throw t.value}try{return await r({response:a,url:e,requestBodyValues:{}})}catch(t){if(t instanceof Error&&(st(t)||ni.isInstance(t)))throw t;throw new ni({message:"Failed to process successful response",cause:t,statusCode:a.status,url:e,responseHeaders:s,requestBodyValues:{}})}}catch(t){throw so({error:t,url:e,requestBodyValues:{}})}};function su(e){return null!=e}function sp({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:o}){if("string"==typeof e)return e;if(null!=e)throw new nj({message:`${o} API key must be a string.`});if("undefined"==typeof process)throw new nj({message:`${o} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new nj({message:`${o} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new nj({message:`${o} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function sd({settingValue:e,environmentVariableName:t}){return"string"==typeof e?e:null!=e||"undefined"==typeof process?void 0:null!=(e=process.env[t])&&"string"==typeof e?e:void 0}var sc=/"__proto__"\s*:/,sh=/"constructor"\s*:/;function sm(e){let t=JSON.parse(e);return null===t||"object"!=typeof t||!1===sc.test(e)&&!1===sh.test(e)?t:function(e){let t=[e];for(;t.length;){let e=t;for(let r of(t=[],e)){if(Object.prototype.hasOwnProperty.call(r,"__proto__")||Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let e in r){let o=r[e];o&&"object"==typeof o&&t.push(o)}}}return e}(t)}function sg(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch(t){return sm(e)}try{return sm(e)}finally{Error.stackTraceLimit=t}}function sf(e){if("object"===e.type||Array.isArray(e.type)&&e.type.includes("object")){e.additionalProperties=!1;let{properties:t}=e;if(null!=t)for(let e of Object.keys(t))t[e]=sy(t[e])}null!=e.items&&(e.items=Array.isArray(e.items)?e.items.map(sy):sy(e.items)),null!=e.anyOf&&(e.anyOf=e.anyOf.map(sy)),null!=e.allOf&&(e.allOf=e.allOf.map(sy)),null!=e.oneOf&&(e.oneOf=e.oneOf.map(sy));let{definitions:t}=e;if(null!=t)for(let e of Object.keys(t))t[e]=sy(t[e]);return e}function sy(e){return"boolean"==typeof e?e:sf(e)}var s_=Symbol("Let zodToJsonSchema decide on which parser to use"),sv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function sb(e,t){return sq(e.type._def,t)}var sw=void 0,sD=/^[cC][^\s-]{8,}$/,sC=/^[0-9a-z]+$/,sE=/^[0-9A-HJKMNP-TV-Z]{26}$/,sk=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,sx=()=>(void 0===sw&&(sw=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),sw),sT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,sS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sR=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sF=/^[a-zA-Z0-9_-]{21}$/,sP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function sO(e,t){let r={type:"string"};if(e.checks)for(let o of e.checks)switch(o.kind){case"min":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,o.value):o.value;break;case"max":r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,o.value):o.value;break;case"email":switch(t.emailStrategy){case"format:email":sN(r,"email",o.message,t);break;case"format:idn-email":sN(r,"idn-email",o.message,t);break;case"pattern:zod":sB(r,sk,o.message,t)}break;case"url":sN(r,"uri",o.message,t);break;case"uuid":sN(r,"uuid",o.message,t);break;case"regex":sB(r,o.regex,o.message,t);break;case"cuid":sB(r,sD,o.message,t);break;case"cuid2":sB(r,sC,o.message,t);break;case"startsWith":sB(r,RegExp(`^${sI(o.value,t)}`),o.message,t);break;case"endsWith":sB(r,RegExp(`${sI(o.value,t)}$`),o.message,t);break;case"datetime":sN(r,"date-time",o.message,t);break;case"date":sN(r,"date",o.message,t);break;case"time":sN(r,"time",o.message,t);break;case"duration":sN(r,"duration",o.message,t);break;case"length":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,o.value):o.value,r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,o.value):o.value;break;case"includes":sB(r,RegExp(sI(o.value,t)),o.message,t);break;case"ip":"v6"!==o.version&&sN(r,"ipv4",o.message,t),"v4"!==o.version&&sN(r,"ipv6",o.message,t);break;case"base64url":sB(r,sj,o.message,t);break;case"jwt":sB(r,sP,o.message,t);break;case"cidr":"v6"!==o.version&&sB(r,sT,o.message,t),"v4"!==o.version&&sB(r,sS,o.message,t);break;case"emoji":sB(r,sx(),o.message,t);break;case"ulid":sB(r,sE,o.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":sN(r,"binary",o.message,t);break;case"contentEncoding:base64":r.contentEncoding="base64";break;case"pattern:zod":sB(r,sR,o.message,t)}break;case"nanoid":sB(r,sF,o.message,t)}return r}function sI(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)sA.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}var sA=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function sN(e,t,r,o){var n;e.format||(null==(n=e.anyOf)?void 0:n.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&o.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function sB(e,t,r,o){var n;e.pattern||(null==(n=e.allOf)?void 0:n.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:sM(t,o),...r&&o.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=sM(t,o)}function sM(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let o={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=o.i?e.source.toLowerCase():e.source,i="",a=!1,s=!1,l=!1;for(let e=0;e<n.length;e++){if(a){i+=n[e],a=!1;continue}if(o.i){if(s){if(n[e].match(/[a-z]/)){l?(i+=n[e],i+=`${n[e-2]}-${n[e]}`.toUpperCase(),l=!1):"-"===n[e+1]&&(null==(r=n[e+2])?void 0:r.match(/[a-z]/))?(i+=n[e],l=!0):i+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){i+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(o.m){if("^"===n[e]){i+=`(^|(?<=[\r
]))`;continue}else if("$"===n[e]){i+=`($|(?=[\r
]))`;continue}}if(o.s&&"."===n[e]){i+=s?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}i+=n[e],"\\"===n[e]?a=!0:s&&"]"===n[e]?s=!1:s||"["!==n[e]||(s=!0)}try{new RegExp(i)}catch(r){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function sU(e,t){var r,o,n,i,a,s;let l={type:"object",additionalProperties:null!=(r=sq(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?r:t.allowedAdditionalProperties};if((null==(o=e.keyType)?void 0:o._def.typeName)===Z.ZodString&&(null==(n=e.keyType._def.checks)?void 0:n.length)){let{type:r,...o}=sO(e.keyType._def,t);return{...l,propertyNames:o}}if((null==(i=e.keyType)?void 0:i._def.typeName)===Z.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if((null==(a=e.keyType)?void 0:a._def.typeName)===Z.ZodBranded&&e.keyType._def.type._def.typeName===Z.ZodString&&(null==(s=e.keyType._def.type._def.checks)?void 0:s.length)){let{type:r,...o}=sb(e.keyType._def,t);return{...l,propertyNames:o}}return l}var sL={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function sq(e,t,r=!1){var o;let n=t.seen.get(e);if(t.override){let i=null==(o=t.override)?void 0:o.call(t,e,t,n,r);if(i!==s_)return i}if(n&&!r){let e=s$(n,t);if(void 0!==e)return e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let a=((e,t,r)=>{var o,n,i,a,s,l;switch(t){case Z.ZodString:return sO(e,r);case Z.ZodNumber:let u={type:"number"};if(!e.checks)return u;for(let t of e.checks)switch(t.kind){case"int":u.type="integer";break;case"min":t.inclusive?u.minimum=t.value:u.exclusiveMinimum=t.value;break;case"max":t.inclusive?u.maximum=t.value:u.exclusiveMaximum=t.value;break;case"multipleOf":u.multipleOf=t.value}return u;case Z.ZodObject:return function(e,t){let r={type:"object",properties:{}},o=[],n=e.shape();for(let e in n){let i=n[e];if(void 0===i||void 0===i._def)continue;let a=function(e){try{return e.isOptional()}catch(e){return!0}}(i),s=sq(i._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==s&&(r.properties[e]=s,a||o.push(e))}o.length&&(r.required=o);let i=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return sq(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==i&&(r.additionalProperties=i),r}(e,r);case Z.ZodBigInt:let p={type:"integer",format:"int64"};if(!e.checks)return p;for(let t of e.checks)switch(t.kind){case"min":t.inclusive?p.minimum=t.value:p.exclusiveMinimum=t.value;break;case"max":t.inclusive?p.maximum=t.value:p.exclusiveMaximum=t.value;break;case"multipleOf":p.multipleOf=t.value}return p;case Z.ZodBoolean:return{type:"boolean"};case Z.ZodDate:return function e(t,r,o){let n=null!=o?o:r.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,n)=>e(t,r,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var i=t;let a={type:"integer",format:"unix-time"};for(let e of i.checks)switch(e.kind){case"min":a.minimum=e.value;break;case"max":a.maximum=e.value}return a}}(e,r);case Z.ZodUndefined:return{not:{}};case Z.ZodNull:return{type:"null"};case Z.ZodArray:let d;return d={type:"array"},(null==(i=e.type)?void 0:i._def)&&(null==(s=null==(a=e.type)?void 0:a._def)?void 0:s.typeName)!==Z.ZodAny&&(d.items=sq(e.type._def,{...r,currentPath:[...r.currentPath,"items"]})),e.minLength&&(d.minItems=e.minLength.value),e.maxLength&&(d.maxItems=e.maxLength.value),e.exactLength&&(d.minItems=e.exactLength.value,d.maxItems=e.exactLength.value),d;case Z.ZodUnion:case Z.ZodDiscriminatedUnion:let c,h=e.options instanceof Map?Array.from(e.options.values()):e.options;if(h.every(e=>e._def.typeName in sL&&(!e._def.checks||!e._def.checks.length))){let e=h.reduce((e,t)=>{let r=sL[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(h.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=h.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===h.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:h.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(h.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:h.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return o=e,n=r,(c=(o.options instanceof Map?Array.from(o.options.values()):o.options).map((e,t)=>sq(e._def,{...n,currentPath:[...n.currentPath,"anyOf",`${t}`]})).filter(e=>!!e&&(!n.strictUnions||"object"==typeof e&&Object.keys(e).length>0))).length?{anyOf:c}:void 0;case Z.ZodIntersection:let m,g;return m=[sq(e.left._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),sq(e.right._def,{...r,currentPath:[...r.currentPath,"allOf","1"]})].filter(e=>!!e),g=[],m.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)g.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...o}=e;t=o}g.push(t)}}),g.length?{allOf:g}:void 0;case Z.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>sq(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:sq(e.rest._def,{...r,currentPath:[...r.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>sq(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case Z.ZodRecord:return sU(e,r);case Z.ZodLiteral:let f;return"bigint"!=(f=typeof e.value)&&"number"!==f&&"boolean"!==f&&"string"!==f?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===f?"integer":f,const:e.value};case Z.ZodEnum:return{type:"string",enum:Array.from(e.values)};case Z.ZodNativeEnum:let y,_,v;return y=e.values,{type:1===(v=Array.from(new Set((_=Object.keys(e.values).filter(e=>"number"!=typeof y[y[e]]).map(e=>y[e])).map(e=>typeof e)))).length?"string"===v[0]?"string":"number":["string","number"],enum:_};case Z.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[sL[e.innerType._def.typeName],"null"]};let b=sq(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","0"]});return b&&{anyOf:[b,{type:"null"}]};case Z.ZodOptional:if(r.currentPath.toString()===(null==(l=r.propertyPath)?void 0:l.toString()))return sq(e.innerType._def,r);let w=sq(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","1"]});return w?{anyOf:[{not:{}},w]}:{};case Z.ZodMap:if("record"===r.mapStrategy)return sU(e,r);return{type:"array",maxItems:125,items:{type:"array",items:[sq(e.keyType._def,{...r,currentPath:[...r.currentPath,"items","items","0"]})||{},sq(e.valueType._def,{...r,currentPath:[...r.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case Z.ZodSet:let D;return D={type:"array",uniqueItems:!0,items:sq(e.valueType._def,{...r,currentPath:[...r.currentPath,"items"]})},e.minSize&&(D.minItems=e.minSize.value),e.maxSize&&(D.maxItems=e.maxSize.value),D;case Z.ZodLazy:return()=>e.getter()._def;case Z.ZodPromise:return sq(e.type._def,r);case Z.ZodNaN:case Z.ZodNever:return{not:{}};case Z.ZodEffects:return"input"===r.effectStrategy?sq(e.schema._def,r):{};case Z.ZodAny:case Z.ZodUnknown:return{};case Z.ZodDefault:return{...sq(e.innerType._def,r),default:e.defaultValue()};case Z.ZodBranded:return sb(e,r);case Z.ZodReadonly:case Z.ZodCatch:return sq(e.innerType._def,r);case Z.ZodPipeline:if("input"===r.pipeStrategy)return sq(e.in._def,r);if("output"===r.pipeStrategy)return sq(e.out._def,r);let C=sq(e.in._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),E=sq(e.out._def,{...r,currentPath:[...r.currentPath,"allOf",C?"1":"0"]});return{allOf:[C,E].filter(e=>void 0!==e)};case Z.ZodFunction:case Z.ZodVoid:case Z.ZodSymbol:default:return}})(e,e.typeName,t),s="function"==typeof a?sq(a(),t):a;if(s&&sz(e,t,s),t.postProcess){let r=t.postProcess(s,e,t);return i.jsonSchema=s,r}return i.jsonSchema=s,s}var s$=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")})(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},sz=(e,t,r)=>(e.description&&(r.description=e.description),r),sW=Symbol.for("vercel.ai.schema");function sV(e){let t;return()=>(null==t&&(t=e()),t)}function sK(e,{validate:t}={}){return{[sW]:!0,_type:void 0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}function sG(e){var t;return null==e?sK({properties:{},additionalProperties:!1}):"object"==typeof e&&null!==e&&sW in e&&!0===e[sW]&&"jsonSchema"in e&&"validate"in e?e:"~standard"in e?"zod"===e["~standard"].vendor?sH(e):(t=e,sK(()=>sf(t["~standard"].jsonSchema.input({target:"draft-07"})),{validate:async e=>{let r=await t["~standard"].validate(e);return"value"in r?{success:!0,value:r.value}:{success:!1,error:new nz({value:e,cause:r.issues})}}})):e()}function sH(e,t){var r,o;let n;if("_zod"in e){let o;return o=null!=(r=null==t?void 0:t.useReferences)&&r,sK(()=>sf(nH.toJSONSchema(e,{target:"draft-7",io:"input",reused:o?"ref":"inline"})),{validate:async t=>{let r=await nZ.safeParseAsync(e,t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}return n=null!=(o=null==t?void 0:t.useReferences)&&o,sK(()=>((e,t)=>{var r;let o,n,i=(n=void 0!==(o="string"==typeof t?{...sv,name:t}:{...sv,...t}).name?[...o.basePath,o.definitionPath,o.name]:o.basePath,{...o,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(o.definitions).map(([e,t])=>[t._def,{def:t._def,path:[...o.basePath,o.definitionPath,e],jsonSchema:void 0}]))}),a="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>{var o;return{...e,[t]:null!=(o=sq(r._def,{...i,currentPath:[...i.basePath,i.definitionPath,t]},!0))?o:{}}},{}):void 0,s="string"==typeof t?t:(null==t?void 0:t.nameStrategy)==="title"||null==t?void 0:t.name,l=null!=(r=sq(e._def,void 0===s?i:{...i,currentPath:[...i.basePath,i.definitionPath,s]},!1))?r:{},u="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==u&&(l.title=u);let p=void 0===s?a?{...l,[i.definitionPath]:a}:l:{$ref:[..."relative"===i.$refStrategy?[]:i.basePath,i.definitionPath,s].join("/"),[i.definitionPath]:{...a,[s]:l}};return p.$schema="http://json-schema.org/draft-07/schema#",p})(e,{$refStrategy:n?"root":"none"}),{validate:async t=>{let r=await e.safeParseAsync(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}async function sZ({value:e,schema:t}){let r=await sJ({value:e,schema:t});if(!r.success)throw nz.wrap({value:e,cause:r.error});return r.value}async function sJ({value:e,schema:t}){let r=sG(t);try{if(null==r.validate)return{success:!0,value:e,rawValue:e};let t=await r.validate(e);if(t.success)return{success:!0,value:t.value,rawValue:e};return{success:!1,error:nz.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:nz.wrap({value:e,cause:t}),rawValue:e}}}async function sY({text:e,schema:t}){try{let r=sg(e);if(null==t)return r;return sZ({value:r,schema:t})}catch(t){if(nx.isInstance(t)||nz.isInstance(t))throw t;throw new nx({text:e,cause:t})}}async function sQ({text:e,schema:t}){try{let r=sg(e);if(null==t)return{success:!0,value:r,rawValue:r};return await sJ({value:r,schema:t})}catch(t){return{success:!1,error:nx.isInstance(t)?t:new nx({text:e,cause:t}),rawValue:void 0}}}function sX(e){try{return sg(e),!0}catch(e){return!1}}async function s0({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let o=await sJ({value:t[e],schema:r});if(!o.success)throw new nm({argument:"providerOptions",message:`invalid ${e} provider options`,cause:o.error});return o.value}var s1=()=>globalThis.fetch,s2=async({url:e,headers:t,body:r,failedResponseHandler:o,successfulResponseHandler:n,abortSignal:i,fetch:a})=>s6({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:o,successfulResponseHandler:n,abortSignal:i,fetch:a}),s3=async({url:e,headers:t,formData:r,failedResponseHandler:o,successfulResponseHandler:n,abortSignal:i,fetch:a})=>s6({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:o,successfulResponseHandler:n,abortSignal:i,fetch:a}),s6=async({url:e,headers:t={},body:r,successfulResponseHandler:o,failedResponseHandler:n,abortSignal:i,fetch:a=s1()})=>{try{let s=await a(e,{method:"POST",headers:si(t,`ai-sdk/provider-utils/${sa}`,sn()),body:r.content,signal:i}),l=aQ(s);if(!s.ok){let t;try{t=await n({response:s,url:e,requestBodyValues:r.values})}catch(t){if(st(t)||ni.isInstance(t))throw t;throw new ni({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw t.value}try{return await o({response:s,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(st(t)||ni.isInstance(t)))throw t;throw new ni({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(t){throw so({error:t,url:e,requestBodyValues:r.values})}};function s5({id:e,inputSchema:t}){return({execute:r,outputSchema:o,needsApproval:n,toModelOutput:i,onInputStart:a,onInputDelta:s,onInputAvailable:l,...u})=>({type:"provider",id:e,args:u,inputSchema:t,outputSchema:o,execute:r,needsApproval:n,toModelOutput:i,onInputStart:a,onInputDelta:s,onInputAvailable:l})}function s4({id:e,inputSchema:t,outputSchema:r,supportsDeferredResults:o}){return({execute:n,needsApproval:i,toModelOutput:a,onInputStart:s,onInputDelta:l,onInputAvailable:u,...p})=>({type:"provider",id:e,args:p,inputSchema:t,outputSchema:r,execute:n,needsApproval:i,toModelOutput:a,onInputStart:s,onInputDelta:l,onInputAvailable:u,supportsDeferredResults:o})}async function s8(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var s9=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:o,url:n,requestBodyValues:i})=>{let a=await o.text(),s=aQ(o);if(""===a.trim())return{responseHeaders:s,value:new ni({message:o.statusText,url:n,requestBodyValues:i,statusCode:o.status,responseHeaders:s,responseBody:a,isRetryable:null==r?void 0:r(o)})};try{let l=await sY({text:a,schema:e});return{responseHeaders:s,value:new ni({message:t(l),url:n,requestBodyValues:i,statusCode:o.status,responseHeaders:s,responseBody:a,data:l,isRetryable:null==r?void 0:r(o,l)})}}catch(e){return{responseHeaders:s,value:new ni({message:o.statusText,url:n,requestBodyValues:i,statusCode:o.status,responseHeaders:s,responseBody:a,isRetryable:null==r?void 0:r(o)})}}},s7=e=>async({response:t})=>{let r=aQ(t);if(null==t.body)throw new nu({});return{responseHeaders:r,value:function({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new aZ).pipeThrough(new TransformStream({async transform({data:e},r){"[DONE]"!==e&&r.enqueue(await sQ({text:e,schema:t}))}}))}({stream:t.body,schema:e})}},le=e=>async({response:t,url:r,requestBodyValues:o})=>{let n=await t.text(),i=await sQ({text:n,schema:e}),a=aQ(t);if(!i.success)throw new ni({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:a,responseBody:n,url:r,requestBodyValues:o});return{responseHeaders:a,value:i.value,rawValue:i.rawValue}};function lt(e){return null==e?void 0:e.replace(/\/$/,"")}e.i(64404);var lr=nH,lo=e.i(40647),ln=e.i(35251),li=Symbol.for("vercel.ai.gateway.error"),la=class e extends(X=Error,Q=li,X){constructor({message:e,statusCode:t=500,cause:r,generationId:o}){super(o?`${e} [${o}]`:e),this[Q]=!0,this.statusCode=t,this.cause=r,this.generationId=o}static isInstance(t){return e.hasMarker(t)}static hasMarker(e){return"object"==typeof e&&null!==e&&li in e&&!0===e[li]}},ls="GatewayAuthenticationError",ll=Symbol.for(`vercel.ai.gateway.error.${ls}`),lu=class e extends(et=la,ee=ll,et){constructor({message:e="Authentication failed",statusCode:t=401,cause:r,generationId:o}={}){super({message:e,statusCode:t,cause:r,generationId:o}),this[ee]=!0,this.name=ls,this.type="authentication_error"}static isInstance(e){return la.hasMarker(e)&&ll in e}static createContextualError({apiKeyProvided:t,oidcTokenProvided:r,message:o="Authentication failed",statusCode:n=401,cause:i,generationId:a}){return new e({message:t?`AI Gateway authentication failed: Invalid API key.

Create a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys

Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:r?`AI Gateway authentication failed: Invalid OIDC token.

Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.

Alternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`:`AI Gateway authentication failed: No authentication provided.

Option 1 - API key:
Create an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys
Provide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

Option 2 - OIDC token:
Run 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`,statusCode:n,cause:i,generationId:a})}},lp="GatewayInvalidRequestError",ld=Symbol.for(`vercel.ai.gateway.error.${lp}`),lc=class extends(eo=la,er=ld,eo){constructor({message:e="Invalid request",statusCode:t=400,cause:r,generationId:o}={}){super({message:e,statusCode:t,cause:r,generationId:o}),this[er]=!0,this.name=lp,this.type="invalid_request_error"}static isInstance(e){return la.hasMarker(e)&&ld in e}},lh="GatewayRateLimitError",lm=Symbol.for(`vercel.ai.gateway.error.${lh}`),lg=class extends(ei=la,en=lm,ei){constructor({message:e="Rate limit exceeded",statusCode:t=429,cause:r,generationId:o}={}){super({message:e,statusCode:t,cause:r,generationId:o}),this[en]=!0,this.name=lh,this.type="rate_limit_exceeded"}static isInstance(e){return la.hasMarker(e)&&lm in e}},lf="GatewayModelNotFoundError",ly=Symbol.for(`vercel.ai.gateway.error.${lf}`),l_=sV(()=>sH(lr.object({modelId:lr.string()}))),lv=class extends(es=la,ea=ly,es){constructor({message:e="Model not found",statusCode:t=404,modelId:r,cause:o,generationId:n}={}){super({message:e,statusCode:t,cause:o,generationId:n}),this[ea]=!0,this.name=lf,this.type="model_not_found",this.modelId=r}static isInstance(e){return la.hasMarker(e)&&ly in e}},lb="GatewayInternalServerError",lw=Symbol.for(`vercel.ai.gateway.error.${lb}`),lD=class extends(eu=la,el=lw,eu){constructor({message:e="Internal server error",statusCode:t=500,cause:r,generationId:o}={}){super({message:e,statusCode:t,cause:r,generationId:o}),this[el]=!0,this.name=lb,this.type="internal_server_error"}static isInstance(e){return la.hasMarker(e)&&lw in e}},lC="GatewayResponseError",lE=Symbol.for(`vercel.ai.gateway.error.${lC}`),lk=class extends(ed=la,ep=lE,ed){constructor({message:e="Invalid response from Gateway",statusCode:t=502,response:r,validationError:o,cause:n,generationId:i}={}){super({message:e,statusCode:t,cause:n,generationId:i}),this[ep]=!0,this.name=lC,this.type="response_error",this.response=r,this.validationError=o}static isInstance(e){return la.hasMarker(e)&&lE in e}};async function lx({response:e,statusCode:t,defaultMessage:r="Gateway request failed",cause:o,authMethod:n}){var i;let a=await sJ({value:e,schema:lT});if(!a.success){let n="object"==typeof e&&null!==e&&"generationId"in e?e.generationId:void 0;return new lk({message:`Invalid error response format: ${r}`,statusCode:t,response:e,validationError:a.error,cause:o,generationId:n})}let s=a.value,l=s.error.type,u=s.error.message,p=null!=(i=s.generationId)?i:void 0;switch(l){case"authentication_error":return lu.createContextualError({apiKeyProvided:"api-key"===n,oidcTokenProvided:"oidc"===n,statusCode:t,cause:o,generationId:p});case"invalid_request_error":return new lc({message:u,statusCode:t,cause:o,generationId:p});case"rate_limit_exceeded":return new lg({message:u,statusCode:t,cause:o,generationId:p});case"model_not_found":{let e=await sJ({value:s.error.param,schema:l_});return new lv({message:u,statusCode:t,modelId:e.success?e.value.modelId:void 0,cause:o,generationId:p})}default:return new lD({message:u,statusCode:t,cause:o,generationId:p})}}var lT=sV(()=>sH(lr.object({error:lr.object({message:lr.string(),type:lr.string().nullish(),param:lr.unknown().nullish(),code:lr.union([lr.string(),lr.number()]).nullish()}),generationId:lr.string().nullish()})));function lS(e,t){var r;return la.isInstance(e)?e:ni.isInstance(e)?lx({response:function(e){if(void 0!==e.data)return e.data;if(null!=e.responseBody)try{return JSON.parse(e.responseBody)}catch(t){return e.responseBody}return{}}(e),statusCode:null!=(r=e.statusCode)?r:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):lx({response:{},statusCode:500,defaultMessage:e instanceof Error?`Gateway request failed: ${e.message}`:"Unknown Gateway error",cause:e,authMethod:t})}var lR="ai-gateway-auth-method";async function lj(e){let t=await sJ({value:e[lR],schema:lF});return t.success?t.value:void 0}var lF=sV(()=>sH(lr.union([lr.literal("api-key"),lr.literal("oidc")]))),lP=class{constructor(e){this.config=e}async getAvailableModels(){try{let{value:e}=await sl({url:`${this.config.baseURL}/config`,headers:await s8(this.config.headers()),successfulResponseHandler:le(lO),failedResponseHandler:s9({errorSchema:lr.any(),errorToMessage:e=>e}),fetch:this.config.fetch});return e}catch(e){throw await lS(e)}}async getCredits(){try{let e=new URL(this.config.baseURL),{value:t}=await sl({url:`${e.origin}/v1/credits`,headers:await s8(this.config.headers()),successfulResponseHandler:le(lI),failedResponseHandler:s9({errorSchema:lr.any(),errorToMessage:e=>e}),fetch:this.config.fetch});return t}catch(e){throw await lS(e)}}},lO=sV(()=>sH(lr.object({models:lr.array(lr.object({id:lr.string(),name:lr.string(),description:lr.string().nullish(),pricing:lr.object({input:lr.string(),output:lr.string(),input_cache_read:lr.string().nullish(),input_cache_write:lr.string().nullish()}).transform(({input:e,output:t,input_cache_read:r,input_cache_write:o})=>({input:e,output:t,...r?{cachedInputTokens:r}:{},...o?{cacheCreationInputTokens:o}:{}})).nullish(),specification:lr.object({specificationVersion:lr.literal("v3"),provider:lr.string(),modelId:lr.string()}),modelType:lr.enum(["language","embedding","image"]).nullish()}))}))),lI=sV(()=>sH(lr.object({balance:lr.string(),total_used:lr.string()}).transform(({balance:e,total_used:t})=>({balance:e,totalUsed:t})))),lA=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){let{abortSignal:t,...r}=e;return{args:this.maybeEncodeFileParts(r),warnings:[]}}async doGenerate(e){let{args:t,warnings:r}=await this.getArgs(e),{abortSignal:o}=e,n=await s8(this.config.headers());try{let{responseHeaders:i,value:a,rawValue:s}=await s2({url:this.getUrl(),headers:aJ(n,e.headers,this.getModelConfigHeaders(this.modelId,!1),await s8(this.config.o11yHeaders)),body:t,successfulResponseHandler:le(lr.any()),failedResponseHandler:s9({errorSchema:lr.any(),errorToMessage:e=>e}),...o&&{abortSignal:o},fetch:this.config.fetch});return{...a,request:{body:t},response:{headers:i,body:s},warnings:r}}catch(e){throw await lS(e,await lj(n))}}async doStream(e){let{args:t,warnings:r}=await this.getArgs(e),{abortSignal:o}=e,n=await s8(this.config.headers());try{let{value:i,responseHeaders:a}=await s2({url:this.getUrl(),headers:aJ(n,e.headers,this.getModelConfigHeaders(this.modelId,!0),await s8(this.config.o11yHeaders)),body:t,successfulResponseHandler:s7(lr.any()),failedResponseHandler:s9({errorSchema:lr.any(),errorToMessage:e=>e}),...o&&{abortSignal:o},fetch:this.config.fetch});return{stream:i.pipeThrough(new TransformStream({start(e){r.length>0&&e.enqueue({type:"stream-start",warnings:r})},transform(t,r){if(t.success){let o=t.value;("raw"!==o.type||e.includeRawChunks)&&("response-metadata"===o.type&&o.timestamp&&"string"==typeof o.timestamp&&(o.timestamp=new Date(o.timestamp)),r.enqueue(o))}else r.error(t.error)}})),request:{body:t},response:{headers:a}}}catch(e){throw await lS(e,await lj(n))}}isFilePart(e){return e&&"object"==typeof e&&"type"in e&&"file"===e.type}maybeEncodeFileParts(e){for(let t of e.prompt)for(let e of t.content)if(this.isFilePart(e)&&e.data instanceof Uint8Array){let t=Uint8Array.from(e.data),r=Buffer.from(t).toString("base64");e.data=new URL(`data:${e.mediaType||"application/octet-stream"};base64,${r}`)}return e}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"3","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},lN=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:o}){var n;let i=await s8(this.config.headers());try{let{responseHeaders:a,value:s,rawValue:l}=await s2({url:this.getUrl(),headers:aJ(i,null!=t?t:{},this.getModelConfigHeaders(),await s8(this.config.o11yHeaders)),body:{values:e,...o?{providerOptions:o}:{}},successfulResponseHandler:le(lB),failedResponseHandler:s9({errorSchema:lr.any(),errorToMessage:e=>e}),...r&&{abortSignal:r},fetch:this.config.fetch});return{embeddings:s.embeddings,usage:null!=(n=s.usage)?n:void 0,providerMetadata:s.providerMetadata,response:{headers:a,body:l},warnings:[]}}catch(e){throw await lS(e,await lj(i))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"3","ai-model-id":this.modelId}}},lB=sV(()=>sH(lr.object({embeddings:lr.array(lr.array(lr.number())),usage:lr.object({tokens:lr.number()}).nullish(),providerMetadata:lr.record(lr.string(),lr.record(lr.string(),lr.unknown())).optional()}))),lM=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3",this.maxImagesPerCall=Number.MAX_SAFE_INTEGER}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:o,seed:n,files:i,mask:a,providerOptions:s,headers:l,abortSignal:u}){var p;let d=await s8(this.config.headers());try{let{responseHeaders:c,value:h,rawValue:m}=await s2({url:this.getUrl(),headers:aJ(d,null!=l?l:{},this.getModelConfigHeaders(),await s8(this.config.o11yHeaders)),body:{prompt:e,n:t,...r&&{size:r},...o&&{aspectRatio:o},...n&&{seed:n},...s&&{providerOptions:s},...i&&{files:i.map(e=>lU(e))},...a&&{mask:lU(a)}},successfulResponseHandler:le(lq),failedResponseHandler:s9({errorSchema:lr.any(),errorToMessage:e=>e}),...u&&{abortSignal:u},fetch:this.config.fetch});return{images:h.images,warnings:null!=(p=h.warnings)?p:[],providerMetadata:h.providerMetadata,response:{timestamp:new Date,modelId:this.modelId,headers:c}}}catch(e){throw lS(e,await lj(d))}}getUrl(){return`${this.config.baseURL}/image-model`}getModelConfigHeaders(){return{"ai-image-model-specification-version":"3","ai-model-id":this.modelId}}};function lU(e){return"file"===e.type&&e.data instanceof Uint8Array?{...e,data:a2(e.data)}:e}var lL=lr.object({images:lr.array(lr.unknown()).optional()}).catchall(lr.unknown()),lq=lr.object({images:lr.array(lr.string()),warnings:lr.array(lr.object({type:lr.literal("other"),message:lr.string()})).optional(),providerMetadata:lr.record(lr.string(),lL).optional()}),l$=s4({id:"gateway.perplexity_search",inputSchema:sV(()=>sH(lo.z.object({query:lo.z.union([lo.z.string(),lo.z.array(lo.z.string())]).describe("Search query (string) or multiple queries (array of up to 5 strings). Multi-query searches return combined results from all queries."),max_results:lo.z.number().optional().describe("Maximum number of search results to return (1-20, default: 10)"),max_tokens_per_page:lo.z.number().optional().describe("Maximum number of tokens to extract per search result page (256-2048, default: 2048)"),max_tokens:lo.z.number().optional().describe("Maximum total tokens across all search results (default: 25000, max: 1000000)"),country:lo.z.string().optional().describe("Two-letter ISO 3166-1 alpha-2 country code for regional search results (e.g., 'US', 'GB', 'FR')"),search_domain_filter:lo.z.array(lo.z.string()).optional().describe("List of domains to include or exclude from search results (max 20). To include: ['nature.com', 'science.org']. To exclude: ['-example.com', '-spam.net']"),search_language_filter:lo.z.array(lo.z.string()).optional().describe("List of ISO 639-1 language codes to filter results (max 10, lowercase). Examples: ['en', 'fr', 'de']"),search_after_date:lo.z.string().optional().describe("Include only results published after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter."),search_before_date:lo.z.string().optional().describe("Include only results published before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter."),last_updated_after_filter:lo.z.string().optional().describe("Include only results last updated after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter."),last_updated_before_filter:lo.z.string().optional().describe("Include only results last updated before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter."),search_recency_filter:lo.z.enum(["day","week","month","year"]).optional().describe("Filter results by relative time period. Cannot be used with search_after_date or search_before_date.")}))),outputSchema:sV(()=>sH(lo.z.union([lo.z.object({results:lo.z.array(lo.z.object({title:lo.z.string(),url:lo.z.string(),snippet:lo.z.string(),date:lo.z.string().optional(),lastUpdated:lo.z.string().optional()})),id:lo.z.string()}),lo.z.object({error:lo.z.enum(["api_error","rate_limit","timeout","invalid_input","unknown"]),statusCode:lo.z.number().optional(),message:lo.z.string()})])))}),lz={perplexitySearch:(e={})=>l$(e)};async function lW(){var e;return null==(e=(0,ln.getContext)().headers)?void 0:e["x-vercel-id"]}async function lV(e){let t=sd({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});return t?{token:t,authMethod:"api-key"}:{token:await (0,ln.getVercelOidcToken)(),authMethod:"oidc"}}!function(e={}){var t,r;let o=null,n=null,i=null!=(t=e.metadataCacheRefreshMillis)?t:3e5,a=0,s=null!=(r=lt(e.baseURL))?r:"https://ai-gateway.vercel.sh/v3/ai",l=async()=>{try{let t=await lV(e);return si({Authorization:`Bearer ${t.token}`,"ai-gateway-protocol-version":"0.0.1",[lR]:t.authMethod,...e.headers},"ai-sdk/gateway/3.0.22")}catch(e){throw lu.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401,cause:e})}},u=()=>{let e=sd({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),t=sd({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),r=sd({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{let o=await lW();return{...e&&{"ai-o11y-deployment-id":e},...t&&{"ai-o11y-environment":t},...r&&{"ai-o11y-region":r},...o&&{"ai-o11y-request-id":o}}}},p=t=>new lA(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),d=async()=>{var t,r,u;let p=null!=(u=null==(r=null==(t=e._internal)?void 0:t.currentDate)?void 0:r.call(t).getTime())?u:Date.now();return(!o||p-a>i)&&(a=p,o=new lP({baseURL:s,headers:l,fetch:e.fetch}).getAvailableModels().then(e=>(n=e,e)).catch(async e=>{throw await lS(e,await lj(await l()))})),n?Promise.resolve(n):o},c=async()=>new lP({baseURL:s,headers:l,fetch:e.fetch}).getCredits().catch(async e=>{throw await lS(e,await lj(await l()))}),h=function(e){if(new.target)throw Error("The Gateway Provider model function cannot be called with the new keyword.");return p(e)};h.specificationVersion="v3",h.getAvailableModels=d,h.getCredits=c,h.imageModel=t=>new lM(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()}),h.languageModel=p;let m=t=>new lN(t,{provider:"gateway",baseURL:s,headers:l,fetch:e.fetch,o11yHeaders:u()});h.embeddingModel=m,h.textEmbeddingModel=m,h.tools=lz}();var lr=nH;e.i(16259),e.i(53541),e.i(23615);var lK=Object.defineProperty,lG=(Symbol.for("vercel.ai.error.AI_InvalidArgumentError"),Symbol.for("vercel.ai.error.AI_InvalidStreamPartError"),Symbol.for("vercel.ai.error.AI_InvalidToolApprovalError"),Symbol.for("vercel.ai.error.AI_InvalidToolInputError"),Symbol.for("vercel.ai.error.AI_ToolCallNotFoundForApprovalError"),Symbol.for("vercel.ai.error.AI_MissingToolResultsError"),Symbol.for("vercel.ai.error.AI_NoImageGeneratedError"),"AI_NoObjectGeneratedError"),lH=`vercel.ai.error.${lG}`,lZ=Symbol.for(lH),lJ=class extends nt{constructor({message:e="No object generated.",cause:t,text:r,response:o,usage:n,finishReason:i}){super({name:lG,message:e,cause:t}),this[ec]=!0,this.text=r,this.response=o,this.usage=n,this.finishReason=i}static isInstance(e){return nt.hasMarker(e,lH)}};ec=lZ,Symbol.for("vercel.ai.error.AI_NoOutputGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchToolError"),Symbol.for("vercel.ai.error.AI_ToolCallRepairError"),Symbol.for("vercel.ai.error.AI_UIMessageStreamError"),Symbol.for("vercel.ai.error.AI_InvalidDataContentError"),Symbol.for("vercel.ai.error.AI_InvalidMessageRoleError"),Symbol.for("vercel.ai.error.AI_MessageConversionError"),Symbol.for("vercel.ai.error.AI_RetryError");var lY=lr.union([lr.string(),lr.instanceof(Uint8Array),lr.instanceof(ArrayBuffer),lr.custom(e=>{var t,r;return null!=(r=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&r},{message:"Must be a Buffer"})]),lQ=lr.lazy(()=>lr.union([lr.null(),lr.string(),lr.number(),lr.boolean(),lr.record(lr.string(),lQ.optional()),lr.array(lQ)])),lX=lr.record(lr.string(),lr.record(lr.string(),lQ.optional())),l0=lr.object({type:lr.literal("text"),text:lr.string(),providerOptions:lX.optional()}),l1=lr.object({type:lr.literal("image"),image:lr.union([lY,lr.instanceof(URL)]),mediaType:lr.string().optional(),providerOptions:lX.optional()}),l2=lr.object({type:lr.literal("file"),data:lr.union([lY,lr.instanceof(URL)]),filename:lr.string().optional(),mediaType:lr.string(),providerOptions:lX.optional()}),l3=lr.object({type:lr.literal("reasoning"),text:lr.string(),providerOptions:lX.optional()}),l6=lr.object({type:lr.literal("tool-call"),toolCallId:lr.string(),toolName:lr.string(),input:lr.unknown(),providerOptions:lX.optional(),providerExecuted:lr.boolean().optional()}),l5=lr.discriminatedUnion("type",[lr.object({type:lr.literal("text"),value:lr.string(),providerOptions:lX.optional()}),lr.object({type:lr.literal("json"),value:lQ,providerOptions:lX.optional()}),lr.object({type:lr.literal("execution-denied"),reason:lr.string().optional(),providerOptions:lX.optional()}),lr.object({type:lr.literal("error-text"),value:lr.string(),providerOptions:lX.optional()}),lr.object({type:lr.literal("error-json"),value:lQ,providerOptions:lX.optional()}),lr.object({type:lr.literal("content"),value:lr.array(lr.union([lr.object({type:lr.literal("text"),text:lr.string(),providerOptions:lX.optional()}),lr.object({type:lr.literal("media"),data:lr.string(),mediaType:lr.string()}),lr.object({type:lr.literal("file-data"),data:lr.string(),mediaType:lr.string(),filename:lr.string().optional(),providerOptions:lX.optional()}),lr.object({type:lr.literal("file-url"),url:lr.string(),providerOptions:lX.optional()}),lr.object({type:lr.literal("file-id"),fileId:lr.union([lr.string(),lr.record(lr.string(),lr.string())]),providerOptions:lX.optional()}),lr.object({type:lr.literal("image-data"),data:lr.string(),mediaType:lr.string(),providerOptions:lX.optional()}),lr.object({type:lr.literal("image-url"),url:lr.string(),providerOptions:lX.optional()}),lr.object({type:lr.literal("image-file-id"),fileId:lr.union([lr.string(),lr.record(lr.string(),lr.string())]),providerOptions:lX.optional()}),lr.object({type:lr.literal("custom"),providerOptions:lX.optional()})]))})]),l4=lr.object({type:lr.literal("tool-result"),toolCallId:lr.string(),toolName:lr.string(),output:l5,providerOptions:lX.optional()}),l8=lr.object({type:lr.literal("tool-approval-request"),approvalId:lr.string(),toolCallId:lr.string()}),l9=lr.object({type:lr.literal("tool-approval-response"),approvalId:lr.string(),approved:lr.boolean(),reason:lr.string().optional()}),l7=lr.object({role:lr.literal("system"),content:lr.string(),providerOptions:lX.optional()}),ue=lr.object({role:lr.literal("user"),content:lr.union([lr.string(),lr.array(lr.union([l0,l1,l2]))]),providerOptions:lX.optional()}),ut=lr.object({role:lr.literal("assistant"),content:lr.union([lr.string(),lr.array(lr.union([l0,l2,l3,l6,l4,l8]))]),providerOptions:lX.optional()}),ur=lr.object({role:lr.literal("tool"),content:lr.array(lr.union([l4,l9])),providerOptions:lX.optional()});lr.union([l7,ue,ut,ur]);var uo={},un={array:()=>uu,choice:()=>up,json:()=>ud,object:()=>ul,text:()=>us};for(var ui in un)lK(uo,ui,{get:un[ui],enumerable:!0});async function ua(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await sQ({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await sQ({text:function(e){let t=["ROOT"],r=-1,o=null;function n(e,n,i){switch(e){case'"':r=n,t.pop(),t.push(i),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=n,o=n,t.pop(),t.push(i),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=n,t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"{":r=n,t.pop(),t.push(i),t.push("INSIDE_OBJECT_START");break;case"[":r=n,t.pop(),t.push(i),t.push("INSIDE_ARRAY_START")}}function i(e,o){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=o,t.pop()}}function a(e,o){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=o,t.pop()}}for(let s=0;s<e.length;s++){let l=e[s];switch(t[t.length-1]){case"ROOT":n(l,s,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=s,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":n(l,s,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":i(l,s);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),r=s;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=s}break;case"INSIDE_ARRAY_START":"]"===l?(r=s,t.pop()):(r=s,n(l,s,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=s,t.pop();break;default:r=s}break;case"INSIDE_ARRAY_AFTER_COMMA":n(l,s,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=s;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=s;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(l,s),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&i(l,s);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(l,s);break;default:t.pop()}break;case"INSIDE_LITERAL":{let n=e.substring(o,s+1);"false".startsWith(n)||"true".startsWith(n)||"null".startsWith(n)?r=s:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?i(l,s):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&a(l,s))}}}let s=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--)switch(t[r]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{let t=e.substring(o,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}return s}(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}var us=()=>({name:"text",responseFormat:Promise.resolve({type:"text"}),parseCompleteOutput:async({text:e})=>e,parsePartialOutput:async({text:e})=>({partial:e}),createElementStreamTransform(){}}),ul=({schema:e,name:t,description:r})=>{let o=sG(e);return{name:"object",responseFormat:s8(o.jsonSchema).then(e=>({type:"json",schema:e,...null!=t&&{name:t},...null!=r&&{description:r}})),async parseCompleteOutput({text:e},t){let r=await sQ({text:e});if(!r.success)throw new lJ({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:t.response,usage:t.usage,finishReason:t.finishReason});let n=await sJ({value:r.value,schema:o});if(!n.success)throw new lJ({message:"No object generated: response did not match schema.",cause:n.error,text:e,response:t.response,usage:t.usage,finishReason:t.finishReason});return n.value},async parsePartialOutput({text:e}){let t=await ua(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value}}},createElementStreamTransform(){}}},uu=({element:e,name:t,description:r})=>{let o=sG(e);return{name:"array",responseFormat:s8(o.jsonSchema).then(e=>{let{$schema:o,...n}=e;return{type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:n}},required:["elements"],additionalProperties:!1},...null!=t&&{name:t},...null!=r&&{description:r}}}),async parseCompleteOutput({text:e},t){let r=await sQ({text:e});if(!r.success)throw new lJ({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:t.response,usage:t.usage,finishReason:t.finishReason});let n=r.value;if(null==n||"object"!=typeof n||!("elements"in n)||!Array.isArray(n.elements))throw new lJ({message:"No object generated: response did not match schema.",cause:new nz({value:n,cause:"response must be an object with an elements array"}),text:e,response:t.response,usage:t.usage,finishReason:t.finishReason});for(let r of n.elements){let n=await sJ({value:r,schema:o});if(!n.success)throw new lJ({message:"No object generated: response did not match schema.",cause:n.error,text:e,response:t.response,usage:t.usage,finishReason:t.finishReason})}return n.elements},async parsePartialOutput({text:e}){let t=await ua(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let e=t.value;if(null==e||"object"!=typeof e||!("elements"in e)||!Array.isArray(e.elements))return;let r="repaired-parse"===t.state&&e.elements.length>0?e.elements.slice(0,-1):e.elements,n=[];for(let e of r){let t=await sJ({value:e,schema:o});t.success&&n.push(t.value)}return{partial:n}}}},createElementStreamTransform(){let e=0;return new TransformStream({transform({partialOutput:t},r){if(null!=t)for(;e<t.length;e++)r.enqueue(t[e])}})}}},up=({options:e,name:t,description:r})=>({name:"choice",responseFormat:Promise.resolve({type:"json",schema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},...null!=t&&{name:t},...null!=r&&{description:r}}),async parseCompleteOutput({text:t},r){let o=await sQ({text:t});if(!o.success)throw new lJ({message:"No object generated: could not parse the response.",cause:o.error,text:t,response:r.response,usage:r.usage,finishReason:r.finishReason});let n=o.value;if(null==n||"object"!=typeof n||!("result"in n)||"string"!=typeof n.result||!e.includes(n.result))throw new lJ({message:"No object generated: response did not match schema.",cause:new nz({value:n,cause:"response must be an object that contains a choice value."}),text:t,response:r.response,usage:r.usage,finishReason:r.finishReason});return n.result},async parsePartialOutput({text:t}){let r=await ua(t);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":{let t=r.value;if(null==t||"object"!=typeof t||!("result"in t)||"string"!=typeof t.result)return;let o=e.filter(e=>e.startsWith(t.result));if("successful-parse"===r.state)return o.includes(t.result)?{partial:t.result}:void 0;return 1===o.length?{partial:o[0]}:void 0}}},createElementStreamTransform(){}}),ud=({name:e,description:t}={})=>({name:"json",responseFormat:Promise.resolve({type:"json",...null!=e&&{name:e},...null!=t&&{description:t}}),async parseCompleteOutput({text:e},t){let r=await sQ({text:e});if(!r.success)throw new lJ({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:t.response,usage:t.usage,finishReason:t.finishReason});return r.value},async parsePartialOutput({text:e}){let t=await ua(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return void 0===t.value?void 0:{partial:t.value}}},createElementStreamTransform(){}});a7({prefix:"aitxt",size:24}),TransformStream,sV(()=>sH(lr.union([lr.strictObject({type:lr.literal("text-start"),id:lr.string(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("text-delta"),id:lr.string(),delta:lr.string(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("text-end"),id:lr.string(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("error"),errorText:lr.string()}),lr.strictObject({type:lr.literal("tool-input-start"),toolCallId:lr.string(),toolName:lr.string(),providerExecuted:lr.boolean().optional(),providerMetadata:lX.optional(),dynamic:lr.boolean().optional(),title:lr.string().optional()}),lr.strictObject({type:lr.literal("tool-input-delta"),toolCallId:lr.string(),inputTextDelta:lr.string()}),lr.strictObject({type:lr.literal("tool-input-available"),toolCallId:lr.string(),toolName:lr.string(),input:lr.unknown(),providerExecuted:lr.boolean().optional(),providerMetadata:lX.optional(),dynamic:lr.boolean().optional(),title:lr.string().optional()}),lr.strictObject({type:lr.literal("tool-input-error"),toolCallId:lr.string(),toolName:lr.string(),input:lr.unknown(),providerExecuted:lr.boolean().optional(),providerMetadata:lX.optional(),dynamic:lr.boolean().optional(),errorText:lr.string(),title:lr.string().optional()}),lr.strictObject({type:lr.literal("tool-approval-request"),approvalId:lr.string(),toolCallId:lr.string()}),lr.strictObject({type:lr.literal("tool-output-available"),toolCallId:lr.string(),output:lr.unknown(),providerExecuted:lr.boolean().optional(),dynamic:lr.boolean().optional(),preliminary:lr.boolean().optional()}),lr.strictObject({type:lr.literal("tool-output-error"),toolCallId:lr.string(),errorText:lr.string(),providerExecuted:lr.boolean().optional(),dynamic:lr.boolean().optional()}),lr.strictObject({type:lr.literal("tool-output-denied"),toolCallId:lr.string()}),lr.strictObject({type:lr.literal("reasoning-start"),id:lr.string(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("reasoning-delta"),id:lr.string(),delta:lr.string(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("reasoning-end"),id:lr.string(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("source-url"),sourceId:lr.string(),url:lr.string(),title:lr.string().optional(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("source-document"),sourceId:lr.string(),mediaType:lr.string(),title:lr.string(),filename:lr.string().optional(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.literal("file"),url:lr.string(),mediaType:lr.string(),providerMetadata:lX.optional()}),lr.strictObject({type:lr.custom(e=>"string"==typeof e&&e.startsWith("data-"),{message:'Type must start with "data-"'}),id:lr.string().optional(),data:lr.unknown(),transient:lr.boolean().optional()}),lr.strictObject({type:lr.literal("start-step")}),lr.strictObject({type:lr.literal("finish-step")}),lr.strictObject({type:lr.literal("start"),messageId:lr.string().optional(),messageMetadata:lr.unknown().optional()}),lr.strictObject({type:lr.literal("finish"),finishReason:lr.enum(["stop","length","content-filter","tool-calls","error","other"]).optional(),messageMetadata:lr.unknown().optional()}),lr.strictObject({type:lr.literal("abort"),reason:lr.string().optional()}),lr.strictObject({type:lr.literal("message-metadata"),messageMetadata:lr.unknown()})]))),a7({prefix:"aitxt",size:24}),sV(()=>sH(lr.array(lr.object({id:lr.string(),role:lr.enum(["system","user","assistant"]),metadata:lr.unknown().optional(),parts:lr.array(lr.union([lr.object({type:lr.literal("text"),text:lr.string(),state:lr.enum(["streaming","done"]).optional(),providerMetadata:lX.optional()}),lr.object({type:lr.literal("reasoning"),text:lr.string(),state:lr.enum(["streaming","done"]).optional(),providerMetadata:lX.optional()}),lr.object({type:lr.literal("source-url"),sourceId:lr.string(),url:lr.string(),title:lr.string().optional(),providerMetadata:lX.optional()}),lr.object({type:lr.literal("source-document"),sourceId:lr.string(),mediaType:lr.string(),title:lr.string(),filename:lr.string().optional(),providerMetadata:lX.optional()}),lr.object({type:lr.literal("file"),mediaType:lr.string(),filename:lr.string().optional(),url:lr.string(),providerMetadata:lX.optional()}),lr.object({type:lr.literal("step-start")}),lr.object({type:lr.string().startsWith("data-"),id:lr.string().optional(),data:lr.unknown()}),lr.object({type:lr.literal("dynamic-tool"),toolName:lr.string(),toolCallId:lr.string(),state:lr.literal("input-streaming"),input:lr.unknown().optional(),providerExecuted:lr.boolean().optional(),callProviderMetadata:lX.optional(),output:lr.never().optional(),errorText:lr.never().optional(),approval:lr.never().optional()}),lr.object({type:lr.literal("dynamic-tool"),toolName:lr.string(),toolCallId:lr.string(),state:lr.literal("input-available"),input:lr.unknown(),providerExecuted:lr.boolean().optional(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.never().optional()}),lr.object({type:lr.literal("dynamic-tool"),toolName:lr.string(),toolCallId:lr.string(),state:lr.literal("approval-requested"),input:lr.unknown(),providerExecuted:lr.boolean().optional(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.never().optional(),reason:lr.never().optional()})}),lr.object({type:lr.literal("dynamic-tool"),toolName:lr.string(),toolCallId:lr.string(),state:lr.literal("approval-responded"),input:lr.unknown(),providerExecuted:lr.boolean().optional(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.boolean(),reason:lr.string().optional()})}),lr.object({type:lr.literal("dynamic-tool"),toolName:lr.string(),toolCallId:lr.string(),state:lr.literal("output-available"),input:lr.unknown(),providerExecuted:lr.boolean().optional(),output:lr.unknown(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),preliminary:lr.boolean().optional(),approval:lr.object({id:lr.string(),approved:lr.literal(!0),reason:lr.string().optional()}).optional()}),lr.object({type:lr.literal("dynamic-tool"),toolName:lr.string(),toolCallId:lr.string(),state:lr.literal("output-error"),input:lr.unknown(),rawInput:lr.unknown().optional(),providerExecuted:lr.boolean().optional(),output:lr.never().optional(),errorText:lr.string(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.literal(!0),reason:lr.string().optional()}).optional()}),lr.object({type:lr.literal("dynamic-tool"),toolName:lr.string(),toolCallId:lr.string(),state:lr.literal("output-denied"),input:lr.unknown(),providerExecuted:lr.boolean().optional(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.literal(!1),reason:lr.string().optional()})}),lr.object({type:lr.string().startsWith("tool-"),toolCallId:lr.string(),state:lr.literal("input-streaming"),providerExecuted:lr.boolean().optional(),callProviderMetadata:lX.optional(),input:lr.unknown().optional(),output:lr.never().optional(),errorText:lr.never().optional(),approval:lr.never().optional()}),lr.object({type:lr.string().startsWith("tool-"),toolCallId:lr.string(),state:lr.literal("input-available"),providerExecuted:lr.boolean().optional(),input:lr.unknown(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.never().optional()}),lr.object({type:lr.string().startsWith("tool-"),toolCallId:lr.string(),state:lr.literal("approval-requested"),input:lr.unknown(),providerExecuted:lr.boolean().optional(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.never().optional(),reason:lr.never().optional()})}),lr.object({type:lr.string().startsWith("tool-"),toolCallId:lr.string(),state:lr.literal("approval-responded"),input:lr.unknown(),providerExecuted:lr.boolean().optional(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.boolean(),reason:lr.string().optional()})}),lr.object({type:lr.string().startsWith("tool-"),toolCallId:lr.string(),state:lr.literal("output-available"),providerExecuted:lr.boolean().optional(),input:lr.unknown(),output:lr.unknown(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),preliminary:lr.boolean().optional(),approval:lr.object({id:lr.string(),approved:lr.literal(!0),reason:lr.string().optional()}).optional()}),lr.object({type:lr.string().startsWith("tool-"),toolCallId:lr.string(),state:lr.literal("output-error"),providerExecuted:lr.boolean().optional(),input:lr.unknown(),rawInput:lr.unknown().optional(),output:lr.never().optional(),errorText:lr.string(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.literal(!0),reason:lr.string().optional()}).optional()}),lr.object({type:lr.string().startsWith("tool-"),toolCallId:lr.string(),state:lr.literal("output-denied"),providerExecuted:lr.boolean().optional(),input:lr.unknown(),output:lr.never().optional(),errorText:lr.never().optional(),callProviderMetadata:lX.optional(),approval:lr.object({id:lr.string(),approved:lr.literal(!1),reason:lr.string().optional()})})])).nonempty("Message must contain at least one part")})).nonempty("Messages array must not be empty"))),a7({prefix:"aiobj",size:24}),a7({prefix:"aiobj",size:24}),Symbol.for("vercel.ai.error.AI_NoSuchProviderError");var lr=nH,uc=lr.object({error:lr.object({message:lr.string(),type:lr.string().nullish(),param:lr.any().nullish(),code:lr.union([lr.string(),lr.number()]).nullish()})}),uh=s9({errorSchema:uc,errorToMessage:e=>e.error.message});function um(e){let t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),r=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),o=e.startsWith("o1")||e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("codex-mini")||e.startsWith("computer-use-preview")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat");return{supportsFlexProcessing:t,supportsPriorityProcessing:r,isReasoningModel:o,systemMessageMode:o?"developer":"system",supportsNonReasoningParameters:e.startsWith("gpt-5.1")||e.startsWith("gpt-5.2")}}function ug(e){var t,r,o,n,i,a;if(null==e)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let s=null!=(t=e.prompt_tokens)?t:0,l=null!=(r=e.completion_tokens)?r:0,u=null!=(n=null==(o=e.prompt_tokens_details)?void 0:o.cached_tokens)?n:0,p=null!=(a=null==(i=e.completion_tokens_details)?void 0:i.reasoning_tokens)?a:0;return{inputTokens:{total:s,noCache:s-u,cacheRead:u,cacheWrite:void 0},outputTokens:{total:l,text:l-p,reasoning:p},raw:e}}function uf({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:r?new Date(1e3*r):void 0}}function uy(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var u_=sV(()=>sH(lr.object({id:lr.string().nullish(),created:lr.number().nullish(),model:lr.string().nullish(),choices:lr.array(lr.object({message:lr.object({role:lr.literal("assistant").nullish(),content:lr.string().nullish(),tool_calls:lr.array(lr.object({id:lr.string().nullish(),type:lr.literal("function"),function:lr.object({name:lr.string(),arguments:lr.string()})})).nullish(),annotations:lr.array(lr.object({type:lr.literal("url_citation"),url_citation:lr.object({start_index:lr.number(),end_index:lr.number(),url:lr.string(),title:lr.string()})})).nullish()}),index:lr.number(),logprobs:lr.object({content:lr.array(lr.object({token:lr.string(),logprob:lr.number(),top_logprobs:lr.array(lr.object({token:lr.string(),logprob:lr.number()}))})).nullish()}).nullish(),finish_reason:lr.string().nullish()})),usage:lr.object({prompt_tokens:lr.number().nullish(),completion_tokens:lr.number().nullish(),total_tokens:lr.number().nullish(),prompt_tokens_details:lr.object({cached_tokens:lr.number().nullish()}).nullish(),completion_tokens_details:lr.object({reasoning_tokens:lr.number().nullish(),accepted_prediction_tokens:lr.number().nullish(),rejected_prediction_tokens:lr.number().nullish()}).nullish()}).nullish()}))),uv=sV(()=>sH(lr.union([lr.object({id:lr.string().nullish(),created:lr.number().nullish(),model:lr.string().nullish(),choices:lr.array(lr.object({delta:lr.object({role:lr.enum(["assistant"]).nullish(),content:lr.string().nullish(),tool_calls:lr.array(lr.object({index:lr.number(),id:lr.string().nullish(),type:lr.literal("function").nullish(),function:lr.object({name:lr.string().nullish(),arguments:lr.string().nullish()})})).nullish(),annotations:lr.array(lr.object({type:lr.literal("url_citation"),url_citation:lr.object({start_index:lr.number(),end_index:lr.number(),url:lr.string(),title:lr.string()})})).nullish()}).nullish(),logprobs:lr.object({content:lr.array(lr.object({token:lr.string(),logprob:lr.number(),top_logprobs:lr.array(lr.object({token:lr.string(),logprob:lr.number()}))})).nullish()}).nullish(),finish_reason:lr.string().nullish(),index:lr.number()})),usage:lr.object({prompt_tokens:lr.number().nullish(),completion_tokens:lr.number().nullish(),total_tokens:lr.number().nullish(),prompt_tokens_details:lr.object({cached_tokens:lr.number().nullish()}).nullish(),completion_tokens_details:lr.object({reasoning_tokens:lr.number().nullish(),accepted_prediction_tokens:lr.number().nullish(),rejected_prediction_tokens:lr.number().nullish()}).nullish()}).nullish()}),uc]))),ub=sV(()=>sH(lr.object({logitBias:lr.record(lr.coerce.number(),lr.number()).optional(),logprobs:lr.union([lr.boolean(),lr.number()]).optional(),parallelToolCalls:lr.boolean().optional(),user:lr.string().optional(),reasoningEffort:lr.enum(["none","minimal","low","medium","high","xhigh"]).optional(),maxCompletionTokens:lr.number().optional(),store:lr.boolean().optional(),metadata:lr.record(lr.string().max(64),lr.string().max(512)).optional(),prediction:lr.record(lr.string(),lr.any()).optional(),serviceTier:lr.enum(["auto","flex","priority","default"]).optional(),strictJsonSchema:lr.boolean().optional(),textVerbosity:lr.enum(["low","medium","high"]).optional(),promptCacheKey:lr.string().optional(),promptCacheRetention:lr.enum(["in_memory","24h"]).optional(),safetyIdentifier:lr.string().optional(),systemMessageMode:lr.enum(["system","developer","remove"]).optional(),forceReasoning:lr.boolean().optional()}))),uw=class{constructor(e,t){this.specificationVersion="v3",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:o,topK:n,frequencyPenalty:i,presencePenalty:a,stopSequences:s,responseFormat:l,seed:u,tools:p,toolChoice:d,providerOptions:c}){var h,m,g,f,y;let _=[],v=null!=(h=await s0({provider:"openai",providerOptions:c,schema:ub}))?h:{},b=um(this.modelId),w=null!=(m=v.forceReasoning)?m:b.isReasoningModel;null!=n&&_.push({type:"unsupported",feature:"topK"});let{messages:D,warnings:C}=function({prompt:e,systemMessageMode:t="system"}){var r;let o=[],n=[];for(let{role:i,content:a}of e)switch(i){case"system":switch(t){case"system":o.push({role:"system",content:a});break;case"developer":o.push({role:"developer",content:a});break;case"remove":n.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${t}`)}break;case"user":if(1===a.length&&"text"===a[0].type){o.push({role:"user",content:a[0].text});break}o.push({role:"user",content:a.map((e,t)=>{var r,o,n;switch(e.type){case"text":return{type:"text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"image_url",image_url:{url:e.data instanceof URL?e.data.toString():`data:${t};base64,${a3(e.data)}`,detail:null==(o=null==(r=e.providerOptions)?void 0:r.openai)?void 0:o.imageDetail}}}if(e.mediaType.startsWith("audio/")){if(e.data instanceof URL)throw new nG({functionality:"audio file parts with URLs"});switch(e.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:a3(e.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:a3(e.data),format:"mp3"}};default:throw new nG({functionality:`audio content parts with media type ${e.mediaType}`})}}if("application/pdf"===e.mediaType){if(e.data instanceof URL)throw new nG({functionality:"PDF file parts with URLs"});return{type:"file",file:"string"==typeof e.data&&e.data.startsWith("file-")?{file_id:e.data}:{filename:null!=(n=e.filename)?n:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${a3(e.data)}`}}}else throw new nG({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{let e="",t=[];for(let r of a)switch(r.type){case"text":e+=r.text;break;case"tool-call":t.push({id:r.toolCallId,type:"function",function:{name:r.toolName,arguments:JSON.stringify(r.input)}})}o.push({role:"assistant",content:e,tool_calls:t.length>0?t:void 0});break}case"tool":for(let e of a){let t;if("tool-approval-response"===e.type)continue;let n=e.output;switch(n.type){case"text":case"error-text":t=n.value;break;case"execution-denied":t=null!=(r=n.reason)?r:"Tool execution denied.";break;case"content":case"json":case"error-json":t=JSON.stringify(n.value)}o.push({role:"tool",tool_call_id:e.toolCallId,content:t})}break;default:throw Error(`Unsupported role: ${i}`)}return{messages:o,warnings:n}}({prompt:e,systemMessageMode:null!=(g=v.systemMessageMode)?g:w?"developer":b.systemMessageMode});_.push(...C);let E=null==(f=v.strictJsonSchema)||f,k={model:this.modelId,logit_bias:v.logitBias,logprobs:!0===v.logprobs||"number"==typeof v.logprobs||void 0,top_logprobs:"number"==typeof v.logprobs?v.logprobs:"boolean"==typeof v.logprobs&&v.logprobs?0:void 0,user:v.user,parallel_tool_calls:v.parallelToolCalls,max_tokens:t,temperature:r,top_p:o,frequency_penalty:i,presence_penalty:a,response_format:(null==l?void 0:l.type)==="json"?null!=l.schema?{type:"json_schema",json_schema:{schema:l.schema,strict:E,name:null!=(y=l.name)?y:"response",description:l.description}}:{type:"json_object"}:void 0,stop:s,seed:u,verbosity:v.textVerbosity,max_completion_tokens:v.maxCompletionTokens,store:v.store,metadata:v.metadata,prediction:v.prediction,reasoning_effort:v.reasoningEffort,service_tier:v.serviceTier,prompt_cache_key:v.promptCacheKey,prompt_cache_retention:v.promptCacheRetention,safety_identifier:v.safetyIdentifier,messages:D};w?("none"===v.reasoningEffort&&b.supportsNonReasoningParameters||(null!=k.temperature&&(k.temperature=void 0,_.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for reasoning models"})),null!=k.top_p&&(k.top_p=void 0,_.push({type:"unsupported",feature:"topP",details:"topP is not supported for reasoning models"})),null!=k.logprobs&&(k.logprobs=void 0,_.push({type:"other",message:"logprobs is not supported for reasoning models"}))),null!=k.frequency_penalty&&(k.frequency_penalty=void 0,_.push({type:"unsupported",feature:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),null!=k.presence_penalty&&(k.presence_penalty=void 0,_.push({type:"unsupported",feature:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),null!=k.logit_bias&&(k.logit_bias=void 0,_.push({type:"other",message:"logitBias is not supported for reasoning models"})),null!=k.top_logprobs&&(k.top_logprobs=void 0,_.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),null!=k.max_tokens&&(null==k.max_completion_tokens&&(k.max_completion_tokens=k.max_tokens),k.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&null!=k.temperature&&(k.temperature=void 0,_.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),"flex"!==v.serviceTier||b.supportsFlexProcessing||(_.push({type:"unsupported",feature:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),k.service_tier=void 0),"priority"!==v.serviceTier||b.supportsPriorityProcessing||(_.push({type:"unsupported",feature:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),k.service_tier=void 0);let{tools:x,toolChoice:T,toolWarnings:S}=function({tools:e,toolChoice:t}){e=(null==e?void 0:e.length)?e:void 0;let r=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let o=[];for(let t of e)"function"===t.type?o.push({type:"function",function:{name:t.name,description:t.description,parameters:t.inputSchema,...null!=t.strict?{strict:t.strict}:{}}}):r.push({type:"unsupported",feature:`tool type: ${t.type}`});if(null==t)return{tools:o,toolChoice:void 0,toolWarnings:r};let n=t.type;switch(n){case"auto":case"none":case"required":return{tools:o,toolChoice:n,toolWarnings:r};case"tool":return{tools:o,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:r};default:throw new nG({functionality:`tool choice type: ${n}`})}}({tools:p,toolChoice:d});return{args:{...k,tools:x,tool_choice:T},warnings:[..._,...S]}}async doGenerate(e){var t,r,o,n,i,a,s;let{args:l,warnings:u}=await this.getArgs(e),{responseHeaders:p,value:d,rawValue:c}=await s2({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:aJ(this.config.headers(),e.headers),body:l,failedResponseHandler:uh,successfulResponseHandler:le(u_),abortSignal:e.abortSignal,fetch:this.config.fetch}),h=d.choices[0],m=[],g=h.message.content;for(let e of(null!=g&&g.length>0&&m.push({type:"text",text:g}),null!=(t=h.message.tool_calls)?t:[]))m.push({type:"tool-call",toolCallId:null!=(r=e.id)?r:se(),toolName:e.function.name,input:e.function.arguments});for(let e of null!=(o=h.message.annotations)?o:[])m.push({type:"source",sourceType:"url",id:se(),url:e.url_citation.url,title:e.url_citation.title});let f=null==(n=d.usage)?void 0:n.completion_tokens_details;null==(i=d.usage)||i.prompt_tokens_details;let y={openai:{}};return(null==f?void 0:f.accepted_prediction_tokens)!=null&&(y.openai.acceptedPredictionTokens=null==f?void 0:f.accepted_prediction_tokens),(null==f?void 0:f.rejected_prediction_tokens)!=null&&(y.openai.rejectedPredictionTokens=null==f?void 0:f.rejected_prediction_tokens),(null==(a=h.logprobs)?void 0:a.content)!=null&&(y.openai.logprobs=h.logprobs.content),{content:m,finishReason:{unified:uy(h.finish_reason),raw:null!=(s=h.finish_reason)?s:void 0},usage:ug(d.usage),request:{body:l},response:{...uf(d),headers:p,body:c},warnings:u,providerMetadata:y}}async doStream(e){let t,{args:r,warnings:o}=await this.getArgs(e),n={...r,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:i,value:a}=await s2({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:aJ(this.config.headers(),e.headers),body:n,failedResponseHandler:uh,successfulResponseHandler:s7(uv),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[],l={unified:"other",raw:void 0},u=!1,p=!1,d={openai:{}};return{stream:a.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:o})},transform(r,o){var n,i,a,c,h,m,g,f,y,_,v,b,w,D,C,E,k;if(e.includeRawChunks&&o.enqueue({type:"raw",rawValue:r.rawValue}),!r.success){l={unified:"error",raw:void 0},o.enqueue({type:"error",error:r.error});return}let x=r.value;if("error"in x){l={unified:"error",raw:void 0},o.enqueue({type:"error",error:x.error});return}!u&&Object.values(uf(x)).some(Boolean)&&(u=!0,o.enqueue({type:"response-metadata",...uf(x)})),null!=x.usage&&(t=x.usage,(null==(n=x.usage.completion_tokens_details)?void 0:n.accepted_prediction_tokens)!=null&&(d.openai.acceptedPredictionTokens=null==(i=x.usage.completion_tokens_details)?void 0:i.accepted_prediction_tokens),(null==(a=x.usage.completion_tokens_details)?void 0:a.rejected_prediction_tokens)!=null&&(d.openai.rejectedPredictionTokens=null==(c=x.usage.completion_tokens_details)?void 0:c.rejected_prediction_tokens));let T=x.choices[0];if((null==T?void 0:T.finish_reason)!=null&&(l={unified:uy(T.finish_reason),raw:T.finish_reason}),(null==(h=null==T?void 0:T.logprobs)?void 0:h.content)!=null&&(d.openai.logprobs=T.logprobs.content),(null==T?void 0:T.delta)==null)return;let S=T.delta;if(null!=S.content&&(p||(o.enqueue({type:"text-start",id:"0"}),p=!0),o.enqueue({type:"text-delta",id:"0",delta:S.content})),null!=S.tool_calls)for(let e of S.tool_calls){let t=e.index;if(null==s[t]){if("function"!==e.type)throw new nD({data:e,message:"Expected 'function' type."});if(null==e.id)throw new nD({data:e,message:"Expected 'id' to be a string."});if((null==(m=e.function)?void 0:m.name)==null)throw new nD({data:e,message:"Expected 'function.name' to be a string."});o.enqueue({type:"tool-input-start",id:e.id,toolName:e.function.name}),s[t]={id:e.id,type:"function",function:{name:e.function.name,arguments:null!=(g=e.function.arguments)?g:""},hasFinished:!1};let r=s[t];(null==(f=r.function)?void 0:f.name)!=null&&(null==(y=r.function)?void 0:y.arguments)!=null&&(r.function.arguments.length>0&&o.enqueue({type:"tool-input-delta",id:r.id,delta:r.function.arguments}),sX(r.function.arguments)&&(o.enqueue({type:"tool-input-end",id:r.id}),o.enqueue({type:"tool-call",toolCallId:null!=(_=r.id)?_:se(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0));continue}let r=s[t];!r.hasFinished&&((null==(v=e.function)?void 0:v.arguments)!=null&&(r.function.arguments+=null!=(w=null==(b=e.function)?void 0:b.arguments)?w:""),o.enqueue({type:"tool-input-delta",id:r.id,delta:null!=(D=e.function.arguments)?D:""}),(null==(C=r.function)?void 0:C.name)!=null&&(null==(E=r.function)?void 0:E.arguments)!=null&&sX(r.function.arguments)&&(o.enqueue({type:"tool-input-end",id:r.id}),o.enqueue({type:"tool-call",toolCallId:null!=(k=r.id)?k:se(),toolName:r.function.name,input:r.function.arguments}),r.hasFinished=!0))}if(null!=S.annotations)for(let e of S.annotations)o.enqueue({type:"source",sourceType:"url",id:se(),url:e.url_citation.url,title:e.url_citation.title})},flush(e){p&&e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:l,usage:ug(t),...null!=d?{providerMetadata:d}:{}})}})),request:{body:n},response:{headers:i}}}};function uD(e){var t,r,o,n;if(null==e)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let i=null!=(t=e.prompt_tokens)?t:0,a=null!=(r=e.completion_tokens)?r:0;return{inputTokens:{total:null!=(o=e.prompt_tokens)?o:void 0,noCache:i,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:null!=(n=e.completion_tokens)?n:void 0,text:a,reasoning:void 0},raw:e}}function uC({id:e,model:t,created:r}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=r?new Date(1e3*r):void 0}}function uE(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"other"}}var uk=sV(()=>sH(lr.object({id:lr.string().nullish(),created:lr.number().nullish(),model:lr.string().nullish(),choices:lr.array(lr.object({text:lr.string(),finish_reason:lr.string(),logprobs:lr.object({tokens:lr.array(lr.string()),token_logprobs:lr.array(lr.number()),top_logprobs:lr.array(lr.record(lr.string(),lr.number())).nullish()}).nullish()})),usage:lr.object({prompt_tokens:lr.number(),completion_tokens:lr.number(),total_tokens:lr.number()}).nullish()}))),ux=sV(()=>sH(lr.union([lr.object({id:lr.string().nullish(),created:lr.number().nullish(),model:lr.string().nullish(),choices:lr.array(lr.object({text:lr.string(),finish_reason:lr.string().nullish(),index:lr.number(),logprobs:lr.object({tokens:lr.array(lr.string()),token_logprobs:lr.array(lr.number()),top_logprobs:lr.array(lr.record(lr.string(),lr.number())).nullish()}).nullish()})),usage:lr.object({prompt_tokens:lr.number(),completion_tokens:lr.number(),total_tokens:lr.number()}).nullish()}),uc]))),uT=sV(()=>sH(lr.object({echo:lr.boolean().optional(),logitBias:lr.record(lr.string(),lr.number()).optional(),suffix:lr.string().optional(),user:lr.string().optional(),logprobs:lr.union([lr.boolean(),lr.number()]).optional()}))),uS=class{constructor(e,t){this.specificationVersion="v3",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:o,topK:n,frequencyPenalty:i,presencePenalty:a,stopSequences:s,responseFormat:l,tools:u,toolChoice:p,seed:d,providerOptions:c}){let h=[],m={...await s0({provider:"openai",providerOptions:c,schema:uT}),...await s0({provider:this.providerOptionsName,providerOptions:c,schema:uT})};null!=n&&h.push({type:"unsupported",feature:"topK"}),(null==u?void 0:u.length)&&h.push({type:"unsupported",feature:"tools"}),null!=p&&h.push({type:"unsupported",feature:"toolChoice"}),null!=l&&"text"!==l.type&&h.push({type:"unsupported",feature:"responseFormat",details:"JSON response format is not supported."});let{prompt:g,stopSequences:f}=function({prompt:e,user:t="user",assistant:r="assistant"}){let o="";for(let{role:n,content:i}of("system"===e[0].role&&(o+=`${e[0].content}

`,e=e.slice(1)),e))switch(n){case"system":throw new n_({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let e=i.map(e=>{if("text"===e.type)return e.text}).filter(Boolean).join("");o+=`${t}:
${e}

`;break}case"assistant":{let e=i.map(e=>{switch(e.type){case"text":return e.text;case"tool-call":throw new nG({functionality:"tool-call messages"})}}).join("");o+=`${r}:
${e}

`;break}case"tool":throw new nG({functionality:"tool messages"});default:throw Error(`Unsupported role: ${n}`)}return{prompt:o+=`${r}:
`,stopSequences:[`
${t}:`]}}({prompt:e}),y=[...null!=f?f:[],...null!=s?s:[]];return{args:{model:this.modelId,echo:m.echo,logit_bias:m.logitBias,logprobs:(null==m?void 0:m.logprobs)===!0?0:(null==m?void 0:m.logprobs)===!1||null==m?void 0:m.logprobs,suffix:m.suffix,user:m.user,max_tokens:t,temperature:r,top_p:o,frequency_penalty:i,presence_penalty:a,seed:d,prompt:g,stop:y.length>0?y:void 0},warnings:h}}async doGenerate(e){var t;let{args:r,warnings:o}=await this.getArgs(e),{responseHeaders:n,value:i,rawValue:a}=await s2({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:aJ(this.config.headers(),e.headers),body:r,failedResponseHandler:uh,successfulResponseHandler:le(uk),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=i.choices[0],l={openai:{}};return null!=s.logprobs&&(l.openai.logprobs=s.logprobs),{content:[{type:"text",text:s.text}],usage:uD(i.usage),finishReason:{unified:uE(s.finish_reason),raw:null!=(t=s.finish_reason)?t:void 0},request:{body:r},response:{...uC(i),headers:n,body:a},providerMetadata:l,warnings:o}}async doStream(e){let t,{args:r,warnings:o}=await this.getArgs(e),n={...r,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:i,value:a}=await s2({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:aJ(this.config.headers(),e.headers),body:n,failedResponseHandler:uh,successfulResponseHandler:s7(ux),abortSignal:e.abortSignal,fetch:this.config.fetch}),s={unified:"other",raw:void 0},l={openai:{}},u=!0;return{stream:a.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:o})},transform(r,o){if(e.includeRawChunks&&o.enqueue({type:"raw",rawValue:r.rawValue}),!r.success){s={unified:"error",raw:void 0},o.enqueue({type:"error",error:r.error});return}let n=r.value;if("error"in n){s={unified:"error",raw:void 0},o.enqueue({type:"error",error:n.error});return}u&&(u=!1,o.enqueue({type:"response-metadata",...uC(n)}),o.enqueue({type:"text-start",id:"0"})),null!=n.usage&&(t=n.usage);let i=n.choices[0];(null==i?void 0:i.finish_reason)!=null&&(s={unified:uE(i.finish_reason),raw:i.finish_reason}),(null==i?void 0:i.logprobs)!=null&&(l.openai.logprobs=i.logprobs),(null==i?void 0:i.text)!=null&&i.text.length>0&&o.enqueue({type:"text-delta",id:"0",delta:i.text})},flush(e){u||e.enqueue({type:"text-end",id:"0"}),e.enqueue({type:"finish",finishReason:s,providerMetadata:l,usage:uD(t)})}})),request:{body:n},response:{headers:i}}}},uR=sV(()=>sH(lr.object({dimensions:lr.number().optional(),user:lr.string().optional()}))),uj=sV(()=>sH(lr.object({data:lr.array(lr.object({embedding:lr.array(lr.number())})),usage:lr.object({prompt_tokens:lr.number()}).nullish()}))),uF=class{constructor(e,t){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:o}){var n;if(e.length>this.maxEmbeddingsPerCall)throw new nU({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=null!=(n=await s0({provider:"openai",providerOptions:o,schema:uR}))?n:{},{responseHeaders:a,value:s,rawValue:l}=await s2({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:aJ(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:i.dimensions,user:i.user},failedResponseHandler:uh,successfulResponseHandler:le(uj),abortSignal:r,fetch:this.config.fetch});return{warnings:[],embeddings:s.data.map(e=>e.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,response:{headers:a,body:l}}}},uP=sV(()=>sH(lr.object({created:lr.number().nullish(),data:lr.array(lr.object({b64_json:lr.string(),revised_prompt:lr.string().nullish()})),background:lr.string().nullish(),output_format:lr.string().nullish(),size:lr.string().nullish(),quality:lr.string().nullish(),usage:lr.object({input_tokens:lr.number().nullish(),output_tokens:lr.number().nullish(),total_tokens:lr.number().nullish(),input_tokens_details:lr.object({image_tokens:lr.number().nullish(),text_tokens:lr.number().nullish()}).nullish()}).nullish()}))),uO={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10,"gpt-image-1-mini":10,"gpt-image-1.5":10},uI=["gpt-image-1-mini","gpt-image-1.5","gpt-image-1"],uA=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3"}get maxImagesPerCall(){var e;return null!=(e=uO[this.modelId])?e:1}get provider(){return this.config.provider}async doGenerate({prompt:e,files:t,mask:r,n:o,size:n,aspectRatio:i,seed:a,providerOptions:s,headers:l,abortSignal:u}){var p,d,c,h,m,g,f,y,_,v,b,w;let D=[];null!=i&&D.push({type:"unsupported",feature:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),null!=a&&D.push({type:"unsupported",feature:"seed"});let C=null!=(c=null==(d=null==(p=this.config._internal)?void 0:p.currentDate)?void 0:d.call(p))?c:new Date;if(null!=t){let{value:i,responseHeaders:a}=await s3({url:this.config.url({path:"/images/edits",modelId:this.modelId}),headers:aJ(this.config.headers(),l),formData:function(e,t={}){let{useArrayBrackets:r=!0}=t,o=new FormData;for(let[t,n]of Object.entries(e))if(null!=n){if(Array.isArray(n)){if(1===n.length){o.append(t,n[0]);continue}let e=r?`${t}[]`:t;for(let t of n)o.append(e,t);continue}o.append(t,n)}return o}({model:this.modelId,prompt:e,image:await Promise.all(t.map(e=>"file"===e.type?new Blob([e.data instanceof Uint8Array?new Blob([e.data],{type:e.mediaType}):new Blob([a1(e.data)],{type:e.mediaType})],{type:e.mediaType}):a9(e.url))),mask:null!=r?await uN(r):void 0,n:o,size:n,...null!=(h=s.openai)?h:{}}),failedResponseHandler:uh,successfulResponseHandler:le(uP),abortSignal:u,fetch:this.config.fetch});return{images:i.data.map(e=>e.b64_json),warnings:D,usage:null!=i.usage?{inputTokens:null!=(m=i.usage.input_tokens)?m:void 0,outputTokens:null!=(g=i.usage.output_tokens)?g:void 0,totalTokens:null!=(f=i.usage.total_tokens)?f:void 0}:void 0,response:{timestamp:C,modelId:this.modelId,headers:a},providerMetadata:{openai:{images:i.data.map(e=>{var t,r,o,n,a;return{...e.revised_prompt?{revisedPrompt:e.revised_prompt}:{},created:null!=(t=i.created)?t:void 0,size:null!=(r=i.size)?r:void 0,quality:null!=(o=i.quality)?o:void 0,background:null!=(n=i.background)?n:void 0,outputFormat:null!=(a=i.output_format)?a:void 0}})}}}}let{value:E,responseHeaders:k}=await s2({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:aJ(this.config.headers(),l),body:{model:this.modelId,prompt:e,n:o,size:n,...null!=(y=s.openai)?y:{},...(w=this.modelId,!uI.some(e=>w.startsWith(e)))?{response_format:"b64_json"}:{}},failedResponseHandler:uh,successfulResponseHandler:le(uP),abortSignal:u,fetch:this.config.fetch});return{images:E.data.map(e=>e.b64_json),warnings:D,usage:null!=E.usage?{inputTokens:null!=(_=E.usage.input_tokens)?_:void 0,outputTokens:null!=(v=E.usage.output_tokens)?v:void 0,totalTokens:null!=(b=E.usage.total_tokens)?b:void 0}:void 0,response:{timestamp:C,modelId:this.modelId,headers:k},providerMetadata:{openai:{images:E.data.map(e=>{var t,r,o,n,i;return{...e.revised_prompt?{revisedPrompt:e.revised_prompt}:{},created:null!=(t=E.created)?t:void 0,size:null!=(r=E.size)?r:void 0,quality:null!=(o=E.quality)?o:void 0,background:null!=(n=E.background)?n:void 0,outputFormat:null!=(i=E.output_format)?i:void 0}})}}}}};async function uN(e){return e?"url"===e.type?a9(e.url):new Blob([e.data instanceof Uint8Array?e.data:a1(e.data)],{type:e.mediaType}):void 0}var uB=sV(()=>sH(lr.object({callId:lr.string(),operation:lr.discriminatedUnion("type",[lr.object({type:lr.literal("create_file"),path:lr.string(),diff:lr.string()}),lr.object({type:lr.literal("delete_file"),path:lr.string()}),lr.object({type:lr.literal("update_file"),path:lr.string(),diff:lr.string()})])}))),uM=sV(()=>sH(lr.object({status:lr.enum(["completed","failed"]),output:lr.string().optional()})));sV(()=>sH(lr.object({})));var uU=s4({id:"openai.apply_patch",inputSchema:uB,outputSchema:uM}),uL=sV(()=>sH(lr.object({code:lr.string().nullish(),containerId:lr.string()}))),uq=sV(()=>sH(lr.object({outputs:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("logs"),logs:lr.string()}),lr.object({type:lr.literal("image"),url:lr.string()})])).nullish()}))),u$=sV(()=>sH(lr.object({container:lr.union([lr.string(),lr.object({fileIds:lr.array(lr.string()).optional()})]).optional()}))),uz=s4({id:"openai.code_interpreter",inputSchema:uL,outputSchema:uq}),uW=lr.object({key:lr.string(),type:lr.enum(["eq","ne","gt","gte","lt","lte","in","nin"]),value:lr.union([lr.string(),lr.number(),lr.boolean(),lr.array(lr.string())])}),uV=lr.object({type:lr.enum(["and","or"]),filters:lr.array(lr.union([uW,lr.lazy(()=>uV)]))}),uK=sV(()=>sH(lr.object({vectorStoreIds:lr.array(lr.string()),maxNumResults:lr.number().optional(),ranking:lr.object({ranker:lr.string().optional(),scoreThreshold:lr.number().optional()}).optional(),filters:lr.union([uW,uV]).optional()}))),uG=sV(()=>sH(lr.object({queries:lr.array(lr.string()),results:lr.array(lr.object({attributes:lr.record(lr.string(),lr.unknown()),fileId:lr.string(),filename:lr.string(),score:lr.number(),text:lr.string()})).nullable()}))),uH=s4({id:"openai.file_search",inputSchema:lr.object({}),outputSchema:uG}),uZ=sV(()=>sH(lr.object({background:lr.enum(["auto","opaque","transparent"]).optional(),inputFidelity:lr.enum(["low","high"]).optional(),inputImageMask:lr.object({fileId:lr.string().optional(),imageUrl:lr.string().optional()}).optional(),model:lr.string().optional(),moderation:lr.enum(["auto"]).optional(),outputCompression:lr.number().int().min(0).max(100).optional(),outputFormat:lr.enum(["png","jpeg","webp"]).optional(),partialImages:lr.number().int().min(0).max(3).optional(),quality:lr.enum(["auto","low","medium","high"]).optional(),size:lr.enum(["1024x1024","1024x1536","1536x1024","auto"]).optional()}).strict())),uJ=s4({id:"openai.image_generation",inputSchema:sV(()=>sH(lr.object({}))),outputSchema:sV(()=>sH(lr.object({result:lr.string()})))}),uY=sV(()=>sH(lr.object({action:lr.object({type:lr.literal("exec"),command:lr.array(lr.string()),timeoutMs:lr.number().optional(),user:lr.string().optional(),workingDirectory:lr.string().optional(),env:lr.record(lr.string(),lr.string()).optional()})}))),uQ=sV(()=>sH(lr.object({output:lr.string()}))),uX=s4({id:"openai.local_shell",inputSchema:uY,outputSchema:uQ}),u0=sV(()=>sH(lr.object({action:lr.object({commands:lr.array(lr.string()),timeoutMs:lr.number().optional(),maxOutputLength:lr.number().optional()})}))),u1=sV(()=>sH(lr.object({output:lr.array(lr.object({stdout:lr.string(),stderr:lr.string(),outcome:lr.discriminatedUnion("type",[lr.object({type:lr.literal("timeout")}),lr.object({type:lr.literal("exit"),exitCode:lr.number()})])}))}))),u2=s4({id:"openai.shell",inputSchema:u0,outputSchema:u1}),u3=sV(()=>sH(lr.object({externalWebAccess:lr.boolean().optional(),filters:lr.object({allowedDomains:lr.array(lr.string()).optional()}).optional(),searchContextSize:lr.enum(["low","medium","high"]).optional(),userLocation:lr.object({type:lr.literal("approximate"),country:lr.string().optional(),city:lr.string().optional(),region:lr.string().optional(),timezone:lr.string().optional()}).optional()}))),u6=s4({id:"openai.web_search",inputSchema:sV(()=>sH(lr.object({}))),outputSchema:sV(()=>sH(lr.object({action:lr.discriminatedUnion("type",[lr.object({type:lr.literal("search"),query:lr.string().optional()}),lr.object({type:lr.literal("openPage"),url:lr.string().nullish()}),lr.object({type:lr.literal("findInPage"),url:lr.string().nullish(),pattern:lr.string().nullish()})]),sources:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("url"),url:lr.string()}),lr.object({type:lr.literal("api"),name:lr.string()})])).optional()})))}),u5=sV(()=>sH(lr.object({searchContextSize:lr.enum(["low","medium","high"]).optional(),userLocation:lr.object({type:lr.literal("approximate"),country:lr.string().optional(),city:lr.string().optional(),region:lr.string().optional(),timezone:lr.string().optional()}).optional()}))),u4=s4({id:"openai.web_search_preview",inputSchema:sV(()=>sH(lr.object({}))),outputSchema:sV(()=>sH(lr.object({action:lr.discriminatedUnion("type",[lr.object({type:lr.literal("search"),query:lr.string().optional()}),lr.object({type:lr.literal("openPage"),url:lr.string().nullish()}),lr.object({type:lr.literal("findInPage"),url:lr.string().nullish(),pattern:lr.string().nullish()})])})))}),u8=lr.lazy(()=>lr.union([lr.string(),lr.number(),lr.boolean(),lr.null(),lr.array(u8),lr.record(lr.string(),u8)])),u9=sV(()=>sH(lr.object({serverLabel:lr.string(),allowedTools:lr.union([lr.array(lr.string()),lr.object({readOnly:lr.boolean().optional(),toolNames:lr.array(lr.string()).optional()})]).optional(),authorization:lr.string().optional(),connectorId:lr.string().optional(),headers:lr.record(lr.string(),lr.string()).optional(),requireApproval:lr.union([lr.enum(["always","never"]),lr.object({never:lr.object({toolNames:lr.array(lr.string()).optional()}).optional()})]).optional(),serverDescription:lr.string().optional(),serverUrl:lr.string().optional()}).refine(e=>null!=e.serverUrl||null!=e.connectorId,"One of serverUrl or connectorId must be provided."))),u7=s4({id:"openai.mcp",inputSchema:sV(()=>sH(lr.object({}))),outputSchema:sV(()=>sH(lr.object({type:lr.literal("call"),serverLabel:lr.string(),name:lr.string(),arguments:lr.string(),output:lr.string().nullish(),error:lr.union([lr.string(),u8]).optional()})))}),pe={applyPatch:uU,codeInterpreter:(e={})=>uz(e),fileSearch:uH,imageGeneration:(e={})=>uJ(e),localShell:uX,shell:u2,webSearchPreview:u4,webSearch:(e={})=>u6(e),mcp:e=>u7(e)};function pt(e){var t,r,o,n;if(null==e)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let i=e.input_tokens,a=e.output_tokens,s=null!=(r=null==(t=e.input_tokens_details)?void 0:t.cached_tokens)?r:0,l=null!=(n=null==(o=e.output_tokens_details)?void 0:o.reasoning_tokens)?n:0;return{inputTokens:{total:i,noCache:i-s,cacheRead:s,cacheWrite:void 0},outputTokens:{total:a,text:a-l,reasoning:l},raw:e}}function pr(e,t){return!!t&&t.some(t=>e.startsWith(t))}async function po({prompt:e,toolNameMapping:t,systemMessageMode:r,providerOptionsName:o,fileIdPrefixes:n,store:i,hasConversation:a=!1,hasLocalShellTool:s=!1,hasShellTool:l=!1,hasApplyPatchTool:u=!1}){var p,d,c,h,m,g,f,y,_,v,b,w,D;let C=[],E=[],k=new Set;for(let{role:x,content:T}of e)switch(x){case"system":switch(r){case"system":C.push({role:"system",content:T});break;case"developer":C.push({role:"developer",content:T});break;case"remove":E.push({type:"other",message:"system messages are removed for this model"});break;default:throw Error(`Unsupported system message mode: ${r}`)}break;case"user":C.push({role:"user",content:T.map((e,t)=>{var r,i,a;switch(e.type){case"text":return{type:"input_text",text:e.text};case"file":if(e.mediaType.startsWith("image/")){let t="image/*"===e.mediaType?"image/jpeg":e.mediaType;return{type:"input_image",...e.data instanceof URL?{image_url:e.data.toString()}:"string"==typeof e.data&&pr(e.data,n)?{file_id:e.data}:{image_url:`data:${t};base64,${a3(e.data)}`},detail:null==(i=null==(r=e.providerOptions)?void 0:r[o])?void 0:i.imageDetail}}if("application/pdf"===e.mediaType){if(e.data instanceof URL)return{type:"input_file",file_url:e.data.toString()};return{type:"input_file",..."string"==typeof e.data&&pr(e.data,n)?{file_id:e.data}:{filename:null!=(a=e.filename)?a:`part-${t}.pdf`,file_data:`data:application/pdf;base64,${a3(e.data)}`}}}throw new nG({functionality:`file part media type ${e.mediaType}`})}})});break;case"assistant":{let e={};for(let r of T)switch(r.type){case"text":{let e=null==(d=null==(p=r.providerOptions)?void 0:p[o])?void 0:d.itemId;if(a&&null!=e)break;if(i&&null!=e){C.push({type:"item_reference",id:e});break}C.push({role:"assistant",content:[{type:"output_text",text:r.text}],id:e});break}case"tool-call":{let e=null!=(f=null==(h=null==(c=r.providerOptions)?void 0:c[o])?void 0:h.itemId)?f:null==(g=null==(m=r.providerMetadata)?void 0:m[o])?void 0:g.itemId;if(a&&null!=e)break;if(r.providerExecuted){i&&null!=e&&C.push({type:"item_reference",id:e});break}if(i&&null!=e){C.push({type:"item_reference",id:e});break}let n=t.toProviderToolName(r.toolName);if(s&&"local_shell"===n){let t=await sZ({value:r.input,schema:uY});C.push({type:"local_shell_call",call_id:r.toolCallId,id:e,action:{type:"exec",command:t.action.command,timeout_ms:t.action.timeoutMs,user:t.action.user,working_directory:t.action.workingDirectory,env:t.action.env}});break}if(l&&"shell"===n){let t=await sZ({value:r.input,schema:u0});C.push({type:"shell_call",call_id:r.toolCallId,id:e,status:"completed",action:{commands:t.action.commands,timeout_ms:t.action.timeoutMs,max_output_length:t.action.maxOutputLength}});break}if(u&&"apply_patch"===n){let t=await sZ({value:r.input,schema:uB});C.push({type:"apply_patch_call",call_id:t.callId,id:e,status:"completed",operation:t.operation});break}C.push({type:"function_call",call_id:r.toolCallId,name:n,arguments:JSON.stringify(r.input),id:e});break}case"tool-result":if("execution-denied"===r.output.type||"json"===r.output.type&&"object"==typeof r.output.value&&null!=r.output.value&&"type"in r.output.value&&"execution-denied"===r.output.value.type||a)break;if(i){let e=null!=(v=null==(_=null==(y=r.providerMetadata)?void 0:y[o])?void 0:_.itemId)?v:r.toolCallId;C.push({type:"item_reference",id:e})}else E.push({type:"other",message:`Results for OpenAI tool ${r.toolName} are not sent to the API when store is false`});break;case"reasoning":{let t=await s0({provider:o,providerOptions:r.providerOptions,schema:pn}),n=null==t?void 0:t.itemId;if(a&&null!=n)break;if(null!=n){let o=e[n];if(i)void 0===o&&(C.push({type:"item_reference",id:n}),e[n]={type:"reasoning",id:n,summary:[]});else{let i=[];r.text.length>0?i.push({type:"summary_text",text:r.text}):void 0!==o&&E.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(r)}.`}),void 0===o?(e[n]={type:"reasoning",id:n,encrypted_content:null==t?void 0:t.reasoningEncryptedContent,summary:i},C.push(e[n])):(o.summary.push(...i),(null==t?void 0:t.reasoningEncryptedContent)!=null&&(o.encrypted_content=t.reasoningEncryptedContent))}}else E.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(r)}.`})}}break}case"tool":for(let e of T){let r;if("tool-approval-response"===e.type){if(k.has(e.approvalId))continue;k.add(e.approvalId),i&&C.push({type:"item_reference",id:e.approvalId}),C.push({type:"mcp_approval_response",approval_request_id:e.approvalId,approve:e.approved});continue}let o=e.output;if("execution-denied"===o.type&&(null==(w=null==(b=o.providerOptions)?void 0:b.openai)?void 0:w.approvalId))continue;let n=t.toProviderToolName(e.toolName);if(s&&"local_shell"===n&&"json"===o.type){let t=await sZ({value:o.value,schema:uQ});C.push({type:"local_shell_call_output",call_id:e.toolCallId,output:t.output});continue}if(l&&"shell"===n&&"json"===o.type){let t=await sZ({value:o.value,schema:u1});C.push({type:"shell_call_output",call_id:e.toolCallId,output:t.output.map(e=>({stdout:e.stdout,stderr:e.stderr,outcome:"timeout"===e.outcome.type?{type:"timeout"}:{type:"exit",exit_code:e.outcome.exitCode}}))});continue}if(u&&"apply_patch"===e.toolName&&"json"===o.type){let t=await sZ({value:o.value,schema:uM});C.push({type:"apply_patch_call_output",call_id:e.toolCallId,status:t.status,output:t.output});continue}switch(o.type){case"text":case"error-text":r=o.value;break;case"execution-denied":r=null!=(D=o.reason)?D:"Tool execution denied.";break;case"json":case"error-json":r=JSON.stringify(o.value);break;case"content":r=o.value.map(e=>{var t;switch(e.type){case"text":return{type:"input_text",text:e.text};case"image-data":return{type:"input_image",image_url:`data:${e.mediaType};base64,${e.data}`};case"image-url":return{type:"input_image",image_url:e.url};case"file-data":return{type:"input_file",filename:null!=(t=e.filename)?t:"data",file_data:`data:${e.mediaType};base64,${e.data}`};default:return void E.push({type:"other",message:`unsupported tool content part type: ${e.type}`})}}).filter(su)}C.push({type:"function_call_output",call_id:e.toolCallId,output:r})}break;default:throw Error(`Unsupported role: ${x}`)}return{input:C,warnings:E}}var pn=lr.object({itemId:lr.string().nullish(),reasoningEncryptedContent:lr.string().nullish()});function pi({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"other"}}var pa=sV(()=>sH(lr.union([lr.object({type:lr.literal("response.output_text.delta"),item_id:lr.string(),delta:lr.string(),logprobs:lr.array(lr.object({token:lr.string(),logprob:lr.number(),top_logprobs:lr.array(lr.object({token:lr.string(),logprob:lr.number()}))})).nullish()}),lr.object({type:lr.enum(["response.completed","response.incomplete"]),response:lr.object({incomplete_details:lr.object({reason:lr.string()}).nullish(),usage:lr.object({input_tokens:lr.number(),input_tokens_details:lr.object({cached_tokens:lr.number().nullish()}).nullish(),output_tokens:lr.number(),output_tokens_details:lr.object({reasoning_tokens:lr.number().nullish()}).nullish()}),service_tier:lr.string().nullish()})}),lr.object({type:lr.literal("response.created"),response:lr.object({id:lr.string(),created_at:lr.number(),model:lr.string(),service_tier:lr.string().nullish()})}),lr.object({type:lr.literal("response.output_item.added"),output_index:lr.number(),item:lr.discriminatedUnion("type",[lr.object({type:lr.literal("message"),id:lr.string()}),lr.object({type:lr.literal("reasoning"),id:lr.string(),encrypted_content:lr.string().nullish()}),lr.object({type:lr.literal("function_call"),id:lr.string(),call_id:lr.string(),name:lr.string(),arguments:lr.string()}),lr.object({type:lr.literal("web_search_call"),id:lr.string(),status:lr.string()}),lr.object({type:lr.literal("computer_call"),id:lr.string(),status:lr.string()}),lr.object({type:lr.literal("file_search_call"),id:lr.string()}),lr.object({type:lr.literal("image_generation_call"),id:lr.string()}),lr.object({type:lr.literal("code_interpreter_call"),id:lr.string(),container_id:lr.string(),code:lr.string().nullable(),outputs:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("logs"),logs:lr.string()}),lr.object({type:lr.literal("image"),url:lr.string()})])).nullable(),status:lr.string()}),lr.object({type:lr.literal("mcp_call"),id:lr.string(),status:lr.string(),approval_request_id:lr.string().nullish()}),lr.object({type:lr.literal("mcp_list_tools"),id:lr.string()}),lr.object({type:lr.literal("mcp_approval_request"),id:lr.string()}),lr.object({type:lr.literal("apply_patch_call"),id:lr.string(),call_id:lr.string(),status:lr.enum(["in_progress","completed"]),operation:lr.discriminatedUnion("type",[lr.object({type:lr.literal("create_file"),path:lr.string(),diff:lr.string()}),lr.object({type:lr.literal("delete_file"),path:lr.string()}),lr.object({type:lr.literal("update_file"),path:lr.string(),diff:lr.string()})])}),lr.object({type:lr.literal("shell_call"),id:lr.string(),call_id:lr.string(),status:lr.enum(["in_progress","completed","incomplete"]),action:lr.object({commands:lr.array(lr.string())})})])}),lr.object({type:lr.literal("response.output_item.done"),output_index:lr.number(),item:lr.discriminatedUnion("type",[lr.object({type:lr.literal("message"),id:lr.string()}),lr.object({type:lr.literal("reasoning"),id:lr.string(),encrypted_content:lr.string().nullish()}),lr.object({type:lr.literal("function_call"),id:lr.string(),call_id:lr.string(),name:lr.string(),arguments:lr.string(),status:lr.literal("completed")}),lr.object({type:lr.literal("code_interpreter_call"),id:lr.string(),code:lr.string().nullable(),container_id:lr.string(),outputs:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("logs"),logs:lr.string()}),lr.object({type:lr.literal("image"),url:lr.string()})])).nullable()}),lr.object({type:lr.literal("image_generation_call"),id:lr.string(),result:lr.string()}),lr.object({type:lr.literal("web_search_call"),id:lr.string(),status:lr.string(),action:lr.discriminatedUnion("type",[lr.object({type:lr.literal("search"),query:lr.string().nullish(),sources:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("url"),url:lr.string()}),lr.object({type:lr.literal("api"),name:lr.string()})])).nullish()}),lr.object({type:lr.literal("open_page"),url:lr.string().nullish()}),lr.object({type:lr.literal("find_in_page"),url:lr.string().nullish(),pattern:lr.string().nullish()})])}),lr.object({type:lr.literal("file_search_call"),id:lr.string(),queries:lr.array(lr.string()),results:lr.array(lr.object({attributes:lr.record(lr.string(),lr.union([lr.string(),lr.number(),lr.boolean()])),file_id:lr.string(),filename:lr.string(),score:lr.number(),text:lr.string()})).nullish()}),lr.object({type:lr.literal("local_shell_call"),id:lr.string(),call_id:lr.string(),action:lr.object({type:lr.literal("exec"),command:lr.array(lr.string()),timeout_ms:lr.number().optional(),user:lr.string().optional(),working_directory:lr.string().optional(),env:lr.record(lr.string(),lr.string()).optional()})}),lr.object({type:lr.literal("computer_call"),id:lr.string(),status:lr.literal("completed")}),lr.object({type:lr.literal("mcp_call"),id:lr.string(),status:lr.string(),arguments:lr.string(),name:lr.string(),server_label:lr.string(),output:lr.string().nullish(),error:lr.union([lr.string(),lr.object({type:lr.string().optional(),code:lr.union([lr.number(),lr.string()]).optional(),message:lr.string().optional()}).loose()]).nullish(),approval_request_id:lr.string().nullish()}),lr.object({type:lr.literal("mcp_list_tools"),id:lr.string(),server_label:lr.string(),tools:lr.array(lr.object({name:lr.string(),description:lr.string().optional(),input_schema:lr.any(),annotations:lr.record(lr.string(),lr.unknown()).optional()})),error:lr.union([lr.string(),lr.object({type:lr.string().optional(),code:lr.union([lr.number(),lr.string()]).optional(),message:lr.string().optional()}).loose()]).optional()}),lr.object({type:lr.literal("mcp_approval_request"),id:lr.string(),server_label:lr.string(),name:lr.string(),arguments:lr.string(),approval_request_id:lr.string().optional()}),lr.object({type:lr.literal("apply_patch_call"),id:lr.string(),call_id:lr.string(),status:lr.enum(["in_progress","completed"]),operation:lr.discriminatedUnion("type",[lr.object({type:lr.literal("create_file"),path:lr.string(),diff:lr.string()}),lr.object({type:lr.literal("delete_file"),path:lr.string()}),lr.object({type:lr.literal("update_file"),path:lr.string(),diff:lr.string()})])}),lr.object({type:lr.literal("shell_call"),id:lr.string(),call_id:lr.string(),status:lr.enum(["in_progress","completed","incomplete"]),action:lr.object({commands:lr.array(lr.string())})})])}),lr.object({type:lr.literal("response.function_call_arguments.delta"),item_id:lr.string(),output_index:lr.number(),delta:lr.string()}),lr.object({type:lr.literal("response.image_generation_call.partial_image"),item_id:lr.string(),output_index:lr.number(),partial_image_b64:lr.string()}),lr.object({type:lr.literal("response.code_interpreter_call_code.delta"),item_id:lr.string(),output_index:lr.number(),delta:lr.string()}),lr.object({type:lr.literal("response.code_interpreter_call_code.done"),item_id:lr.string(),output_index:lr.number(),code:lr.string()}),lr.object({type:lr.literal("response.output_text.annotation.added"),annotation:lr.discriminatedUnion("type",[lr.object({type:lr.literal("url_citation"),start_index:lr.number(),end_index:lr.number(),url:lr.string(),title:lr.string()}),lr.object({type:lr.literal("file_citation"),file_id:lr.string(),filename:lr.string(),index:lr.number()}),lr.object({type:lr.literal("container_file_citation"),container_id:lr.string(),file_id:lr.string(),filename:lr.string(),start_index:lr.number(),end_index:lr.number()}),lr.object({type:lr.literal("file_path"),file_id:lr.string(),index:lr.number()})])}),lr.object({type:lr.literal("response.reasoning_summary_part.added"),item_id:lr.string(),summary_index:lr.number()}),lr.object({type:lr.literal("response.reasoning_summary_text.delta"),item_id:lr.string(),summary_index:lr.number(),delta:lr.string()}),lr.object({type:lr.literal("response.reasoning_summary_part.done"),item_id:lr.string(),summary_index:lr.number()}),lr.object({type:lr.literal("response.apply_patch_call_operation_diff.delta"),item_id:lr.string(),output_index:lr.number(),delta:lr.string(),obfuscation:lr.string().nullish()}),lr.object({type:lr.literal("response.apply_patch_call_operation_diff.done"),item_id:lr.string(),output_index:lr.number(),diff:lr.string()}),lr.object({type:lr.literal("error"),sequence_number:lr.number(),error:lr.object({type:lr.string(),code:lr.string(),message:lr.string(),param:lr.string().nullish()})}),lr.object({type:lr.string()}).loose().transform(e=>({type:"unknown_chunk",message:e.type}))]))),ps=sV(()=>sH(lr.object({id:lr.string().optional(),created_at:lr.number().optional(),error:lr.object({message:lr.string(),type:lr.string(),param:lr.string().nullish(),code:lr.string()}).nullish(),model:lr.string().optional(),output:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("message"),role:lr.literal("assistant"),id:lr.string(),content:lr.array(lr.object({type:lr.literal("output_text"),text:lr.string(),logprobs:lr.array(lr.object({token:lr.string(),logprob:lr.number(),top_logprobs:lr.array(lr.object({token:lr.string(),logprob:lr.number()}))})).nullish(),annotations:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("url_citation"),start_index:lr.number(),end_index:lr.number(),url:lr.string(),title:lr.string()}),lr.object({type:lr.literal("file_citation"),file_id:lr.string(),filename:lr.string(),index:lr.number()}),lr.object({type:lr.literal("container_file_citation"),container_id:lr.string(),file_id:lr.string(),filename:lr.string(),start_index:lr.number(),end_index:lr.number()}),lr.object({type:lr.literal("file_path"),file_id:lr.string(),index:lr.number()})]))}))}),lr.object({type:lr.literal("web_search_call"),id:lr.string(),status:lr.string(),action:lr.discriminatedUnion("type",[lr.object({type:lr.literal("search"),query:lr.string().nullish(),sources:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("url"),url:lr.string()}),lr.object({type:lr.literal("api"),name:lr.string()})])).nullish()}),lr.object({type:lr.literal("open_page"),url:lr.string().nullish()}),lr.object({type:lr.literal("find_in_page"),url:lr.string().nullish(),pattern:lr.string().nullish()})])}),lr.object({type:lr.literal("file_search_call"),id:lr.string(),queries:lr.array(lr.string()),results:lr.array(lr.object({attributes:lr.record(lr.string(),lr.union([lr.string(),lr.number(),lr.boolean()])),file_id:lr.string(),filename:lr.string(),score:lr.number(),text:lr.string()})).nullish()}),lr.object({type:lr.literal("code_interpreter_call"),id:lr.string(),code:lr.string().nullable(),container_id:lr.string(),outputs:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("logs"),logs:lr.string()}),lr.object({type:lr.literal("image"),url:lr.string()})])).nullable()}),lr.object({type:lr.literal("image_generation_call"),id:lr.string(),result:lr.string()}),lr.object({type:lr.literal("local_shell_call"),id:lr.string(),call_id:lr.string(),action:lr.object({type:lr.literal("exec"),command:lr.array(lr.string()),timeout_ms:lr.number().optional(),user:lr.string().optional(),working_directory:lr.string().optional(),env:lr.record(lr.string(),lr.string()).optional()})}),lr.object({type:lr.literal("function_call"),call_id:lr.string(),name:lr.string(),arguments:lr.string(),id:lr.string()}),lr.object({type:lr.literal("computer_call"),id:lr.string(),status:lr.string().optional()}),lr.object({type:lr.literal("reasoning"),id:lr.string(),encrypted_content:lr.string().nullish(),summary:lr.array(lr.object({type:lr.literal("summary_text"),text:lr.string()}))}),lr.object({type:lr.literal("mcp_call"),id:lr.string(),status:lr.string(),arguments:lr.string(),name:lr.string(),server_label:lr.string(),output:lr.string().nullish(),error:lr.union([lr.string(),lr.object({type:lr.string().optional(),code:lr.union([lr.number(),lr.string()]).optional(),message:lr.string().optional()}).loose()]).nullish(),approval_request_id:lr.string().nullish()}),lr.object({type:lr.literal("mcp_list_tools"),id:lr.string(),server_label:lr.string(),tools:lr.array(lr.object({name:lr.string(),description:lr.string().optional(),input_schema:lr.any(),annotations:lr.record(lr.string(),lr.unknown()).optional()})),error:lr.union([lr.string(),lr.object({type:lr.string().optional(),code:lr.union([lr.number(),lr.string()]).optional(),message:lr.string().optional()}).loose()]).optional()}),lr.object({type:lr.literal("mcp_approval_request"),id:lr.string(),server_label:lr.string(),name:lr.string(),arguments:lr.string(),approval_request_id:lr.string().optional()}),lr.object({type:lr.literal("apply_patch_call"),id:lr.string(),call_id:lr.string(),status:lr.enum(["in_progress","completed"]),operation:lr.discriminatedUnion("type",[lr.object({type:lr.literal("create_file"),path:lr.string(),diff:lr.string()}),lr.object({type:lr.literal("delete_file"),path:lr.string()}),lr.object({type:lr.literal("update_file"),path:lr.string(),diff:lr.string()})])}),lr.object({type:lr.literal("shell_call"),id:lr.string(),call_id:lr.string(),status:lr.enum(["in_progress","completed","incomplete"]),action:lr.object({commands:lr.array(lr.string())})})])).optional(),service_tier:lr.string().nullish(),incomplete_details:lr.object({reason:lr.string()}).nullish(),usage:lr.object({input_tokens:lr.number(),input_tokens_details:lr.object({cached_tokens:lr.number().nullish()}).nullish(),output_tokens:lr.number(),output_tokens_details:lr.object({reasoning_tokens:lr.number().nullish()}).nullish()}).optional()}))),pl=sV(()=>sH(lr.object({conversation:lr.string().nullish(),include:lr.array(lr.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),instructions:lr.string().nullish(),logprobs:lr.union([lr.boolean(),lr.number().min(1).max(20)]).optional(),maxToolCalls:lr.number().nullish(),metadata:lr.any().nullish(),parallelToolCalls:lr.boolean().nullish(),previousResponseId:lr.string().nullish(),promptCacheKey:lr.string().nullish(),promptCacheRetention:lr.enum(["in_memory","24h"]).nullish(),reasoningEffort:lr.string().nullish(),reasoningSummary:lr.string().nullish(),safetyIdentifier:lr.string().nullish(),serviceTier:lr.enum(["auto","flex","priority","default"]).nullish(),store:lr.boolean().nullish(),strictJsonSchema:lr.boolean().nullish(),textVerbosity:lr.enum(["low","medium","high"]).nullish(),truncation:lr.enum(["auto","disabled"]).nullish(),user:lr.string().nullish(),systemMessageMode:lr.enum(["system","developer","remove"]).optional(),forceReasoning:lr.boolean().optional()})));async function pu({tools:e,toolChoice:t}){e=(null==e?void 0:e.length)?e:void 0;let r=[];if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:r};let o=[];for(let t of e)switch(t.type){case"function":o.push({type:"function",name:t.name,description:t.description,parameters:t.inputSchema,...null!=t.strict?{strict:t.strict}:{}});break;case"provider":switch(t.id){case"openai.file_search":{let e=await sZ({value:t.args,schema:uK});o.push({type:"file_search",vector_store_ids:e.vectorStoreIds,max_num_results:e.maxNumResults,ranking_options:e.ranking?{ranker:e.ranking.ranker,score_threshold:e.ranking.scoreThreshold}:void 0,filters:e.filters});break}case"openai.local_shell":o.push({type:"local_shell"});break;case"openai.shell":o.push({type:"shell"});break;case"openai.apply_patch":o.push({type:"apply_patch"});break;case"openai.web_search_preview":{let e=await sZ({value:t.args,schema:u5});o.push({type:"web_search_preview",search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.web_search":{let e=await sZ({value:t.args,schema:u3});o.push({type:"web_search",filters:null!=e.filters?{allowed_domains:e.filters.allowedDomains}:void 0,external_web_access:e.externalWebAccess,search_context_size:e.searchContextSize,user_location:e.userLocation});break}case"openai.code_interpreter":{let e=await sZ({value:t.args,schema:u$});o.push({type:"code_interpreter",container:null==e.container?{type:"auto",file_ids:void 0}:"string"==typeof e.container?e.container:{type:"auto",file_ids:e.container.fileIds}});break}case"openai.image_generation":{let e=await sZ({value:t.args,schema:uZ});o.push({type:"image_generation",background:e.background,input_fidelity:e.inputFidelity,input_image_mask:e.inputImageMask?{file_id:e.inputImageMask.fileId,image_url:e.inputImageMask.imageUrl}:void 0,model:e.model,moderation:e.moderation,partial_images:e.partialImages,quality:e.quality,output_compression:e.outputCompression,output_format:e.outputFormat,size:e.size});break}case"openai.mcp":{let e=await sZ({value:t.args,schema:u9}),r=e=>({tool_names:e.toolNames}),n=e.requireApproval,i=null==n?void 0:"string"==typeof n?n:null!=n.never?{never:r(n.never)}:void 0;o.push({type:"mcp",server_label:e.serverLabel,allowed_tools:Array.isArray(e.allowedTools)?e.allowedTools:e.allowedTools?{read_only:e.allowedTools.readOnly,tool_names:e.allowedTools.toolNames}:void 0,authorization:e.authorization,connector_id:e.connectorId,headers:e.headers,require_approval:null!=i?i:"never",server_description:e.serverDescription,server_url:e.serverUrl})}}break;default:r.push({type:"unsupported",feature:`function tool ${t}`})}if(null==t)return{tools:o,toolChoice:void 0,toolWarnings:r};let n=t.type;switch(n){case"auto":case"none":case"required":return{tools:o,toolChoice:n,toolWarnings:r};case"tool":return{tools:o,toolChoice:"code_interpreter"===t.toolName||"file_search"===t.toolName||"image_generation"===t.toolName||"web_search_preview"===t.toolName||"web_search"===t.toolName||"mcp"===t.toolName||"apply_patch"===t.toolName?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:r};default:throw new nG({functionality:`tool choice type: ${n}`})}}function pp(e){var t,r;let o={};for(let n of e)if("assistant"===n.role)for(let e of n.content){if("tool-call"!==e.type)continue;let n=null==(r=null==(t=e.providerOptions)?void 0:t.openai)?void 0:r.approvalRequestId;null!=n&&(o[n]=e.toolCallId)}return o}var pd=class{constructor(e,t){this.specificationVersion="v3",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({maxOutputTokens:e,temperature:t,stopSequences:r,topP:o,topK:n,presencePenalty:i,frequencyPenalty:a,seed:s,prompt:l,providerOptions:u,tools:p,toolChoice:d,responseFormat:c}){var h,m,g,f,y,_;let v=[],b=um(this.modelId);null!=n&&v.push({type:"unsupported",feature:"topK"}),null!=s&&v.push({type:"unsupported",feature:"seed"}),null!=i&&v.push({type:"unsupported",feature:"presencePenalty"}),null!=a&&v.push({type:"unsupported",feature:"frequencyPenalty"}),null!=r&&v.push({type:"unsupported",feature:"stopSequences"});let w=this.config.provider.includes("azure")?"azure":"openai",D=await s0({provider:w,providerOptions:u,schema:pl});null==D&&"openai"!==w&&(D=await s0({provider:"openai",providerOptions:u,schema:pl}));let C=null!=(h=null==D?void 0:D.forceReasoning)?h:b.isReasoningModel;(null==D?void 0:D.conversation)&&(null==D?void 0:D.previousResponseId)&&v.push({type:"unsupported",feature:"conversation",details:"conversation and previousResponseId cannot be used together"});let E=aY({tools:p,providerToolNames:{"openai.code_interpreter":"code_interpreter","openai.file_search":"file_search","openai.image_generation":"image_generation","openai.local_shell":"local_shell","openai.shell":"shell","openai.web_search":"web_search","openai.web_search_preview":"web_search_preview","openai.mcp":"mcp","openai.apply_patch":"apply_patch"}}),{input:k,warnings:x}=await po({prompt:l,toolNameMapping:E,systemMessageMode:null!=(m=null==D?void 0:D.systemMessageMode)?m:C?"developer":b.systemMessageMode,providerOptionsName:w,fileIdPrefixes:this.config.fileIdPrefixes,store:null==(g=null==D?void 0:D.store)||g,hasConversation:(null==D?void 0:D.conversation)!=null,hasLocalShellTool:j("openai.local_shell"),hasShellTool:j("openai.shell"),hasApplyPatchTool:j("openai.apply_patch")});v.push(...x);let T=null==(f=null==D?void 0:D.strictJsonSchema)||f,S=null==D?void 0:D.include;function R(e){null==S?S=[e]:S.includes(e)||(S=[...S,e])}function j(e){return(null==p?void 0:p.find(t=>"provider"===t.type&&t.id===e))!=null}let F="number"==typeof(null==D?void 0:D.logprobs)?null==D?void 0:D.logprobs:(null==D?void 0:D.logprobs)===!0?20:void 0;F&&R("message.output_text.logprobs");let P=null==(y=null==p?void 0:p.find(e=>"provider"===e.type&&("openai.web_search"===e.id||"openai.web_search_preview"===e.id)))?void 0:y.name;P&&R("web_search_call.action.sources"),j("openai.code_interpreter")&&R("code_interpreter_call.outputs");let O=null==D?void 0:D.store;!1===O&&C&&R("reasoning.encrypted_content");let I={model:this.modelId,input:k,temperature:t,top_p:o,max_output_tokens:e,...((null==c?void 0:c.type)==="json"||(null==D?void 0:D.textVerbosity))&&{text:{...(null==c?void 0:c.type)==="json"&&{format:null!=c.schema?{type:"json_schema",strict:T,name:null!=(_=c.name)?_:"response",description:c.description,schema:c.schema}:{type:"json_object"}},...(null==D?void 0:D.textVerbosity)&&{verbosity:D.textVerbosity}}},conversation:null==D?void 0:D.conversation,max_tool_calls:null==D?void 0:D.maxToolCalls,metadata:null==D?void 0:D.metadata,parallel_tool_calls:null==D?void 0:D.parallelToolCalls,previous_response_id:null==D?void 0:D.previousResponseId,store:O,user:null==D?void 0:D.user,instructions:null==D?void 0:D.instructions,service_tier:null==D?void 0:D.serviceTier,include:S,prompt_cache_key:null==D?void 0:D.promptCacheKey,prompt_cache_retention:null==D?void 0:D.promptCacheRetention,safety_identifier:null==D?void 0:D.safetyIdentifier,top_logprobs:F,truncation:null==D?void 0:D.truncation,...C&&((null==D?void 0:D.reasoningEffort)!=null||(null==D?void 0:D.reasoningSummary)!=null)&&{reasoning:{...(null==D?void 0:D.reasoningEffort)!=null&&{effort:D.reasoningEffort},...(null==D?void 0:D.reasoningSummary)!=null&&{summary:D.reasoningSummary}}}};C?(null==D?void 0:D.reasoningEffort)==="none"&&b.supportsNonReasoningParameters||(null!=I.temperature&&(I.temperature=void 0,v.push({type:"unsupported",feature:"temperature",details:"temperature is not supported for reasoning models"})),null!=I.top_p&&(I.top_p=void 0,v.push({type:"unsupported",feature:"topP",details:"topP is not supported for reasoning models"}))):((null==D?void 0:D.reasoningEffort)!=null&&v.push({type:"unsupported",feature:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),(null==D?void 0:D.reasoningSummary)!=null&&v.push({type:"unsupported",feature:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),(null==D?void 0:D.serviceTier)!=="flex"||b.supportsFlexProcessing||(v.push({type:"unsupported",feature:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete I.service_tier),(null==D?void 0:D.serviceTier)!=="priority"||b.supportsPriorityProcessing||(v.push({type:"unsupported",feature:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete I.service_tier);let{tools:A,toolChoice:N,toolWarnings:B}=await pu({tools:p,toolChoice:d});return{webSearchToolName:P,args:{...I,tools:A,tool_choice:N},warnings:[...v,...B],store:O,toolNameMapping:E,providerOptionsName:w}}async doGenerate(e){var t,r,o,n,i,a,s,l,u,p,d,c,h,m,g,f,y,_,v,b,w,D,C,E,k;let{args:x,warnings:T,webSearchToolName:S,toolNameMapping:R,providerOptionsName:j}=await this.getArgs(e),F=this.config.url({path:"/responses",modelId:this.modelId}),P=pp(e.prompt),{responseHeaders:O,value:I,rawValue:A}=await s2({url:F,headers:aJ(this.config.headers(),e.headers),body:x,failedResponseHandler:uh,successfulResponseHandler:le(ps),abortSignal:e.abortSignal,fetch:this.config.fetch});if(I.error)throw new ni({message:I.error.message,url:F,requestBodyValues:x,statusCode:400,responseHeaders:O,responseBody:A,isRetryable:!1});let N=[],B=[],M=!1;for(let C of I.output)switch(C.type){case"reasoning":for(let e of(0===C.summary.length&&C.summary.push({type:"summary_text",text:""}),C.summary))N.push({type:"reasoning",text:e.text,providerMetadata:{[j]:{itemId:C.id,reasoningEncryptedContent:null!=(t=C.encrypted_content)?t:null}}});break;case"image_generation_call":N.push({type:"tool-call",toolCallId:C.id,toolName:R.toCustomToolName("image_generation"),input:"{}",providerExecuted:!0}),N.push({type:"tool-result",toolCallId:C.id,toolName:R.toCustomToolName("image_generation"),result:{result:C.result}});break;case"local_shell_call":N.push({type:"tool-call",toolCallId:C.call_id,toolName:R.toCustomToolName("local_shell"),input:JSON.stringify({action:C.action}),providerMetadata:{[j]:{itemId:C.id}}});break;case"shell_call":N.push({type:"tool-call",toolCallId:C.call_id,toolName:R.toCustomToolName("shell"),input:JSON.stringify({action:{commands:C.action.commands}}),providerMetadata:{[j]:{itemId:C.id}}});break;case"message":for(let t of C.content){(null==(o=null==(r=e.providerOptions)?void 0:r[j])?void 0:o.logprobs)&&t.logprobs&&B.push(t.logprobs);let f={itemId:C.id,...t.annotations.length>0&&{annotations:t.annotations}};for(let e of(N.push({type:"text",text:t.text,providerMetadata:{[j]:f}}),t.annotations))"url_citation"===e.type?N.push({type:"source",sourceType:"url",id:null!=(a=null==(i=(n=this.config).generateId)?void 0:i.call(n))?a:se(),url:e.url,title:e.title}):"file_citation"===e.type?N.push({type:"source",sourceType:"document",id:null!=(u=null==(l=(s=this.config).generateId)?void 0:l.call(s))?u:se(),mediaType:"text/plain",title:e.filename,filename:e.filename,providerMetadata:{[j]:{type:e.type,fileId:e.file_id,index:e.index}}}):"container_file_citation"===e.type?N.push({type:"source",sourceType:"document",id:null!=(c=null==(d=(p=this.config).generateId)?void 0:d.call(p))?c:se(),mediaType:"text/plain",title:e.filename,filename:e.filename,providerMetadata:{[j]:{type:e.type,fileId:e.file_id,containerId:e.container_id}}}):"file_path"===e.type&&N.push({type:"source",sourceType:"document",id:null!=(g=null==(m=(h=this.config).generateId)?void 0:m.call(h))?g:se(),mediaType:"application/octet-stream",title:e.file_id,filename:e.file_id,providerMetadata:{[j]:{type:e.type,fileId:e.file_id,index:e.index}}})}break;case"function_call":M=!0,N.push({type:"tool-call",toolCallId:C.call_id,toolName:C.name,input:C.arguments,providerMetadata:{[j]:{itemId:C.id}}});break;case"web_search_call":N.push({type:"tool-call",toolCallId:C.id,toolName:R.toCustomToolName(null!=S?S:"web_search"),input:JSON.stringify({}),providerExecuted:!0}),N.push({type:"tool-result",toolCallId:C.id,toolName:R.toCustomToolName(null!=S?S:"web_search"),result:ph(C.action)});break;case"mcp_call":{let e=null!=C.approval_request_id&&null!=(f=P[C.approval_request_id])?f:C.id,t=`mcp.${C.name}`;N.push({type:"tool-call",toolCallId:e,toolName:t,input:C.arguments,providerExecuted:!0,dynamic:!0}),N.push({type:"tool-result",toolCallId:e,toolName:t,result:{type:"call",serverLabel:C.server_label,name:C.name,arguments:C.arguments,...null!=C.output?{output:C.output}:{},...null!=C.error?{error:C.error}:{}},providerMetadata:{[j]:{itemId:C.id}}});break}case"mcp_list_tools":break;case"mcp_approval_request":{let e=null!=(y=C.approval_request_id)?y:C.id,t=null!=(b=null==(v=(_=this.config).generateId)?void 0:v.call(_))?b:se(),r=`mcp.${C.name}`;N.push({type:"tool-call",toolCallId:t,toolName:r,input:C.arguments,providerExecuted:!0,dynamic:!0}),N.push({type:"tool-approval-request",approvalId:e,toolCallId:t});break}case"computer_call":N.push({type:"tool-call",toolCallId:C.id,toolName:R.toCustomToolName("computer_use"),input:"",providerExecuted:!0}),N.push({type:"tool-result",toolCallId:C.id,toolName:R.toCustomToolName("computer_use"),result:{type:"computer_use_tool_result",status:C.status||"completed"}});break;case"file_search_call":N.push({type:"tool-call",toolCallId:C.id,toolName:R.toCustomToolName("file_search"),input:"{}",providerExecuted:!0}),N.push({type:"tool-result",toolCallId:C.id,toolName:R.toCustomToolName("file_search"),result:{queries:C.queries,results:null!=(D=null==(w=C.results)?void 0:w.map(e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text})))?D:null}});break;case"code_interpreter_call":N.push({type:"tool-call",toolCallId:C.id,toolName:R.toCustomToolName("code_interpreter"),input:JSON.stringify({code:C.code,containerId:C.container_id}),providerExecuted:!0}),N.push({type:"tool-result",toolCallId:C.id,toolName:R.toCustomToolName("code_interpreter"),result:{outputs:C.outputs}});break;case"apply_patch_call":N.push({type:"tool-call",toolCallId:C.call_id,toolName:R.toCustomToolName("apply_patch"),input:JSON.stringify({callId:C.call_id,operation:C.operation}),providerMetadata:{[j]:{itemId:C.id}}})}let U={[j]:{responseId:I.id}};B.length>0&&(U[j].logprobs=B),"string"==typeof I.service_tier&&(U[j].serviceTier=I.service_tier);let L=I.usage;return{content:N,finishReason:{unified:pi({finishReason:null==(C=I.incomplete_details)?void 0:C.reason,hasFunctionCall:M}),raw:null!=(k=null==(E=I.incomplete_details)?void 0:E.reason)?k:void 0},usage:pt(L),request:{body:x},response:{id:I.id,timestamp:new Date(1e3*I.created_at),modelId:I.model,headers:O,body:A},providerMetadata:U,warnings:T}}async doStream(e){let t,r,{args:o,warnings:n,webSearchToolName:i,toolNameMapping:a,store:s,providerOptionsName:l}=await this.getArgs(e),{responseHeaders:u,value:p}=await s2({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:aJ(this.config.headers(),e.headers),body:{...o,stream:!0},failedResponseHandler:uh,successfulResponseHandler:s7(pa),abortSignal:e.abortSignal,fetch:this.config.fetch}),d=this,c=pp(e.prompt),h=new Map,m={unified:"other",raw:void 0},g=[],f=null,y={},_=[],v=!1,b={};return{stream:p.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:n})},transform(o,n){var u,p,w,D,C,E,k,x,T,S,R,j,F,P,O,I,A,N,B,M,U,L,q,$,z,W,V,K,G,H,Z;if(e.includeRawChunks&&n.enqueue({type:"raw",rawValue:o.rawValue}),!o.success){m={unified:"error",raw:void 0},n.enqueue({type:"error",error:o.error});return}let J=o.value;if(pc(J))if("function_call"===J.item.type)y[J.output_index]={toolName:J.item.name,toolCallId:J.item.call_id},n.enqueue({type:"tool-input-start",id:J.item.call_id,toolName:J.item.name});else if("web_search_call"===J.item.type)y[J.output_index]={toolName:a.toCustomToolName(null!=i?i:"web_search"),toolCallId:J.item.id},n.enqueue({type:"tool-input-start",id:J.item.id,toolName:a.toCustomToolName(null!=i?i:"web_search"),providerExecuted:!0}),n.enqueue({type:"tool-input-end",id:J.item.id}),n.enqueue({type:"tool-call",toolCallId:J.item.id,toolName:a.toCustomToolName(null!=i?i:"web_search"),input:JSON.stringify({}),providerExecuted:!0});else if("computer_call"===J.item.type)y[J.output_index]={toolName:a.toCustomToolName("computer_use"),toolCallId:J.item.id},n.enqueue({type:"tool-input-start",id:J.item.id,toolName:a.toCustomToolName("computer_use"),providerExecuted:!0});else if("code_interpreter_call"===J.item.type)y[J.output_index]={toolName:a.toCustomToolName("code_interpreter"),toolCallId:J.item.id,codeInterpreter:{containerId:J.item.container_id}},n.enqueue({type:"tool-input-start",id:J.item.id,toolName:a.toCustomToolName("code_interpreter"),providerExecuted:!0}),n.enqueue({type:"tool-input-delta",id:J.item.id,delta:`{"containerId":"${J.item.container_id}","code":"`});else if("file_search_call"===J.item.type)n.enqueue({type:"tool-call",toolCallId:J.item.id,toolName:a.toCustomToolName("file_search"),input:"{}",providerExecuted:!0});else if("image_generation_call"===J.item.type)n.enqueue({type:"tool-call",toolCallId:J.item.id,toolName:a.toCustomToolName("image_generation"),input:"{}",providerExecuted:!0});else if("mcp_call"===J.item.type||"mcp_list_tools"===J.item.type||"mcp_approval_request"===J.item.type);else if("apply_patch_call"===J.item.type){let{call_id:e,operation:t}=J.item;if(y[J.output_index]={toolName:a.toCustomToolName("apply_patch"),toolCallId:e,applyPatch:{hasDiff:"delete_file"===t.type,endEmitted:"delete_file"===t.type}},n.enqueue({type:"tool-input-start",id:e,toolName:a.toCustomToolName("apply_patch")}),"delete_file"===t.type){let r=JSON.stringify({callId:e,operation:t});n.enqueue({type:"tool-input-delta",id:e,delta:r}),n.enqueue({type:"tool-input-end",id:e})}else n.enqueue({type:"tool-input-delta",id:e,delta:`{"callId":"${pm(e)}","operation":{"type":"${pm(t.type)}","path":"${pm(t.path)}","diff":"`})}else"shell_call"===J.item.type?y[J.output_index]={toolName:a.toCustomToolName("shell"),toolCallId:J.item.call_id}:"message"===J.item.type?(_.splice(0,_.length),n.enqueue({type:"text-start",id:J.item.id,providerMetadata:{[l]:{itemId:J.item.id}}})):pc(J)&&"reasoning"===J.item.type&&(b[J.item.id]={encryptedContent:J.item.encrypted_content,summaryParts:{0:"active"}},n.enqueue({type:"reasoning-start",id:`${J.item.id}:0`,providerMetadata:{[l]:{itemId:J.item.id,reasoningEncryptedContent:null!=(u=J.item.encrypted_content)?u:null}}}));else if("response.output_item.done"===J.type){if("message"===J.item.type)n.enqueue({type:"text-end",id:J.item.id,providerMetadata:{[l]:{itemId:J.item.id,..._.length>0&&{annotations:_}}}});else if("function_call"===J.item.type)y[J.output_index]=void 0,v=!0,n.enqueue({type:"tool-input-end",id:J.item.call_id}),n.enqueue({type:"tool-call",toolCallId:J.item.call_id,toolName:J.item.name,input:J.item.arguments,providerMetadata:{[l]:{itemId:J.item.id}}});else if("web_search_call"===J.item.type)y[J.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:J.item.id,toolName:a.toCustomToolName(null!=i?i:"web_search"),result:ph(J.item.action)});else if("computer_call"===J.item.type)y[J.output_index]=void 0,n.enqueue({type:"tool-input-end",id:J.item.id}),n.enqueue({type:"tool-call",toolCallId:J.item.id,toolName:a.toCustomToolName("computer_use"),input:"",providerExecuted:!0}),n.enqueue({type:"tool-result",toolCallId:J.item.id,toolName:a.toCustomToolName("computer_use"),result:{type:"computer_use_tool_result",status:J.item.status||"completed"}});else if("file_search_call"===J.item.type)y[J.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:J.item.id,toolName:a.toCustomToolName("file_search"),result:{queries:J.item.queries,results:null!=(w=null==(p=J.item.results)?void 0:p.map(e=>({attributes:e.attributes,fileId:e.file_id,filename:e.filename,score:e.score,text:e.text})))?w:null}});else if("code_interpreter_call"===J.item.type)y[J.output_index]=void 0,n.enqueue({type:"tool-result",toolCallId:J.item.id,toolName:a.toCustomToolName("code_interpreter"),result:{outputs:J.item.outputs}});else if("image_generation_call"===J.item.type)n.enqueue({type:"tool-result",toolCallId:J.item.id,toolName:a.toCustomToolName("image_generation"),result:{result:J.item.result}});else if("mcp_call"===J.item.type){y[J.output_index]=void 0;let e=null!=(D=J.item.approval_request_id)?D:void 0,t=null!=e&&null!=(E=null!=(C=h.get(e))?C:c[e])?E:J.item.id,r=`mcp.${J.item.name}`;n.enqueue({type:"tool-call",toolCallId:t,toolName:r,input:J.item.arguments,providerExecuted:!0,dynamic:!0}),n.enqueue({type:"tool-result",toolCallId:t,toolName:r,result:{type:"call",serverLabel:J.item.server_label,name:J.item.name,arguments:J.item.arguments,...null!=J.item.output?{output:J.item.output}:{},...null!=J.item.error?{error:J.item.error}:{}},providerMetadata:{[l]:{itemId:J.item.id}}})}else if("mcp_list_tools"===J.item.type)y[J.output_index]=void 0;else if("apply_patch_call"===J.item.type){let e=y[J.output_index];(null==e?void 0:e.applyPatch)&&!e.applyPatch.endEmitted&&"delete_file"!==J.item.operation.type&&(e.applyPatch.hasDiff||n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:pm(J.item.operation.diff)}),n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),e.applyPatch.endEmitted=!0),e&&"completed"===J.item.status&&n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:a.toCustomToolName("apply_patch"),input:JSON.stringify({callId:J.item.call_id,operation:J.item.operation}),providerMetadata:{[l]:{itemId:J.item.id}}}),y[J.output_index]=void 0}else if("mcp_approval_request"===J.item.type){y[J.output_index]=void 0;let e=null!=(T=null==(x=(k=d.config).generateId)?void 0:x.call(k))?T:se(),t=null!=(S=J.item.approval_request_id)?S:J.item.id;h.set(t,e);let r=`mcp.${J.item.name}`;n.enqueue({type:"tool-call",toolCallId:e,toolName:r,input:J.item.arguments,providerExecuted:!0,dynamic:!0}),n.enqueue({type:"tool-approval-request",approvalId:t,toolCallId:e})}else if("local_shell_call"===J.item.type)y[J.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:J.item.call_id,toolName:a.toCustomToolName("local_shell"),input:JSON.stringify({action:{type:"exec",command:J.item.action.command,timeoutMs:J.item.action.timeout_ms,user:J.item.action.user,workingDirectory:J.item.action.working_directory,env:J.item.action.env}}),providerMetadata:{[l]:{itemId:J.item.id}}});else if("shell_call"===J.item.type)y[J.output_index]=void 0,n.enqueue({type:"tool-call",toolCallId:J.item.call_id,toolName:a.toCustomToolName("shell"),input:JSON.stringify({action:{commands:J.item.action.commands}}),providerMetadata:{[l]:{itemId:J.item.id}}});else if("reasoning"===J.item.type){for(let e of Object.entries(b[J.item.id].summaryParts).filter(([e,t])=>"active"===t||"can-conclude"===t).map(([e])=>e))n.enqueue({type:"reasoning-end",id:`${J.item.id}:${e}`,providerMetadata:{[l]:{itemId:J.item.id,reasoningEncryptedContent:null!=(R=J.item.encrypted_content)?R:null}}});delete b[J.item.id]}}else if("response.function_call_arguments.delta"===J.type){let e=y[J.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:J.delta})}else if("response.apply_patch_call_operation_diff.delta"===J.type){let e=y[J.output_index];(null==e?void 0:e.applyPatch)&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:pm(J.delta)}),e.applyPatch.hasDiff=!0)}else if("response.apply_patch_call_operation_diff.done"===J.type){let e=y[J.output_index];(null==e?void 0:e.applyPatch)&&!e.applyPatch.endEmitted&&(e.applyPatch.hasDiff||(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:pm(J.diff)}),e.applyPatch.hasDiff=!0),n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),e.applyPatch.endEmitted=!0)}else if("response.image_generation_call.partial_image"===J.type)n.enqueue({type:"tool-result",toolCallId:J.item_id,toolName:a.toCustomToolName("image_generation"),result:{result:J.partial_image_b64},preliminary:!0});else if("response.code_interpreter_call_code.delta"===J.type){let e=y[J.output_index];null!=e&&n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:pm(J.delta)})}else if("response.code_interpreter_call_code.done"===J.type){let e=y[J.output_index];null!=e&&(n.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:'"}'}),n.enqueue({type:"tool-input-end",id:e.toolCallId}),n.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:a.toCustomToolName("code_interpreter"),input:JSON.stringify({code:J.code,containerId:e.codeInterpreter.containerId}),providerExecuted:!0}))}else if("response.created"===J.type)f=J.response.id,n.enqueue({type:"response-metadata",id:J.response.id,timestamp:new Date(1e3*J.response.created_at),modelId:J.response.model});else if("response.output_text.delta"===J.type)n.enqueue({type:"text-delta",id:J.item_id,delta:J.delta}),(null==(F=null==(j=e.providerOptions)?void 0:j[l])?void 0:F.logprobs)&&J.logprobs&&g.push(J.logprobs);else if("response.reasoning_summary_part.added"===J.type){if(J.summary_index>0){let e=b[J.item_id];for(let t of(e.summaryParts[J.summary_index]="active",Object.keys(e.summaryParts)))"can-conclude"===e.summaryParts[t]&&(n.enqueue({type:"reasoning-end",id:`${J.item_id}:${t}`,providerMetadata:{[l]:{itemId:J.item_id}}}),e.summaryParts[t]="concluded");n.enqueue({type:"reasoning-start",id:`${J.item_id}:${J.summary_index}`,providerMetadata:{[l]:{itemId:J.item_id,reasoningEncryptedContent:null!=(O=null==(P=b[J.item_id])?void 0:P.encryptedContent)?O:null}}})}}else{"response.reasoning_summary_text.delta"===J.type?n.enqueue({type:"reasoning-delta",id:`${J.item_id}:${J.summary_index}`,delta:J.delta,providerMetadata:{[l]:{itemId:J.item_id}}}):"response.reasoning_summary_part.done"===J.type?s?(n.enqueue({type:"reasoning-end",id:`${J.item_id}:${J.summary_index}`,providerMetadata:{[l]:{itemId:J.item_id}}}),b[J.item_id].summaryParts[J.summary_index]="concluded"):b[J.item_id].summaryParts[J.summary_index]="can-conclude":"response.completed"===(Z=J).type||"response.incomplete"===Z.type?(m={unified:pi({finishReason:null==(I=J.response.incomplete_details)?void 0:I.reason,hasFunctionCall:v}),raw:null!=(N=null==(A=J.response.incomplete_details)?void 0:A.reason)?N:void 0},r=J.response.usage,"string"==typeof J.response.service_tier&&(t=J.response.service_tier)):"response.output_text.annotation.added"===J.type?(_.push(J.annotation),"url_citation"===J.annotation.type?n.enqueue({type:"source",sourceType:"url",id:null!=(U=null==(M=(B=d.config).generateId)?void 0:M.call(B))?U:se(),url:J.annotation.url,title:J.annotation.title}):"file_citation"===J.annotation.type?n.enqueue({type:"source",sourceType:"document",id:null!=($=null==(q=(L=d.config).generateId)?void 0:q.call(L))?$:se(),mediaType:"text/plain",title:J.annotation.filename,filename:J.annotation.filename,providerMetadata:{[l]:{type:J.annotation.type,fileId:J.annotation.file_id,index:J.annotation.index}}}):"container_file_citation"===J.annotation.type?n.enqueue({type:"source",sourceType:"document",id:null!=(V=null==(W=(z=d.config).generateId)?void 0:W.call(z))?V:se(),mediaType:"text/plain",title:J.annotation.filename,filename:J.annotation.filename,providerMetadata:{[l]:{type:J.annotation.type,fileId:J.annotation.file_id,containerId:J.annotation.container_id}}}):"file_path"===J.annotation.type&&n.enqueue({type:"source",sourceType:"document",id:null!=(H=null==(G=(K=d.config).generateId)?void 0:G.call(K))?H:se(),mediaType:"application/octet-stream",title:J.annotation.file_id,filename:J.annotation.file_id,providerMetadata:{[l]:{type:J.annotation.type,fileId:J.annotation.file_id,index:J.annotation.index}}})):"error"===J.type&&n.enqueue({type:"error",error:J})}},flush(e){let o={[l]:{responseId:f}};g.length>0&&(o[l].logprobs=g),void 0!==t&&(o[l].serviceTier=t),e.enqueue({type:"finish",finishReason:m,usage:pt(r),providerMetadata:o})}})),request:{body:o},response:{headers:u}}}};function pc(e){return"response.output_item.added"===e.type}function ph(e){var t;switch(e.type){case"search":return{action:{type:"search",query:null!=(t=e.query)?t:void 0},...null!=e.sources&&{sources:e.sources}};case"open_page":return{action:{type:"openPage",url:e.url}};case"find_in_page":return{action:{type:"findInPage",url:e.url,pattern:e.pattern}}}}function pm(e){return JSON.stringify(e).slice(1,-1)}var pg=sV(()=>sH(lr.object({instructions:lr.string().nullish(),speed:lr.number().min(.25).max(4).default(1).nullish()}))),pf=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3"}get provider(){return this.config.provider}async getArgs({text:e,voice:t="alloy",outputFormat:r="mp3",speed:o,instructions:n,language:i,providerOptions:a}){let s=[],l=await s0({provider:"openai",providerOptions:a,schema:pg}),u={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:o,instructions:n};if(r&&(["mp3","opus","aac","flac","wav","pcm"].includes(r)?u.response_format=r:s.push({type:"unsupported",feature:"outputFormat",details:`Unsupported output format: ${r}. Using mp3 instead.`})),l){let e={};for(let t in e){let r=e[t];void 0!==r&&(u[t]=r)}}return i&&s.push({type:"unsupported",feature:"language",details:`OpenAI speech models do not support language selection. Language parameter "${i}" was ignored.`}),{requestBody:u,warnings:s}}async doGenerate(e){var t,r,o;let n=null!=(o=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?o:new Date,{requestBody:i,warnings:a}=await this.getArgs(e),{value:s,responseHeaders:l,rawValue:u}=await s2({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:aJ(this.config.headers(),e.headers),body:i,failedResponseHandler:uh,successfulResponseHandler:async({response:e,url:t,requestBodyValues:r})=>{let o=aQ(e);if(!e.body)throw new ni({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:o,responseBody:void 0});try{let t=await e.arrayBuffer();return{responseHeaders:o,value:new Uint8Array(t)}}catch(n){throw new ni({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:o,responseBody:void 0,cause:n})}},abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:s,warnings:a,request:{body:JSON.stringify(i)},response:{timestamp:n,modelId:this.modelId,headers:l,body:u}}}},py=sV(()=>sH(lr.object({text:lr.string(),language:lr.string().nullish(),duration:lr.number().nullish(),words:lr.array(lr.object({word:lr.string(),start:lr.number(),end:lr.number()})).nullish(),segments:lr.array(lr.object({id:lr.number(),seek:lr.number(),start:lr.number(),end:lr.number(),text:lr.string(),tokens:lr.array(lr.number()),temperature:lr.number(),avg_logprob:lr.number(),compression_ratio:lr.number(),no_speech_prob:lr.number()})).nullish()}))),p_=sV(()=>sH(lr.object({include:lr.array(lr.string()).optional(),language:lr.string().optional(),prompt:lr.string().optional(),temperature:lr.number().min(0).max(1).default(0).optional(),timestampGranularities:lr.array(lr.enum(["word","segment"])).default(["segment"]).optional()}))),pv={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},pb=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v3"}get provider(){return this.config.provider}async getArgs({audio:e,mediaType:t,providerOptions:r}){let o=await s0({provider:"openai",providerOptions:r,schema:p_}),n=new FormData,i=e instanceof Uint8Array?new Blob([e]):new Blob([a1(e)]);n.append("model",this.modelId);let a=function(e){var t;let[r,o=""]=e.toLowerCase().split("/");return null!=(t=({mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"})[o])?t:o}(t);if(n.append("file",new File([i],"audio",{type:t}),`audio.${a}`),o){for(let[e,t]of Object.entries({include:o.include,language:o.language,prompt:o.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:o.temperature,timestamp_granularities:o.timestampGranularities}))if(null!=t)if(Array.isArray(t))for(let r of t)n.append(`${e}[]`,String(r));else n.append(e,String(t))}return{formData:n,warnings:[]}}async doGenerate(e){var t,r,o,n,i,a,s,l;let u=null!=(o=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?o:new Date,{formData:p,warnings:d}=await this.getArgs(e),{value:c,responseHeaders:h,rawValue:m}=await s3({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:aJ(this.config.headers(),e.headers),formData:p,failedResponseHandler:uh,successfulResponseHandler:le(py),abortSignal:e.abortSignal,fetch:this.config.fetch}),g=null!=c.language&&c.language in pv?pv[c.language]:void 0;return{text:c.text,segments:null!=(s=null!=(a=null==(n=c.segments)?void 0:n.map(e=>({text:e.text,startSecond:e.start,endSecond:e.end})))?a:null==(i=c.words)?void 0:i.map(e=>({text:e.word,startSecond:e.start,endSecond:e.end})))?s:[],language:g,durationInSeconds:null!=(l=c.duration)?l:void 0,warnings:d,response:{timestamp:u,modelId:this.modelId,headers:h,body:m}}}};!function(e={}){var t,r;let o=null!=(t=lt(sd({settingValue:e.baseURL,environmentVariableName:"OPENAI_BASE_URL"})))?t:"https://api.openai.com/v1",n=null!=(r=e.name)?r:"openai",i=()=>si({Authorization:`Bearer ${sp({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers},"ai-sdk/openai/3.0.18"),a=t=>new uF(t,{provider:`${n}.embedding`,url:({path:e})=>`${o}${e}`,headers:i,fetch:e.fetch}),s=t=>new uA(t,{provider:`${n}.image`,url:({path:e})=>`${o}${e}`,headers:i,fetch:e.fetch}),l=t=>new pb(t,{provider:`${n}.transcription`,url:({path:e})=>`${o}${e}`,headers:i,fetch:e.fetch}),u=t=>new pf(t,{provider:`${n}.speech`,url:({path:e})=>`${o}${e}`,headers:i,fetch:e.fetch}),p=e=>{if(new.target)throw Error("The OpenAI model function cannot be called with the new keyword.");return d(e)},d=t=>new pd(t,{provider:`${n}.responses`,url:({path:e})=>`${o}${e}`,headers:i,fetch:e.fetch,fileIdPrefixes:["file-"]}),c=function(e){return p(e)};c.specificationVersion="v3",c.languageModel=p,c.chat=t=>new uw(t,{provider:`${n}.chat`,url:({path:e})=>`${o}${e}`,headers:i,fetch:e.fetch}),c.completion=t=>new uS(t,{provider:`${n}.completion`,url:({path:e})=>`${o}${e}`,headers:i,fetch:e.fetch}),c.responses=d,c.embedding=a,c.embeddingModel=a,c.textEmbedding=a,c.textEmbeddingModel=a,c.image=s,c.imageModel=s,c.transcription=l,c.transcriptionModel=l,c.speech=u,c.speechModel=u,c.tools=pe}();var lr=nH,pw=s9({errorSchema:sV(()=>sH(lr.object({type:lr.literal("error"),error:lr.object({type:lr.string(),message:lr.string()})}))),errorToMessage:e=>e.error.message}),pD=sV(()=>sH(lr.object({type:lr.literal("message"),id:lr.string().nullish(),model:lr.string().nullish(),content:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("text"),text:lr.string(),citations:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("web_search_result_location"),cited_text:lr.string(),url:lr.string(),title:lr.string(),encrypted_index:lr.string()}),lr.object({type:lr.literal("page_location"),cited_text:lr.string(),document_index:lr.number(),document_title:lr.string().nullable(),start_page_number:lr.number(),end_page_number:lr.number()}),lr.object({type:lr.literal("char_location"),cited_text:lr.string(),document_index:lr.number(),document_title:lr.string().nullable(),start_char_index:lr.number(),end_char_index:lr.number()})])).optional()}),lr.object({type:lr.literal("thinking"),thinking:lr.string(),signature:lr.string()}),lr.object({type:lr.literal("redacted_thinking"),data:lr.string()}),lr.object({type:lr.literal("tool_use"),id:lr.string(),name:lr.string(),input:lr.unknown(),caller:lr.union([lr.object({type:lr.literal("code_execution_20250825"),tool_id:lr.string()}),lr.object({type:lr.literal("direct")})]).optional()}),lr.object({type:lr.literal("server_tool_use"),id:lr.string(),name:lr.string(),input:lr.record(lr.string(),lr.unknown()).nullish()}),lr.object({type:lr.literal("mcp_tool_use"),id:lr.string(),name:lr.string(),input:lr.unknown(),server_name:lr.string()}),lr.object({type:lr.literal("mcp_tool_result"),tool_use_id:lr.string(),is_error:lr.boolean(),content:lr.array(lr.union([lr.string(),lr.object({type:lr.literal("text"),text:lr.string()})]))}),lr.object({type:lr.literal("web_fetch_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.object({type:lr.literal("web_fetch_result"),url:lr.string(),retrieved_at:lr.string(),content:lr.object({type:lr.literal("document"),title:lr.string().nullable(),citations:lr.object({enabled:lr.boolean()}).optional(),source:lr.union([lr.object({type:lr.literal("base64"),media_type:lr.literal("application/pdf"),data:lr.string()}),lr.object({type:lr.literal("text"),media_type:lr.literal("text/plain"),data:lr.string()})])})}),lr.object({type:lr.literal("web_fetch_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("web_search_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.array(lr.object({type:lr.literal("web_search_result"),url:lr.string(),title:lr.string(),encrypted_content:lr.string(),page_age:lr.string().nullish()})),lr.object({type:lr.literal("web_search_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("code_execution_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.object({type:lr.literal("code_execution_result"),stdout:lr.string(),stderr:lr.string(),return_code:lr.number(),content:lr.array(lr.object({type:lr.literal("code_execution_output"),file_id:lr.string()})).optional().default([])}),lr.object({type:lr.literal("code_execution_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("bash_code_execution_tool_result"),tool_use_id:lr.string(),content:lr.discriminatedUnion("type",[lr.object({type:lr.literal("bash_code_execution_result"),content:lr.array(lr.object({type:lr.literal("bash_code_execution_output"),file_id:lr.string()})),stdout:lr.string(),stderr:lr.string(),return_code:lr.number()}),lr.object({type:lr.literal("bash_code_execution_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("text_editor_code_execution_tool_result"),tool_use_id:lr.string(),content:lr.discriminatedUnion("type",[lr.object({type:lr.literal("text_editor_code_execution_tool_result_error"),error_code:lr.string()}),lr.object({type:lr.literal("text_editor_code_execution_view_result"),content:lr.string(),file_type:lr.string(),num_lines:lr.number().nullable(),start_line:lr.number().nullable(),total_lines:lr.number().nullable()}),lr.object({type:lr.literal("text_editor_code_execution_create_result"),is_file_update:lr.boolean()}),lr.object({type:lr.literal("text_editor_code_execution_str_replace_result"),lines:lr.array(lr.string()).nullable(),new_lines:lr.number().nullable(),new_start:lr.number().nullable(),old_lines:lr.number().nullable(),old_start:lr.number().nullable()})])}),lr.object({type:lr.literal("tool_search_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.object({type:lr.literal("tool_search_tool_search_result"),tool_references:lr.array(lr.object({type:lr.literal("tool_reference"),tool_name:lr.string()}))}),lr.object({type:lr.literal("tool_search_tool_result_error"),error_code:lr.string()})])})])),stop_reason:lr.string().nullish(),stop_sequence:lr.string().nullish(),usage:lr.looseObject({input_tokens:lr.number(),output_tokens:lr.number(),cache_creation_input_tokens:lr.number().nullish(),cache_read_input_tokens:lr.number().nullish()}),container:lr.object({expires_at:lr.string(),id:lr.string(),skills:lr.array(lr.object({type:lr.union([lr.literal("anthropic"),lr.literal("custom")]),skill_id:lr.string(),version:lr.string()})).nullish()}).nullish(),context_management:lr.object({applied_edits:lr.array(lr.union([lr.object({type:lr.literal("clear_tool_uses_20250919"),cleared_tool_uses:lr.number(),cleared_input_tokens:lr.number()}),lr.object({type:lr.literal("clear_thinking_20251015"),cleared_thinking_turns:lr.number(),cleared_input_tokens:lr.number()})]))}).nullish()}))),pC=sV(()=>sH(lr.discriminatedUnion("type",[lr.object({type:lr.literal("message_start"),message:lr.object({id:lr.string().nullish(),model:lr.string().nullish(),role:lr.string().nullish(),usage:lr.looseObject({input_tokens:lr.number(),cache_creation_input_tokens:lr.number().nullish(),cache_read_input_tokens:lr.number().nullish()}),content:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("tool_use"),id:lr.string(),name:lr.string(),input:lr.unknown(),caller:lr.union([lr.object({type:lr.literal("code_execution_20250825"),tool_id:lr.string()}),lr.object({type:lr.literal("direct")})]).optional()})])).nullish(),stop_reason:lr.string().nullish(),container:lr.object({expires_at:lr.string(),id:lr.string()}).nullish()})}),lr.object({type:lr.literal("content_block_start"),index:lr.number(),content_block:lr.discriminatedUnion("type",[lr.object({type:lr.literal("text"),text:lr.string()}),lr.object({type:lr.literal("thinking"),thinking:lr.string()}),lr.object({type:lr.literal("tool_use"),id:lr.string(),name:lr.string(),input:lr.record(lr.string(),lr.unknown()).optional(),caller:lr.union([lr.object({type:lr.literal("code_execution_20250825"),tool_id:lr.string()}),lr.object({type:lr.literal("direct")})]).optional()}),lr.object({type:lr.literal("redacted_thinking"),data:lr.string()}),lr.object({type:lr.literal("server_tool_use"),id:lr.string(),name:lr.string(),input:lr.record(lr.string(),lr.unknown()).nullish()}),lr.object({type:lr.literal("mcp_tool_use"),id:lr.string(),name:lr.string(),input:lr.unknown(),server_name:lr.string()}),lr.object({type:lr.literal("mcp_tool_result"),tool_use_id:lr.string(),is_error:lr.boolean(),content:lr.array(lr.union([lr.string(),lr.object({type:lr.literal("text"),text:lr.string()})]))}),lr.object({type:lr.literal("web_fetch_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.object({type:lr.literal("web_fetch_result"),url:lr.string(),retrieved_at:lr.string(),content:lr.object({type:lr.literal("document"),title:lr.string().nullable(),citations:lr.object({enabled:lr.boolean()}).optional(),source:lr.union([lr.object({type:lr.literal("base64"),media_type:lr.literal("application/pdf"),data:lr.string()}),lr.object({type:lr.literal("text"),media_type:lr.literal("text/plain"),data:lr.string()})])})}),lr.object({type:lr.literal("web_fetch_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("web_search_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.array(lr.object({type:lr.literal("web_search_result"),url:lr.string(),title:lr.string(),encrypted_content:lr.string(),page_age:lr.string().nullish()})),lr.object({type:lr.literal("web_search_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("code_execution_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.object({type:lr.literal("code_execution_result"),stdout:lr.string(),stderr:lr.string(),return_code:lr.number(),content:lr.array(lr.object({type:lr.literal("code_execution_output"),file_id:lr.string()})).optional().default([])}),lr.object({type:lr.literal("code_execution_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("bash_code_execution_tool_result"),tool_use_id:lr.string(),content:lr.discriminatedUnion("type",[lr.object({type:lr.literal("bash_code_execution_result"),content:lr.array(lr.object({type:lr.literal("bash_code_execution_output"),file_id:lr.string()})),stdout:lr.string(),stderr:lr.string(),return_code:lr.number()}),lr.object({type:lr.literal("bash_code_execution_tool_result_error"),error_code:lr.string()})])}),lr.object({type:lr.literal("text_editor_code_execution_tool_result"),tool_use_id:lr.string(),content:lr.discriminatedUnion("type",[lr.object({type:lr.literal("text_editor_code_execution_tool_result_error"),error_code:lr.string()}),lr.object({type:lr.literal("text_editor_code_execution_view_result"),content:lr.string(),file_type:lr.string(),num_lines:lr.number().nullable(),start_line:lr.number().nullable(),total_lines:lr.number().nullable()}),lr.object({type:lr.literal("text_editor_code_execution_create_result"),is_file_update:lr.boolean()}),lr.object({type:lr.literal("text_editor_code_execution_str_replace_result"),lines:lr.array(lr.string()).nullable(),new_lines:lr.number().nullable(),new_start:lr.number().nullable(),old_lines:lr.number().nullable(),old_start:lr.number().nullable()})])}),lr.object({type:lr.literal("tool_search_tool_result"),tool_use_id:lr.string(),content:lr.union([lr.object({type:lr.literal("tool_search_tool_search_result"),tool_references:lr.array(lr.object({type:lr.literal("tool_reference"),tool_name:lr.string()}))}),lr.object({type:lr.literal("tool_search_tool_result_error"),error_code:lr.string()})])})])}),lr.object({type:lr.literal("content_block_delta"),index:lr.number(),delta:lr.discriminatedUnion("type",[lr.object({type:lr.literal("input_json_delta"),partial_json:lr.string()}),lr.object({type:lr.literal("text_delta"),text:lr.string()}),lr.object({type:lr.literal("thinking_delta"),thinking:lr.string()}),lr.object({type:lr.literal("signature_delta"),signature:lr.string()}),lr.object({type:lr.literal("citations_delta"),citation:lr.discriminatedUnion("type",[lr.object({type:lr.literal("web_search_result_location"),cited_text:lr.string(),url:lr.string(),title:lr.string(),encrypted_index:lr.string()}),lr.object({type:lr.literal("page_location"),cited_text:lr.string(),document_index:lr.number(),document_title:lr.string().nullable(),start_page_number:lr.number(),end_page_number:lr.number()}),lr.object({type:lr.literal("char_location"),cited_text:lr.string(),document_index:lr.number(),document_title:lr.string().nullable(),start_char_index:lr.number(),end_char_index:lr.number()})])})])}),lr.object({type:lr.literal("content_block_stop"),index:lr.number()}),lr.object({type:lr.literal("error"),error:lr.object({type:lr.string(),message:lr.string()})}),lr.object({type:lr.literal("message_delta"),delta:lr.object({stop_reason:lr.string().nullish(),stop_sequence:lr.string().nullish(),container:lr.object({expires_at:lr.string(),id:lr.string(),skills:lr.array(lr.object({type:lr.union([lr.literal("anthropic"),lr.literal("custom")]),skill_id:lr.string(),version:lr.string()})).nullish()}).nullish(),context_management:lr.object({applied_edits:lr.array(lr.union([lr.object({type:lr.literal("clear_tool_uses_20250919"),cleared_tool_uses:lr.number(),cleared_input_tokens:lr.number()}),lr.object({type:lr.literal("clear_thinking_20251015"),cleared_thinking_turns:lr.number(),cleared_input_tokens:lr.number()})]))}).nullish()}),usage:lr.looseObject({input_tokens:lr.number().nullish(),output_tokens:lr.number(),cache_creation_input_tokens:lr.number().nullish()})}),lr.object({type:lr.literal("message_stop")}),lr.object({type:lr.literal("ping")})]))),pE=sV(()=>sH(lr.object({signature:lr.string().optional(),redactedData:lr.string().optional()}))),pk=lr.object({citations:lr.object({enabled:lr.boolean()}).optional(),title:lr.string().optional(),context:lr.string().optional()}),px=lr.object({sendReasoning:lr.boolean().optional(),structuredOutputMode:lr.enum(["outputFormat","jsonTool","auto"]).optional(),thinking:lr.object({type:lr.union([lr.literal("enabled"),lr.literal("disabled")]),budgetTokens:lr.number().optional()}).optional(),disableParallelToolUse:lr.boolean().optional(),cacheControl:lr.object({type:lr.literal("ephemeral"),ttl:lr.union([lr.literal("5m"),lr.literal("1h")]).optional()}).optional(),mcpServers:lr.array(lr.object({type:lr.literal("url"),name:lr.string(),url:lr.string(),authorizationToken:lr.string().nullish(),toolConfiguration:lr.object({enabled:lr.boolean().nullish(),allowedTools:lr.array(lr.string()).nullish()}).nullish()})).optional(),container:lr.object({id:lr.string().optional(),skills:lr.array(lr.object({type:lr.union([lr.literal("anthropic"),lr.literal("custom")]),skillId:lr.string(),version:lr.string().optional()})).optional()}).optional(),toolStreaming:lr.boolean().optional(),effort:lr.enum(["low","medium","high"]).optional(),contextManagement:lr.object({edits:lr.array(lr.discriminatedUnion("type",[lr.object({type:lr.literal("clear_tool_uses_20250919"),trigger:lr.discriminatedUnion("type",[lr.object({type:lr.literal("input_tokens"),value:lr.number()}),lr.object({type:lr.literal("tool_uses"),value:lr.number()})]).optional(),keep:lr.object({type:lr.literal("tool_uses"),value:lr.number()}).optional(),clearAtLeast:lr.object({type:lr.literal("input_tokens"),value:lr.number()}).optional(),clearToolInputs:lr.boolean().optional(),excludeTools:lr.array(lr.string()).optional()}),lr.object({type:lr.literal("clear_thinking_20251015"),keep:lr.union([lr.literal("all"),lr.object({type:lr.literal("thinking_turns"),value:lr.number()})]).optional()})]))}).optional()}),pT=class{constructor(){this.breakpointCount=0,this.warnings=[]}getCacheControl(e,t){var r;let o,n=null!=(r=null==(o=null==e?void 0:e.anthropic)?void 0:o.cacheControl)?r:null==o?void 0:o.cache_control;if(n)return t.canCache?(this.breakpointCount++,this.breakpointCount>4)?void this.warnings.push({type:"unsupported",feature:"cacheControl breakpoint limit",details:`Maximum 4 cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`}):n:void this.warnings.push({type:"unsupported",feature:"cache_control on non-cacheable context",details:`cache_control cannot be set on ${t.type}. It will be ignored.`})}getWarnings(){return this.warnings}},pS=sV(()=>sH(lr.object({maxCharacters:lr.number().optional()}))),pR=s5({id:"anthropic.text_editor_20250728",inputSchema:sV(()=>sH(lr.object({command:lr.enum(["view","create","str_replace","insert"]),path:lr.string(),file_text:lr.string().optional(),insert_line:lr.number().int().optional(),new_str:lr.string().optional(),old_str:lr.string().optional(),view_range:lr.array(lr.number().int()).optional()})))}),pj=sV(()=>sH(lr.object({maxUses:lr.number().optional(),allowedDomains:lr.array(lr.string()).optional(),blockedDomains:lr.array(lr.string()).optional(),userLocation:lr.object({type:lr.literal("approximate"),city:lr.string().optional(),region:lr.string().optional(),country:lr.string().optional(),timezone:lr.string().optional()}).optional()}))),pF=sV(()=>sH(lr.array(lr.object({url:lr.string(),title:lr.string().nullable(),pageAge:lr.string().nullable(),encryptedContent:lr.string(),type:lr.literal("web_search_result")})))),pP=s4({id:"anthropic.web_search_20250305",inputSchema:sV(()=>sH(lr.object({query:lr.string()}))),outputSchema:pF,supportsDeferredResults:!0}),pO=sV(()=>sH(lr.object({maxUses:lr.number().optional(),allowedDomains:lr.array(lr.string()).optional(),blockedDomains:lr.array(lr.string()).optional(),citations:lr.object({enabled:lr.boolean()}).optional(),maxContentTokens:lr.number().optional()}))),pI=sV(()=>sH(lr.object({type:lr.literal("web_fetch_result"),url:lr.string(),content:lr.object({type:lr.literal("document"),title:lr.string().nullable(),citations:lr.object({enabled:lr.boolean()}).optional(),source:lr.union([lr.object({type:lr.literal("base64"),mediaType:lr.literal("application/pdf"),data:lr.string()}),lr.object({type:lr.literal("text"),mediaType:lr.literal("text/plain"),data:lr.string()})])}),retrievedAt:lr.string().nullable()}))),pA=s4({id:"anthropic.web_fetch_20250910",inputSchema:sV(()=>sH(lr.object({url:lr.string()}))),outputSchema:pI,supportsDeferredResults:!0});async function pN({tools:e,toolChoice:t,disableParallelToolUse:r,cacheControlValidator:o,supportsStructuredOutput:n}){var i;e=(null==e?void 0:e.length)?e:void 0;let a=[],s=new Set,l=o||new pT;if(null==e)return{tools:void 0,toolChoice:void 0,toolWarnings:a,betas:s};let u=[];for(let t of e)switch(t.type){case"function":{let e=l.getCacheControl(t.providerOptions,{type:"tool definition",canCache:!0}),r=null==(i=t.providerOptions)?void 0:i.anthropic,o=null==r?void 0:r.deferLoading,a=null==r?void 0:r.allowedCallers;u.push({name:t.name,description:t.description,input_schema:t.inputSchema,cache_control:e,...!0===n&&null!=t.strict?{strict:t.strict}:{},...null!=o?{defer_loading:o}:{},...null!=a?{allowed_callers:a}:{},...null!=t.inputExamples?{input_examples:t.inputExamples.map(e=>e.input)}:{}}),!0===n&&s.add("structured-outputs-2025-11-13"),(null!=t.inputExamples||null!=a)&&s.add("advanced-tool-use-2025-11-20");break}case"provider":switch(t.id){case"anthropic.code_execution_20250522":s.add("code-execution-2025-05-22"),u.push({type:"code_execution_20250522",name:"code_execution",cache_control:void 0});break;case"anthropic.code_execution_20250825":s.add("code-execution-2025-08-25"),u.push({type:"code_execution_20250825",name:"code_execution"});break;case"anthropic.computer_20250124":s.add("computer-use-2025-01-24"),u.push({name:"computer",type:"computer_20250124",display_width_px:t.args.displayWidthPx,display_height_px:t.args.displayHeightPx,display_number:t.args.displayNumber,cache_control:void 0});break;case"anthropic.computer_20241022":s.add("computer-use-2024-10-22"),u.push({name:"computer",type:"computer_20241022",display_width_px:t.args.displayWidthPx,display_height_px:t.args.displayHeightPx,display_number:t.args.displayNumber,cache_control:void 0});break;case"anthropic.text_editor_20250124":s.add("computer-use-2025-01-24"),u.push({name:"str_replace_editor",type:"text_editor_20250124",cache_control:void 0});break;case"anthropic.text_editor_20241022":s.add("computer-use-2024-10-22"),u.push({name:"str_replace_editor",type:"text_editor_20241022",cache_control:void 0});break;case"anthropic.text_editor_20250429":s.add("computer-use-2025-01-24"),u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250429",cache_control:void 0});break;case"anthropic.text_editor_20250728":{let e=await sZ({value:t.args,schema:pS});u.push({name:"str_replace_based_edit_tool",type:"text_editor_20250728",max_characters:e.maxCharacters,cache_control:void 0});break}case"anthropic.bash_20250124":s.add("computer-use-2025-01-24"),u.push({name:"bash",type:"bash_20250124",cache_control:void 0});break;case"anthropic.bash_20241022":s.add("computer-use-2024-10-22"),u.push({name:"bash",type:"bash_20241022",cache_control:void 0});break;case"anthropic.memory_20250818":s.add("context-management-2025-06-27"),u.push({name:"memory",type:"memory_20250818"});break;case"anthropic.web_fetch_20250910":{s.add("web-fetch-2025-09-10");let e=await sZ({value:t.args,schema:pO});u.push({type:"web_fetch_20250910",name:"web_fetch",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,citations:e.citations,max_content_tokens:e.maxContentTokens,cache_control:void 0});break}case"anthropic.web_search_20250305":{let e=await sZ({value:t.args,schema:pj});u.push({type:"web_search_20250305",name:"web_search",max_uses:e.maxUses,allowed_domains:e.allowedDomains,blocked_domains:e.blockedDomains,user_location:e.userLocation,cache_control:void 0});break}case"anthropic.tool_search_regex_20251119":s.add("advanced-tool-use-2025-11-20"),u.push({type:"tool_search_tool_regex_20251119",name:"tool_search_tool_regex"});break;case"anthropic.tool_search_bm25_20251119":s.add("advanced-tool-use-2025-11-20"),u.push({type:"tool_search_tool_bm25_20251119",name:"tool_search_tool_bm25"});break;default:a.push({type:"unsupported",feature:`provider-defined tool ${t.id}`})}break;default:a.push({type:"unsupported",feature:`tool ${t}`})}if(null==t)return{tools:u,toolChoice:r?{type:"auto",disable_parallel_tool_use:r}:void 0,toolWarnings:a,betas:s};let p=t.type;switch(p){case"auto":return{tools:u,toolChoice:{type:"auto",disable_parallel_tool_use:r},toolWarnings:a,betas:s};case"required":return{tools:u,toolChoice:{type:"any",disable_parallel_tool_use:r},toolWarnings:a,betas:s};case"none":return{tools:void 0,toolChoice:void 0,toolWarnings:a,betas:s};case"tool":return{tools:u,toolChoice:{type:"tool",name:t.toolName,disable_parallel_tool_use:r},toolWarnings:a,betas:s};default:throw new nG({functionality:`tool choice type: ${p}`})}}function pB(e){var t,r;let o=e.input_tokens,n=e.output_tokens,i=null!=(t=e.cache_creation_input_tokens)?t:0,a=null!=(r=e.cache_read_input_tokens)?r:0;return{inputTokens:{total:o+i+a,noCache:o,cacheRead:a,cacheWrite:i},outputTokens:{total:n,text:void 0,reasoning:void 0},raw:e}}var pM=sV(()=>sH(lr.object({type:lr.literal("code_execution_result"),stdout:lr.string(),stderr:lr.string(),return_code:lr.number(),content:lr.array(lr.object({type:lr.literal("code_execution_output"),file_id:lr.string()})).optional().default([])}))),pU=s4({id:"anthropic.code_execution_20250522",inputSchema:sV(()=>sH(lr.object({code:lr.string()}))),outputSchema:pM}),pL=sV(()=>sH(lr.discriminatedUnion("type",[lr.object({type:lr.literal("code_execution_result"),stdout:lr.string(),stderr:lr.string(),return_code:lr.number(),content:lr.array(lr.object({type:lr.literal("code_execution_output"),file_id:lr.string()})).optional().default([])}),lr.object({type:lr.literal("bash_code_execution_result"),content:lr.array(lr.object({type:lr.literal("bash_code_execution_output"),file_id:lr.string()})),stdout:lr.string(),stderr:lr.string(),return_code:lr.number()}),lr.object({type:lr.literal("bash_code_execution_tool_result_error"),error_code:lr.string()}),lr.object({type:lr.literal("text_editor_code_execution_tool_result_error"),error_code:lr.string()}),lr.object({type:lr.literal("text_editor_code_execution_view_result"),content:lr.string(),file_type:lr.string(),num_lines:lr.number().nullable(),start_line:lr.number().nullable(),total_lines:lr.number().nullable()}),lr.object({type:lr.literal("text_editor_code_execution_create_result"),is_file_update:lr.boolean()}),lr.object({type:lr.literal("text_editor_code_execution_str_replace_result"),lines:lr.array(lr.string()).nullable(),new_lines:lr.number().nullable(),new_start:lr.number().nullable(),old_lines:lr.number().nullable(),old_start:lr.number().nullable()})]))),pq=s4({id:"anthropic.code_execution_20250825",inputSchema:sV(()=>sH(lr.discriminatedUnion("type",[lr.object({type:lr.literal("programmatic-tool-call"),code:lr.string()}),lr.object({type:lr.literal("bash_code_execution"),command:lr.string()}),lr.discriminatedUnion("command",[lr.object({type:lr.literal("text_editor_code_execution"),command:lr.literal("view"),path:lr.string()}),lr.object({type:lr.literal("text_editor_code_execution"),command:lr.literal("create"),path:lr.string(),file_text:lr.string().nullish()}),lr.object({type:lr.literal("text_editor_code_execution"),command:lr.literal("str_replace"),path:lr.string(),old_str:lr.string(),new_str:lr.string()})])]))),outputSchema:pL,supportsDeferredResults:!0}),p$=sV(()=>sH(lr.array(lr.object({type:lr.literal("tool_reference"),toolName:lr.string()})))),pz=s4({id:"anthropic.tool_search_regex_20251119",inputSchema:sV(()=>sH(lr.object({pattern:lr.string(),limit:lr.number().optional()}))),outputSchema:p$,supportsDeferredResults:!0});function pW(e){var t;return e instanceof URL||"string"==typeof(t=e)&&/^https?:\/\//i.test(t)}function pV(e){return e instanceof URL?e.toString():e}async function pK({prompt:e,sendReasoning:t,warnings:r,cacheControlValidator:o,toolNameMapping:n}){var i,a,s,l,u,p,d,c,h,m,g,f,y,_,v,b,w;let D,C=new Set,E=function(e){let t,r=[];for(let o of e){let{role:e}=o;switch(e){case"system":(null==t?void 0:t.type)!=="system"&&(t={type:"system",messages:[]},r.push(t)),t.messages.push(o);break;case"assistant":(null==t?void 0:t.type)!=="assistant"&&(t={type:"assistant",messages:[]},r.push(t)),t.messages.push(o);break;case"user":case"tool":(null==t?void 0:t.type)!=="user"&&(t={type:"user",messages:[]},r.push(t)),t.messages.push(o);break;default:throw Error(`Unsupported role: ${e}`)}}return r}(e),k=o||new pT,x=[];async function T(e){var t,r;let o=await s0({provider:"anthropic",providerOptions:e,schema:pk});return null!=(r=null==(t=null==o?void 0:o.citations)?void 0:t.enabled)&&r}async function S(e){let t=await s0({provider:"anthropic",providerOptions:e,schema:pk});return{title:null==t?void 0:t.title,context:null==t?void 0:t.context}}for(let e=0;e<E.length;e++){let o=E[e],R=e===E.length-1,j=o.type;switch(j){case"system":if(null!=D)throw new nG({functionality:"Multiple system messages that are separated by user/assistant messages"});D=o.messages.map(({content:e,providerOptions:t})=>({type:"text",text:e,cache_control:k.getCacheControl(t,{type:"system message",canCache:!0})}));break;case"user":{let e=[];for(let t of o.messages){let{role:o,content:n}=t;switch(o){case"user":for(let r=0;r<n.length;r++){let o=n[r],l=r===n.length-1,u=null!=(i=k.getCacheControl(o.providerOptions,{type:"user message part",canCache:!0}))?i:l?k.getCacheControl(t.providerOptions,{type:"user message",canCache:!0}):void 0;switch(o.type){case"text":e.push({type:"text",text:o.text,cache_control:u});break;case"file":if(o.mediaType.startsWith("image/"))e.push({type:"image",source:pW(o.data)?{type:"url",url:pV(o.data)}:{type:"base64",media_type:"image/*"===o.mediaType?"image/jpeg":o.mediaType,data:a3(o.data)},cache_control:u});else if("application/pdf"===o.mediaType){C.add("pdfs-2024-09-25");let t=await T(o.providerOptions),r=await S(o.providerOptions);e.push({type:"document",source:pW(o.data)?{type:"url",url:pV(o.data)}:{type:"base64",media_type:"application/pdf",data:a3(o.data)},title:null!=(a=r.title)?a:o.filename,...r.context&&{context:r.context},...t&&{citations:{enabled:!0}},cache_control:u})}else if("text/plain"===o.mediaType){let t=await T(o.providerOptions),r=await S(o.providerOptions);e.push({type:"document",source:pW(o.data)?{type:"url",url:pV(o.data)}:{type:"text",media_type:"text/plain",data:function(e){if("string"==typeof e)return Buffer.from(e,"base64").toString("utf-8");if(e instanceof Uint8Array)return new TextDecoder().decode(e);if(e instanceof URL)throw new nG({functionality:"URL-based text documents are not supported for citations"});throw new nG({functionality:`unsupported data type for text documents: ${typeof e}`})}(o.data)},title:null!=(s=r.title)?s:o.filename,...r.context&&{context:r.context},...t&&{citations:{enabled:!0}},cache_control:u})}else throw new nG({functionality:`media type: ${o.mediaType}`})}}break;case"tool":for(let o=0;o<n.length;o++){let i,a=n[o];if("tool-approval-response"===a.type)continue;let s=o===n.length-1,p=null!=(l=k.getCacheControl(a.providerOptions,{type:"tool result part",canCache:!0}))?l:s?k.getCacheControl(t.providerOptions,{type:"tool result message",canCache:!0}):void 0,d=a.output;switch(d.type){case"content":i=d.value.map(e=>{switch(e.type){case"text":return{type:"text",text:e.text};case"image-data":return{type:"image",source:{type:"base64",media_type:e.mediaType,data:e.data}};case"image-url":return{type:"image",source:{type:"url",url:e.url}};case"file-url":return{type:"document",source:{type:"url",url:e.url}};case"file-data":if("application/pdf"===e.mediaType)return C.add("pdfs-2024-09-25"),{type:"document",source:{type:"base64",media_type:e.mediaType,data:e.data}};r.push({type:"other",message:`unsupported tool content part type: ${e.type} with media type: ${e.mediaType}`});return;default:return void r.push({type:"other",message:`unsupported tool content part type: ${e.type}`})}}).filter(su);break;case"text":case"error-text":i=d.value;break;case"execution-denied":i=null!=(u=d.reason)?u:"Tool execution denied.";break;default:i=JSON.stringify(d.value)}e.push({type:"tool_result",tool_use_id:a.toolCallId,content:i,is_error:"error-text"===d.type||"error-json"===d.type||void 0,cache_control:p})}break;default:throw Error(`Unsupported role: ${o}`)}}x.push({role:"user",content:e});break}case"assistant":{let e=[],i=new Set;for(let a=0;a<o.messages.length;a++){let s=o.messages[a],l=a===o.messages.length-1,{content:u}=s;for(let o=0;o<u.length;o++){let a=u[o],D=o===u.length-1,C=null!=(p=k.getCacheControl(a.providerOptions,{type:"assistant message part",canCache:!0}))?p:D?k.getCacheControl(s.providerOptions,{type:"assistant message",canCache:!0}):void 0;switch(a.type){case"text":e.push({type:"text",text:R&&l&&D?a.text.trim():a.text,cache_control:C});break;case"reasoning":if(t){let t=await s0({provider:"anthropic",providerOptions:a.providerOptions,schema:pE});null!=t?null!=t.signature?(k.getCacheControl(a.providerOptions,{type:"thinking block",canCache:!1}),e.push({type:"thinking",thinking:a.text,signature:t.signature})):null!=t.redactedData?(k.getCacheControl(a.providerOptions,{type:"redacted thinking block",canCache:!1}),e.push({type:"redacted_thinking",data:t.redactedData})):r.push({type:"other",message:"unsupported reasoning metadata"}):r.push({type:"other",message:"unsupported reasoning metadata"})}else r.push({type:"other",message:"sending reasoning content is disabled for this model"});break;case"tool-call":{if(a.providerExecuted){let t=n.toProviderToolName(a.toolName);if((null==(c=null==(d=a.providerOptions)?void 0:d.anthropic)?void 0:c.type)==="mcp-tool-use"){i.add(a.toolCallId);let t=null==(m=null==(h=a.providerOptions)?void 0:h.anthropic)?void 0:m.serverName;if(null==t||"string"!=typeof t){r.push({type:"other",message:"mcp tool use server name is required and must be a string"});break}e.push({type:"mcp_tool_use",id:a.toolCallId,name:a.toolName,input:a.input,server_name:t,cache_control:C})}else if("code_execution"===t&&null!=a.input&&"object"==typeof a.input&&"type"in a.input&&"string"==typeof a.input.type&&("bash_code_execution"===a.input.type||"text_editor_code_execution"===a.input.type))e.push({type:"server_tool_use",id:a.toolCallId,name:a.input.type,input:a.input,cache_control:C});else if("code_execution"===t&&null!=a.input&&"object"==typeof a.input&&"type"in a.input&&"programmatic-tool-call"===a.input.type){let{type:t,...r}=a.input;e.push({type:"server_tool_use",id:a.toolCallId,name:"code_execution",input:r,cache_control:C})}else"code_execution"===t||"web_fetch"===t||"web_search"===t||"tool_search_tool_regex"===t||"tool_search_tool_bm25"===t?e.push({type:"server_tool_use",id:a.toolCallId,name:t,input:a.input,cache_control:C}):r.push({type:"other",message:`provider executed tool call for tool ${a.toolName} is not supported`});break}let t=null==(g=a.providerOptions)?void 0:g.anthropic,o=(null==t?void 0:t.caller)?"code_execution_20250825"===t.caller.type&&t.caller.toolId?{type:"code_execution_20250825",tool_id:t.caller.toolId}:"direct"===t.caller.type?{type:"direct"}:void 0:void 0;e.push({type:"tool_use",id:a.toolCallId,name:a.toolName,input:a.input,...o&&{caller:o},cache_control:C});break}case"tool-result":{let t=n.toProviderToolName(a.toolName);if(i.has(a.toolCallId)){let t=a.output;if("json"!==t.type&&"error-json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}e.push({type:"mcp_tool_result",tool_use_id:a.toolCallId,is_error:"error-json"===t.type,content:t.value,cache_control:C})}else if("code_execution"===t){let t=a.output;if("error-text"===t.type||"error-json"===t.type){let r={};try{"string"==typeof t.value?r=JSON.parse(t.value):"object"==typeof t.value&&null!==t.value&&(r=t.value)}catch(e){}"code_execution_tool_result_error"===r.type?e.push({type:"code_execution_tool_result",tool_use_id:a.toolCallId,content:{type:"code_execution_tool_result_error",error_code:null!=(f=r.errorCode)?f:"unknown"},cache_control:C}):e.push({type:"bash_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:C,content:{type:"bash_code_execution_tool_result_error",error_code:null!=(y=r.errorCode)?y:"unknown"}});break}if("json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}if(null==t.value||"object"!=typeof t.value||!("type"in t.value)||"string"!=typeof t.value.type){r.push({type:"other",message:`provider executed tool result output value is not a valid code execution result for tool ${a.toolName}`});break}if("code_execution_result"===t.value.type){let r=await sZ({value:t.value,schema:pM});e.push({type:"code_execution_tool_result",tool_use_id:a.toolCallId,content:{type:r.type,stdout:r.stdout,stderr:r.stderr,return_code:r.return_code,content:null!=(_=r.content)?_:[]},cache_control:C})}else{let r=await sZ({value:t.value,schema:pL});"code_execution_result"===r.type?e.push({type:"code_execution_tool_result",tool_use_id:a.toolCallId,content:{type:r.type,stdout:r.stdout,stderr:r.stderr,return_code:r.return_code,content:null!=(v=r.content)?v:[]},cache_control:C}):"bash_code_execution_result"===r.type||"bash_code_execution_tool_result_error"===r.type?e.push({type:"bash_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:C,content:r}):e.push({type:"text_editor_code_execution_tool_result",tool_use_id:a.toolCallId,cache_control:C,content:r})}break}if("web_fetch"===t){let t=a.output;if("error-json"===t.type){let r={};try{"string"==typeof t.value?r=JSON.parse(t.value):"object"==typeof t.value&&null!==t.value&&(r=t.value)}catch(o){let e=null==(b=t.value)?void 0:b.errorCode;r={errorCode:"string"==typeof e?e:"unknown"}}e.push({type:"web_fetch_tool_result",tool_use_id:a.toolCallId,content:{type:"web_fetch_tool_result_error",error_code:null!=(w=r.errorCode)?w:"unknown"},cache_control:C});break}if("json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}let o=await sZ({value:t.value,schema:pI});e.push({type:"web_fetch_tool_result",tool_use_id:a.toolCallId,content:{type:"web_fetch_result",url:o.url,retrieved_at:o.retrievedAt,content:{type:"document",title:o.content.title,citations:o.content.citations,source:{type:o.content.source.type,media_type:o.content.source.mediaType,data:o.content.source.data}}},cache_control:C});break}if("web_search"===t){let t=a.output;if("json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}let o=await sZ({value:t.value,schema:pF});e.push({type:"web_search_tool_result",tool_use_id:a.toolCallId,content:o.map(e=>({url:e.url,title:e.title,page_age:e.pageAge,encrypted_content:e.encryptedContent,type:e.type})),cache_control:C});break}if("tool_search_tool_regex"===t||"tool_search_tool_bm25"===t){let t=a.output;if("json"!==t.type){r.push({type:"other",message:`provider executed tool result output type ${t.type} for tool ${a.toolName} is not supported`});break}let o=(await sZ({value:t.value,schema:p$})).map(e=>({type:"tool_reference",tool_name:e.toolName}));e.push({type:"tool_search_tool_result",tool_use_id:a.toolCallId,content:{type:"tool_search_tool_search_result",tool_references:o},cache_control:C});break}r.push({type:"other",message:`provider executed tool result for tool ${a.toolName} is not supported`})}}}}x.push({role:"assistant",content:e});break}default:throw Error(`content type: ${j}`)}}return{prompt:{system:D,messages:x},betas:C}}function pG({finishReason:e,isJsonResponseFromTool:t}){switch(e){case"pause_turn":case"end_turn":case"stop_sequence":return"stop";case"refusal":return"content-filter";case"tool_use":return t?"stop":"tool-calls";case"max_tokens":case"model_context_window_exceeded":return"length";default:return"other"}}function pH(e,t,r){var o;if("web_search_result_location"===e.type)return{type:"source",sourceType:"url",id:r(),url:e.url,title:e.title,providerMetadata:{anthropic:{citedText:e.cited_text,encryptedIndex:e.encrypted_index}}};if("page_location"!==e.type&&"char_location"!==e.type)return;let n=t[e.document_index];if(n)return{type:"source",sourceType:"document",id:r(),mediaType:n.mediaType,title:null!=(o=e.document_title)?o:n.title,filename:n.filename,providerMetadata:{anthropic:"page_location"===e.type?{citedText:e.cited_text,startPageNumber:e.start_page_number,endPageNumber:e.end_page_number}:{citedText:e.cited_text,startCharIndex:e.start_char_index,endCharIndex:e.end_char_index}}}}var pZ=class{constructor(e,t){var r;this.specificationVersion="v3",this.modelId=e,this.config=t,this.generateId=null!=(r=t.generateId)?r:se}supportsUrl(e){return"https:"===e.protocol}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return null!=(r=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?r:{}}async getArgs({userSuppliedBetas:e,prompt:t,maxOutputTokens:r,temperature:o,topP:n,topK:i,frequencyPenalty:a,presencePenalty:s,stopSequences:l,responseFormat:u,seed:p,tools:d,toolChoice:c,providerOptions:h,stream:m}){var g,f,y,_,v,b;let w=[];null!=a&&w.push({type:"unsupported",feature:"frequencyPenalty"}),null!=s&&w.push({type:"unsupported",feature:"presencePenalty"}),null!=p&&w.push({type:"unsupported",feature:"seed"}),null!=o&&o>1?(w.push({type:"unsupported",feature:"temperature",details:`${o} exceeds anthropic maximum of 1.0. clamped to 1.0`}),o=1):null!=o&&o<0&&(w.push({type:"unsupported",feature:"temperature",details:`${o} is below anthropic minimum of 0. clamped to 0`}),o=0),(null==u?void 0:u.type)==="json"&&null==u.schema&&w.push({type:"unsupported",feature:"responseFormat",details:"JSON response format requires a schema. The response format is ignored."});let D=await s0({provider:"anthropic",providerOptions:h,schema:px}),{maxOutputTokens:C,supportsStructuredOutput:E,isKnownModel:k}=function(e){if(e.includes("claude-sonnet-4-5")||e.includes("claude-opus-4-5")||e.includes("claude-haiku-4-5"))return{maxOutputTokens:64e3,supportsStructuredOutput:!0,isKnownModel:!0};if(e.includes("claude-opus-4-1"))return{maxOutputTokens:32e3,supportsStructuredOutput:!0,isKnownModel:!0};if(e.includes("claude-sonnet-4-")||e.includes("claude-3-7-sonnet"))return{maxOutputTokens:64e3,supportsStructuredOutput:!1,isKnownModel:!0};if(e.includes("claude-opus-4-"))return{maxOutputTokens:32e3,supportsStructuredOutput:!1,isKnownModel:!0};if(e.includes("claude-3-5-haiku"))return{maxOutputTokens:8192,supportsStructuredOutput:!1,isKnownModel:!0};else if(e.includes("claude-3-haiku"))return{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!0};else return{maxOutputTokens:4096,supportsStructuredOutput:!1,isKnownModel:!1}}(this.modelId),x=(null==(g=this.config.supportsNativeStructuredOutput)||g)&&E,T=null!=(f=null==D?void 0:D.structuredOutputMode)?f:"auto",S="outputFormat"===T||"auto"===T&&x,R=(null==u?void 0:u.type)!=="json"||null==u.schema||S?void 0:{type:"function",name:"json",description:"Respond with a JSON object.",inputSchema:u.schema},j=null==D?void 0:D.contextManagement,F=new pT,P=aY({tools:d,providerToolNames:{"anthropic.code_execution_20250522":"code_execution","anthropic.code_execution_20250825":"code_execution","anthropic.computer_20241022":"computer","anthropic.computer_20250124":"computer","anthropic.text_editor_20241022":"str_replace_editor","anthropic.text_editor_20250124":"str_replace_editor","anthropic.text_editor_20250429":"str_replace_based_edit_tool","anthropic.text_editor_20250728":"str_replace_based_edit_tool","anthropic.bash_20241022":"bash","anthropic.bash_20250124":"bash","anthropic.memory_20250818":"memory","anthropic.web_search_20250305":"web_search","anthropic.web_fetch_20250910":"web_fetch","anthropic.tool_search_regex_20251119":"tool_search_tool_regex","anthropic.tool_search_bm25_20251119":"tool_search_tool_bm25"}}),{prompt:O,betas:I}=await pK({prompt:t,sendReasoning:null==(y=null==D?void 0:D.sendReasoning)||y,warnings:w,cacheControlValidator:F,toolNameMapping:P}),A=(null==(_=null==D?void 0:D.thinking)?void 0:_.type)==="enabled",N=null==(v=null==D?void 0:D.thinking)?void 0:v.budgetTokens,B=null!=r?r:C,M={model:this.modelId,max_tokens:B,temperature:o,top_k:i,top_p:n,stop_sequences:l,...A&&{thinking:{type:"enabled",budget_tokens:N}},...(null==D?void 0:D.effort)&&{output_config:{effort:D.effort}},...S&&(null==u?void 0:u.type)==="json"&&null!=u.schema&&{output_format:{type:"json_schema",schema:u.schema}},...(null==D?void 0:D.mcpServers)&&D.mcpServers.length>0&&{mcp_servers:D.mcpServers.map(e=>({type:e.type,name:e.name,url:e.url,authorization_token:e.authorizationToken,tool_configuration:e.toolConfiguration?{allowed_tools:e.toolConfiguration.allowedTools,enabled:e.toolConfiguration.enabled}:void 0}))},...(null==D?void 0:D.container)&&{container:D.container.skills&&D.container.skills.length>0?{id:D.container.id,skills:D.container.skills.map(e=>({type:e.type,skill_id:e.skillId,version:e.version}))}:D.container.id},system:O.system,messages:O.messages,...j&&{context_management:{edits:j.edits.map(e=>{let t=e.type;switch(t){case"clear_tool_uses_20250919":return{type:e.type,...void 0!==e.trigger&&{trigger:e.trigger},...void 0!==e.keep&&{keep:e.keep},...void 0!==e.clearAtLeast&&{clear_at_least:e.clearAtLeast},...void 0!==e.clearToolInputs&&{clear_tool_inputs:e.clearToolInputs},...void 0!==e.excludeTools&&{exclude_tools:e.excludeTools}};case"clear_thinking_20251015":return{type:e.type,...void 0!==e.keep&&{keep:e.keep}};default:w.push({type:"other",message:`Unknown context management strategy: ${t}`});return}}).filter(e=>void 0!==e)}}};A?(null==N&&(w.push({type:"compatibility",feature:"extended thinking",details:"thinking budget is required when thinking is enabled. using default budget of 1024 tokens."}),M.thinking={type:"enabled",budget_tokens:1024},N=1024),null!=M.temperature&&(M.temperature=void 0,w.push({type:"unsupported",feature:"temperature",details:"temperature is not supported when thinking is enabled"})),null!=i&&(M.top_k=void 0,w.push({type:"unsupported",feature:"topK",details:"topK is not supported when thinking is enabled"})),null!=n&&(M.top_p=void 0,w.push({type:"unsupported",feature:"topP",details:"topP is not supported when thinking is enabled"})),M.max_tokens=B+(null!=N?N:0)):null!=n&&null!=o&&(w.push({type:"unsupported",feature:"topP",details:"topP is not supported when temperature is set. topP is ignored."}),M.top_p=void 0),k&&M.max_tokens>C&&(null!=r&&w.push({type:"unsupported",feature:"maxOutputTokens",details:`${M.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${C} max output tokens. The max output tokens have been limited to ${C}.`}),M.max_tokens=C),(null==D?void 0:D.mcpServers)&&D.mcpServers.length>0&&I.add("mcp-client-2025-04-04"),j&&I.add("context-management-2025-06-27"),(null==D?void 0:D.container)&&D.container.skills&&D.container.skills.length>0&&(I.add("code-execution-2025-08-25"),I.add("skills-2025-10-02"),I.add("files-api-2025-04-14"),(null==d?void 0:d.some(e=>"provider"===e.type&&"anthropic.code_execution_20250825"===e.id))||w.push({type:"other",message:"code execution tool is required when using skills"})),(null==D?void 0:D.effort)&&I.add("effort-2025-11-24"),m&&(null==(b=null==D?void 0:D.toolStreaming)||b)&&I.add("fine-grained-tool-streaming-2025-05-14"),S&&(null==u?void 0:u.type)==="json"&&null!=u.schema&&I.add("structured-outputs-2025-11-13");let{tools:U,toolChoice:L,toolWarnings:q,betas:$}=await pN(null!=R?{tools:[...null!=d?d:[],R],toolChoice:{type:"required"},disableParallelToolUse:!0,cacheControlValidator:F,supportsStructuredOutput:!1}:{tools:null!=d?d:[],toolChoice:c,disableParallelToolUse:null==D?void 0:D.disableParallelToolUse,cacheControlValidator:F,supportsStructuredOutput:x}),z=F.getWarnings();return{args:{...M,tools:U,tool_choice:L,stream:!0===m||void 0},warnings:[...w,...q,...z],betas:new Set([...I,...$,...e]),usesJsonResponseTool:null!=R,toolNameMapping:P}}async getHeaders({betas:e,headers:t}){return aJ(await s8(this.config.headers),t,e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{})}async getBetasFromHeaders(e){var t,r;let o=null!=(t=(await s8(this.config.headers))["anthropic-beta"])?t:"",n=null!=(r=null==e?void 0:e["anthropic-beta"])?r:"";return new Set([...o.toLowerCase().split(","),...n.toLowerCase().split(",")].map(e=>e.trim()).filter(e=>""!==e))}buildRequestUrl(e){var t,r,o;return null!=(o=null==(r=(t=this.config).buildRequestUrl)?void 0:r.call(t,this.config.baseURL,e))?o:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,o;return null!=(o=null==(r=(t=this.config).transformRequestBody)?void 0:r.call(t,e))?o:e}extractCitationDocuments(e){return e.filter(e=>"user"===e.role).flatMap(e=>e.content).filter(e=>{var t,r;if("file"!==e.type||"application/pdf"!==e.mediaType&&"text/plain"!==e.mediaType)return!1;let o=null==(t=e.providerOptions)?void 0:t.anthropic,n=null==o?void 0:o.citations;return null!=(r=null==n?void 0:n.enabled)&&r}).map(e=>{var t;return{title:null!=(t=e.filename)?t:"Untitled Document",filename:e.filename,mediaType:e.mediaType}})}async doGenerate(e){var t,r,o,n,i,a,s,l,u,p,d;let{args:c,warnings:h,betas:m,usesJsonResponseTool:g,toolNameMapping:f}=await this.getArgs({...e,stream:!1,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),y=[...this.extractCitationDocuments(e.prompt)],{responseHeaders:_,value:v,rawValue:b}=await s2({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:m,headers:e.headers}),body:this.transformRequestBody(c),failedResponseHandler:pw,successfulResponseHandler:le(pD),abortSignal:e.abortSignal,fetch:this.config.fetch}),w=[],D={},C={},E=!1;for(let e of v.content)switch(e.type){case"text":if(!g&&(w.push({type:"text",text:e.text}),e.citations))for(let t of e.citations){let e=pH(t,y,this.generateId);e&&w.push(e)}break;case"thinking":w.push({type:"reasoning",text:e.thinking,providerMetadata:{anthropic:{signature:e.signature}}});break;case"redacted_thinking":w.push({type:"reasoning",text:"",providerMetadata:{anthropic:{redactedData:e.data}}});break;case"tool_use":if(g&&"json"===e.name)E=!0,w.push({type:"text",text:JSON.stringify(e.input)});else{let t=e.caller,r=t?{type:t.type,toolId:"tool_id"in t?t.tool_id:void 0}:void 0;w.push({type:"tool-call",toolCallId:e.id,toolName:e.name,input:JSON.stringify(e.input),...r&&{providerMetadata:{anthropic:{caller:r}}}})}break;case"server_tool_use":if("text_editor_code_execution"===e.name||"bash_code_execution"===e.name)w.push({type:"tool-call",toolCallId:e.id,toolName:f.toCustomToolName("code_execution"),input:JSON.stringify({type:e.name,...e.input}),providerExecuted:!0});else if("web_search"===e.name||"code_execution"===e.name||"web_fetch"===e.name){let t="code_execution"===e.name&&null!=e.input&&"object"==typeof e.input&&"code"in e.input&&!("type"in e.input)?{type:"programmatic-tool-call",...e.input}:e.input;w.push({type:"tool-call",toolCallId:e.id,toolName:f.toCustomToolName(e.name),input:JSON.stringify(t),providerExecuted:!0})}else("tool_search_tool_regex"===e.name||"tool_search_tool_bm25"===e.name)&&(C[e.id]=e.name,w.push({type:"tool-call",toolCallId:e.id,toolName:f.toCustomToolName(e.name),input:JSON.stringify(e.input),providerExecuted:!0}));break;case"mcp_tool_use":D[e.id]={type:"tool-call",toolCallId:e.id,toolName:e.name,input:JSON.stringify(e.input),providerExecuted:!0,dynamic:!0,providerMetadata:{anthropic:{type:"mcp-tool-use",serverName:e.server_name}}},w.push(D[e.id]);break;case"mcp_tool_result":w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:D[e.tool_use_id].toolName,isError:e.is_error,result:e.content,dynamic:!0,providerMetadata:D[e.tool_use_id].providerMetadata});break;case"web_fetch_tool_result":"web_fetch_result"===e.content.type?(y.push({title:null!=(t=e.content.content.title)?t:e.content.url,mediaType:e.content.content.source.media_type}),w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName("web_fetch"),result:{type:"web_fetch_result",url:e.content.url,retrievedAt:e.content.retrieved_at,content:{type:e.content.content.type,title:e.content.content.title,citations:e.content.content.citations,source:{type:e.content.content.source.type,mediaType:e.content.content.source.media_type,data:e.content.content.source.data}}}})):"web_fetch_tool_result_error"===e.content.type&&w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName("web_fetch"),isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:e.content.error_code}});break;case"web_search_tool_result":if(Array.isArray(e.content))for(let t of(w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName("web_search"),result:e.content.map(e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}})}),e.content))w.push({type:"source",sourceType:"url",id:this.generateId(),url:t.url,title:t.title,providerMetadata:{anthropic:{pageAge:null!=(r=t.page_age)?r:null}}});else w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName("web_search"),isError:!0,result:{type:"web_search_tool_result_error",errorCode:e.content.error_code}});break;case"code_execution_tool_result":"code_execution_result"===e.content.type?w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName("code_execution"),result:{type:e.content.type,stdout:e.content.stdout,stderr:e.content.stderr,return_code:e.content.return_code,content:null!=(o=e.content.content)?o:[]}}):"code_execution_tool_result_error"===e.content.type&&w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName("code_execution"),isError:!0,result:{type:"code_execution_tool_result_error",errorCode:e.content.error_code}});break;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName("code_execution"),result:e.content});break;case"tool_search_tool_result":{let t=C[e.tool_use_id];if(null==t){let e=f.toCustomToolName("tool_search_tool_bm25");f.toCustomToolName("tool_search_tool_regex"),t="tool_search_tool_bm25"!==e?"tool_search_tool_bm25":"tool_search_tool_regex"}"tool_search_tool_search_result"===e.content.type?w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName(t),result:e.content.tool_references.map(e=>({type:e.type,toolName:e.tool_name}))}):w.push({type:"tool-result",toolCallId:e.tool_use_id,toolName:f.toCustomToolName(t),isError:!0,result:{type:"tool_search_tool_result_error",errorCode:e.content.error_code}})}}return{content:w,finishReason:{unified:pG({finishReason:v.stop_reason,isJsonResponseFromTool:E}),raw:null!=(n=v.stop_reason)?n:void 0},usage:pB(v.usage),request:{body:c},response:{id:null!=(i=v.id)?i:void 0,modelId:null!=(a=v.model)?a:void 0,headers:_,body:b},warnings:h,providerMetadata:{anthropic:{usage:v.usage,cacheCreationInputTokens:null!=(s=v.usage.cache_creation_input_tokens)?s:null,stopSequence:null!=(l=v.stop_sequence)?l:null,container:v.container?{expiresAt:v.container.expires_at,id:v.container.id,skills:null!=(p=null==(u=v.container.skills)?void 0:u.map(e=>({type:e.type,skillId:e.skill_id,version:e.version})))?p:null}:null,contextManagement:null!=(d=pJ(v.context_management))?d:null}}}}async doStream(e){var t,r;let o,n,{args:i,warnings:a,betas:s,usesJsonResponseTool:l,toolNameMapping:u}=await this.getArgs({...e,stream:!0,userSuppliedBetas:await this.getBetasFromHeaders(e.headers)}),p=[...this.extractCitationDocuments(e.prompt)],d=this.buildRequestUrl(!0),{responseHeaders:c,value:h}=await s2({url:d,headers:await this.getHeaders({betas:s,headers:e.headers}),body:this.transformRequestBody(i),failedResponseHandler:pw,successfulResponseHandler:s7(pC),abortSignal:e.abortSignal,fetch:this.config.fetch}),m={unified:"other",raw:void 0},g={input_tokens:0,output_tokens:0,cache_creation_input_tokens:0,cache_read_input_tokens:0},f={},y={},_={},v=null,b=null,w=null,D=null,C=!1,E=this.generateId,[k,x]=h.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:a})},transform(t,r){var i,a,s,d,c,h,k,x,T,S,R,j,F;if(e.includeRawChunks&&r.enqueue({type:"raw",rawValue:t.rawValue}),!t.success)return void r.enqueue({type:"error",error:t.error});let P=t.value;switch(P.type){case"ping":return;case"content_block_start":{let e=P.content_block,t=e.type;switch(n=t,t){case"text":if(l)return;f[P.index]={type:"text"},r.enqueue({type:"text-start",id:String(P.index)});return;case"thinking":f[P.index]={type:"reasoning"},r.enqueue({type:"reasoning-start",id:String(P.index)});return;case"redacted_thinking":f[P.index]={type:"reasoning"},r.enqueue({type:"reasoning-start",id:String(P.index),providerMetadata:{anthropic:{redactedData:e.data}}});return;case"tool_use":if(l&&"json"===e.name)C=!0,f[P.index]={type:"text"},r.enqueue({type:"text-start",id:String(P.index)});else{let t=e.caller,o=t?{type:t.type,toolId:"tool_id"in t?t.tool_id:void 0}:void 0,n=e.input&&Object.keys(e.input).length>0?JSON.stringify(e.input):"";f[P.index]={type:"tool-call",toolCallId:e.id,toolName:e.name,input:n,firstDelta:0===n.length,...o&&{caller:o}},r.enqueue({type:"tool-input-start",id:e.id,toolName:e.name})}return;case"server_tool_use":if(["web_fetch","web_search","code_execution","text_editor_code_execution","bash_code_execution"].includes(e.name)){let t="text_editor_code_execution"===e.name||"bash_code_execution"===e.name?"code_execution":e.name,o=u.toCustomToolName(t);f[P.index]={type:"tool-call",toolCallId:e.id,toolName:o,input:"",providerExecuted:!0,firstDelta:!0,providerToolName:e.name},r.enqueue({type:"tool-input-start",id:e.id,toolName:o,providerExecuted:!0})}else if("tool_search_tool_regex"===e.name||"tool_search_tool_bm25"===e.name){_[e.id]=e.name;let t=u.toCustomToolName(e.name);f[P.index]={type:"tool-call",toolCallId:e.id,toolName:t,input:"",providerExecuted:!0,firstDelta:!0,providerToolName:e.name},r.enqueue({type:"tool-input-start",id:e.id,toolName:t,providerExecuted:!0})}return;case"web_fetch_tool_result":"web_fetch_result"===e.content.type?(p.push({title:null!=(i=e.content.content.title)?i:e.content.url,mediaType:e.content.content.source.media_type}),r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName("web_fetch"),result:{type:"web_fetch_result",url:e.content.url,retrievedAt:e.content.retrieved_at,content:{type:e.content.content.type,title:e.content.content.title,citations:e.content.content.citations,source:{type:e.content.content.source.type,mediaType:e.content.content.source.media_type,data:e.content.content.source.data}}}})):"web_fetch_tool_result_error"===e.content.type&&r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName("web_fetch"),isError:!0,result:{type:"web_fetch_tool_result_error",errorCode:e.content.error_code}});return;case"web_search_tool_result":if(Array.isArray(e.content))for(let t of(r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName("web_search"),result:e.content.map(e=>{var t;return{url:e.url,title:e.title,pageAge:null!=(t=e.page_age)?t:null,encryptedContent:e.encrypted_content,type:e.type}})}),e.content))r.enqueue({type:"source",sourceType:"url",id:E(),url:t.url,title:t.title,providerMetadata:{anthropic:{pageAge:null!=(a=t.page_age)?a:null}}});else r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName("web_search"),isError:!0,result:{type:"web_search_tool_result_error",errorCode:e.content.error_code}});return;case"code_execution_tool_result":"code_execution_result"===e.content.type?r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName("code_execution"),result:{type:e.content.type,stdout:e.content.stdout,stderr:e.content.stderr,return_code:e.content.return_code,content:null!=(s=e.content.content)?s:[]}}):"code_execution_tool_result_error"===e.content.type&&r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName("code_execution"),isError:!0,result:{type:"code_execution_tool_result_error",errorCode:e.content.error_code}});return;case"bash_code_execution_tool_result":case"text_editor_code_execution_tool_result":return void r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName("code_execution"),result:e.content});case"tool_search_tool_result":{let t=_[e.tool_use_id];if(null==t){let e=u.toCustomToolName("tool_search_tool_bm25");u.toCustomToolName("tool_search_tool_regex"),t="tool_search_tool_bm25"!==e?"tool_search_tool_bm25":"tool_search_tool_regex"}"tool_search_tool_search_result"===e.content.type?r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName(t),result:e.content.tool_references.map(e=>({type:e.type,toolName:e.tool_name}))}):r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:u.toCustomToolName(t),isError:!0,result:{type:"tool_search_tool_result_error",errorCode:e.content.error_code}});return}case"mcp_tool_use":y[e.id]={type:"tool-call",toolCallId:e.id,toolName:e.name,input:JSON.stringify(e.input),providerExecuted:!0,dynamic:!0,providerMetadata:{anthropic:{type:"mcp-tool-use",serverName:e.server_name}}},r.enqueue(y[e.id]);return;case"mcp_tool_result":return void r.enqueue({type:"tool-result",toolCallId:e.tool_use_id,toolName:y[e.tool_use_id].toolName,isError:e.is_error,result:e.content,dynamic:!0,providerMetadata:y[e.tool_use_id].providerMetadata});default:throw Error(`Unsupported content block type: ${t}`)}}case"content_block_stop":if(null!=f[P.index]){let e=f[P.index];switch(e.type){case"text":r.enqueue({type:"text-end",id:String(P.index)});break;case"reasoning":r.enqueue({type:"reasoning-end",id:String(P.index)});break;case"tool-call":if(!(l&&"json"===e.toolName)){r.enqueue({type:"tool-input-end",id:e.toolCallId});let t=""===e.input?"{}":e.input;if("code_execution"===e.providerToolName)try{let e=JSON.parse(t);null!=e&&"object"==typeof e&&"code"in e&&!("type"in e)&&(t=JSON.stringify({type:"programmatic-tool-call",...e}))}catch(e){}r.enqueue({type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:t,providerExecuted:e.providerExecuted,...e.caller&&{providerMetadata:{anthropic:{caller:e.caller}}}})}}delete f[P.index]}n=void 0;return;case"content_block_delta":{let e=P.delta.type;switch(e){case"text_delta":if(l)return;r.enqueue({type:"text-delta",id:String(P.index),delta:P.delta.text});return;case"thinking_delta":return void r.enqueue({type:"reasoning-delta",id:String(P.index),delta:P.delta.thinking});case"signature_delta":"thinking"===n&&r.enqueue({type:"reasoning-delta",id:String(P.index),delta:"",providerMetadata:{anthropic:{signature:P.delta.signature}}});return;case"input_json_delta":{let e=f[P.index],t=P.delta.partial_json;if(0===t.length)return;if(C){if((null==e?void 0:e.type)!=="text")return;r.enqueue({type:"text-delta",id:String(P.index),delta:t})}else{if((null==e?void 0:e.type)!=="tool-call")return;e.firstDelta&&("bash_code_execution"===e.providerToolName||"text_editor_code_execution"===e.providerToolName)&&(t=`{"type": "${e.providerToolName}",${t.substring(1)}`),r.enqueue({type:"tool-input-delta",id:e.toolCallId,delta:t}),e.input+=t,e.firstDelta=!1}return}case"citations_delta":{let e=pH(P.delta.citation,p,E);e&&r.enqueue(e);return}default:throw Error(`Unsupported delta type: ${e}`)}}case"message_start":if(g.input_tokens=P.message.usage.input_tokens,g.cache_read_input_tokens=null!=(d=P.message.usage.cache_read_input_tokens)?d:0,g.cache_creation_input_tokens=null!=(c=P.message.usage.cache_creation_input_tokens)?c:0,o={...P.message.usage},b=null!=(h=P.message.usage.cache_creation_input_tokens)?h:null,null!=P.message.container&&(D={expiresAt:P.message.container.expires_at,id:P.message.container.id,skills:null}),null!=P.message.stop_reason&&(m={unified:pG({finishReason:P.message.stop_reason,isJsonResponseFromTool:C}),raw:P.message.stop_reason}),r.enqueue({type:"response-metadata",id:null!=(k=P.message.id)?k:void 0,modelId:null!=(x=P.message.model)?x:void 0}),null!=P.message.content)for(let e=0;e<P.message.content.length;e++){let t=P.message.content[e];if("tool_use"===t.type){let e=t.caller,o=e?{type:e.type,toolId:"tool_id"in e?e.tool_id:void 0}:void 0;r.enqueue({type:"tool-input-start",id:t.id,toolName:t.name});let n=JSON.stringify(null!=(T=t.input)?T:{});r.enqueue({type:"tool-input-delta",id:t.id,delta:n}),r.enqueue({type:"tool-input-end",id:t.id}),r.enqueue({type:"tool-call",toolCallId:t.id,toolName:t.name,input:n,...o&&{providerMetadata:{anthropic:{caller:o}}}})}}return;case"message_delta":null!=P.usage.input_tokens&&g.input_tokens!==P.usage.input_tokens&&(g.input_tokens=P.usage.input_tokens),g.output_tokens=P.usage.output_tokens,m={unified:pG({finishReason:P.delta.stop_reason,isJsonResponseFromTool:C}),raw:null!=(S=P.delta.stop_reason)?S:void 0},w=null!=(R=P.delta.stop_sequence)?R:null,D=null!=P.delta.container?{expiresAt:P.delta.container.expires_at,id:P.delta.container.id,skills:null!=(F=null==(j=P.delta.container.skills)?void 0:j.map(e=>({type:e.type,skillId:e.skill_id,version:e.version})))?F:null}:null,P.delta.context_management&&(v=pJ(P.delta.context_management)),o={...o,...P.usage};return;case"message_stop":return void r.enqueue({type:"finish",finishReason:m,usage:pB(g),providerMetadata:{anthropic:{usage:null!=o?o:null,cacheCreationInputTokens:b,stopSequence:w,container:D,contextManagement:v}}});case"error":return void r.enqueue({type:"error",error:P.error});default:throw Error(`Unsupported chunk type: ${P}`)}}})).tee(),T=k.getReader();try{await T.read();let e=await T.read();if((null==(t=e.value)?void 0:t.type)==="raw"&&(e=await T.read()),(null==(r=e.value)?void 0:r.type)==="error"){let t=e.value.error;throw new ni({message:t.message,url:d,requestBodyValues:i,statusCode:"overloaded_error"===t.type?529:500,responseHeaders:c,responseBody:JSON.stringify(t),isRetryable:"overloaded_error"===t.type})}}finally{T.cancel().catch(()=>{}),T.releaseLock()}return{stream:x,request:{body:i},response:{headers:c}}}};function pJ(e){return e?{appliedEdits:e.applied_edits.map(e=>{switch(e.type){case"clear_tool_uses_20250919":return{type:e.type,clearedToolUses:e.cleared_tool_uses,clearedInputTokens:e.cleared_input_tokens};case"clear_thinking_20251015":return{type:e.type,clearedThinkingTurns:e.cleared_thinking_turns,clearedInputTokens:e.cleared_input_tokens}}}).filter(e=>void 0!==e)}:null}var pY=s5({id:"anthropic.bash_20241022",inputSchema:sV(()=>sH(lr.object({command:lr.string(),restart:lr.boolean().optional()})))}),pQ=s5({id:"anthropic.bash_20250124",inputSchema:sV(()=>sH(lr.object({command:lr.string(),restart:lr.boolean().optional()})))}),pX=s5({id:"anthropic.computer_20241022",inputSchema:sV(()=>sH(lr.object({action:lr.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:lr.array(lr.number().int()).optional(),text:lr.string().optional()})))}),p0=s5({id:"anthropic.computer_20250124",inputSchema:sV(()=>sH(lr.object({action:lr.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:lr.tuple([lr.number().int(),lr.number().int()]).optional(),duration:lr.number().optional(),scroll_amount:lr.number().optional(),scroll_direction:lr.enum(["up","down","left","right"]).optional(),start_coordinate:lr.tuple([lr.number().int(),lr.number().int()]).optional(),text:lr.string().optional()})))}),p1=s5({id:"anthropic.memory_20250818",inputSchema:sV(()=>sH(lr.discriminatedUnion("command",[lr.object({command:lr.literal("view"),path:lr.string(),view_range:lr.tuple([lr.number(),lr.number()]).optional()}),lr.object({command:lr.literal("create"),path:lr.string(),file_text:lr.string()}),lr.object({command:lr.literal("str_replace"),path:lr.string(),old_str:lr.string(),new_str:lr.string()}),lr.object({command:lr.literal("insert"),path:lr.string(),insert_line:lr.number(),insert_text:lr.string()}),lr.object({command:lr.literal("delete"),path:lr.string()}),lr.object({command:lr.literal("rename"),old_path:lr.string(),new_path:lr.string()})])))}),p2=s5({id:"anthropic.text_editor_20241022",inputSchema:sV(()=>sH(lr.object({command:lr.enum(["view","create","str_replace","insert","undo_edit"]),path:lr.string(),file_text:lr.string().optional(),insert_line:lr.number().int().optional(),new_str:lr.string().optional(),old_str:lr.string().optional(),view_range:lr.array(lr.number().int()).optional()})))}),p3=s5({id:"anthropic.text_editor_20250124",inputSchema:sV(()=>sH(lr.object({command:lr.enum(["view","create","str_replace","insert","undo_edit"]),path:lr.string(),file_text:lr.string().optional(),insert_line:lr.number().int().optional(),new_str:lr.string().optional(),old_str:lr.string().optional(),view_range:lr.array(lr.number().int()).optional()})))}),p6=s5({id:"anthropic.text_editor_20250429",inputSchema:sV(()=>sH(lr.object({command:lr.enum(["view","create","str_replace","insert"]),path:lr.string(),file_text:lr.string().optional(),insert_line:lr.number().int().optional(),new_str:lr.string().optional(),old_str:lr.string().optional(),view_range:lr.array(lr.number().int()).optional()})))}),p5=sV(()=>sH(lr.array(lr.object({type:lr.literal("tool_reference"),toolName:lr.string()})))),p4=s4({id:"anthropic.tool_search_bm25_20251119",inputSchema:sV(()=>sH(lr.object({query:lr.string(),limit:lr.number().optional()}))),outputSchema:p5,supportsDeferredResults:!0}),p8={bash_20241022:pY,bash_20250124:pQ,codeExecution_20250522:(e={})=>pU(e),codeExecution_20250825:(e={})=>pq(e),computer_20241022:pX,computer_20250124:p0,memory_20250818:p1,textEditor_20241022:p2,textEditor_20250124:p3,textEditor_20250429:p6,textEditor_20250728:(e={})=>pR(e),webFetch_20250910:(e={})=>pA(e),webSearch_20250305:(e={})=>pP(e),toolSearchRegex_20251119:(e={})=>pz(e),toolSearchBm25_20251119:(e={})=>p4(e)};!function(e={}){var t,r;let o=null!=(t=lt(sd({settingValue:e.baseURL,environmentVariableName:"ANTHROPIC_BASE_URL"})))?t:"https://api.anthropic.com/v1",n=null!=(r=e.name)?r:"anthropic.messages";if(e.apiKey&&e.authToken)throw new nm({argument:"apiKey/authToken",message:"Both apiKey and authToken were provided. Please use only one authentication method."});let i=()=>si({"anthropic-version":"2023-06-01",...e.authToken?{Authorization:`Bearer ${e.authToken}`}:{"x-api-key":sp({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"})},...e.headers},"ai-sdk/anthropic/3.0.23"),a=t=>{var r;return new pZ(t,{provider:n,baseURL:o,headers:i,fetch:e.fetch,generateId:null!=(r=e.generateId)?r:se,supportedUrls:()=>({"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]})})},s=function(e){if(new.target)throw Error("The Anthropic model function cannot be called with the new keyword.");return a(e)};s.specificationVersion="v3",s.languageModel=a,s.chat=a,s.messages=a,s.embeddingModel=e=>{throw new nA({modelId:e,modelType:"embeddingModel"})},s.textEmbeddingModel=s.embeddingModel,s.imageModel=e=>{throw new nA({modelId:e,modelType:"imageModel"})},s.tools=p8}();var lr=nH,p9=s9({errorSchema:sV(()=>sH(lr.object({error:lr.object({code:lr.number().nullable(),message:lr.string(),status:lr.string()})}))),errorToMessage:e=>e.error.message}),p7=sV(()=>sH(lr.object({outputDimensionality:lr.number().optional(),taskType:lr.enum(["SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING","RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","QUESTION_ANSWERING","FACT_VERIFICATION","CODE_RETRIEVAL_QUERY"]).optional()}))),de=class{constructor(e,t){this.specificationVersion="v3",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:o}){let n=await s0({provider:"google",providerOptions:o,schema:p7});if(e.length>this.maxEmbeddingsPerCall)throw new nU({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let i=aJ(await s8(this.config.headers),t);if(1===e.length){let{responseHeaders:t,value:o,rawValue:a}=await s2({url:`${this.config.baseURL}/models/${this.modelId}:embedContent`,headers:i,body:{model:`models/${this.modelId}`,content:{parts:[{text:e[0]}]},outputDimensionality:null==n?void 0:n.outputDimensionality,taskType:null==n?void 0:n.taskType},failedResponseHandler:p9,successfulResponseHandler:le(dr),abortSignal:r,fetch:this.config.fetch});return{warnings:[],embeddings:[o.embedding.values],usage:void 0,response:{headers:t,body:a}}}let{responseHeaders:a,value:s,rawValue:l}=await s2({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:i,body:{requests:e.map(e=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:e}]},outputDimensionality:null==n?void 0:n.outputDimensionality,taskType:null==n?void 0:n.taskType}))},failedResponseHandler:p9,successfulResponseHandler:le(dt),abortSignal:r,fetch:this.config.fetch});return{warnings:[],embeddings:s.embeddings.map(e=>e.values),usage:void 0,response:{headers:a,body:l}}}},dt=sV(()=>sH(lr.object({embeddings:lr.array(lr.object({values:lr.array(lr.number())}))}))),dr=sV(()=>sH(lr.object({embedding:lr.object({values:lr.array(lr.number())})})));function dn(e){var t,r,o,n;if(null==e)return{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0},raw:void 0};let i=null!=(t=e.promptTokenCount)?t:0,a=null!=(r=e.candidatesTokenCount)?r:0,s=null!=(o=e.cachedContentTokenCount)?o:0,l=null!=(n=e.thoughtsTokenCount)?n:0;return{inputTokens:{total:i,noCache:i-s,cacheRead:s,cacheWrite:void 0},outputTokens:{total:a+l,text:a,reasoning:l},raw:e}}function di(e,t=!0){var r;if(null==e)return;if(null!=(r=e)&&"object"==typeof r&&"object"===r.type&&(null==r.properties||0===Object.keys(r.properties).length)&&!r.additionalProperties)return t?void 0:"object"==typeof e&&e.description?{type:"object",description:e.description}:{type:"object"};if("boolean"==typeof e)return{type:"boolean",properties:{}};let{type:o,description:n,required:i,properties:a,items:s,allOf:l,anyOf:u,oneOf:p,format:d,const:c,minLength:h,enum:m}=e,g={};if(n&&(g.description=n),i&&(g.required=i),d&&(g.format=d),void 0!==c&&(g.enum=[c]),o)if(Array.isArray(o)){let e=o.includes("null"),t=o.filter(e=>"null"!==e);0===t.length?g.type="null":(g.anyOf=t.map(e=>({type:e})),e&&(g.nullable=!0))}else g.type=o;if(void 0!==m&&(g.enum=m),null!=a&&(g.properties=Object.entries(a).reduce((e,[t,r])=>(e[t]=di(r,!1),e),{})),s&&(g.items=Array.isArray(s)?s.map(e=>di(e,!1)):di(s,!1)),l&&(g.allOf=l.map(e=>di(e,!1))),u)if(u.some(e=>"object"==typeof e&&(null==e?void 0:e.type)==="null")){let e=u.filter(e=>"object"!=typeof e||(null==e?void 0:e.type)!=="null");if(1===e.length){let t=di(e[0],!1);"object"==typeof t&&(g.nullable=!0,Object.assign(g,t))}else g.anyOf=e.map(e=>di(e,!1)),g.nullable=!0}else g.anyOf=u.map(e=>di(e,!1));return p&&(g.oneOf=p.map(e=>di(e,!1))),void 0!==h&&(g.minLength=h),g}function da(e){return e.includes("/")?e:`models/${e}`}var ds=sV(()=>sH(lr.object({responseModalities:lr.array(lr.enum(["TEXT","IMAGE"])).optional(),thinkingConfig:lr.object({thinkingBudget:lr.number().optional(),includeThoughts:lr.boolean().optional(),thinkingLevel:lr.enum(["minimal","low","medium","high"]).optional()}).optional(),cachedContent:lr.string().optional(),structuredOutputs:lr.boolean().optional(),safetySettings:lr.array(lr.object({category:lr.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:lr.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"])})).optional(),threshold:lr.enum(["HARM_BLOCK_THRESHOLD_UNSPECIFIED","BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE","OFF"]).optional(),audioTimestamp:lr.boolean().optional(),labels:lr.record(lr.string(),lr.string()).optional(),mediaResolution:lr.enum(["MEDIA_RESOLUTION_UNSPECIFIED","MEDIA_RESOLUTION_LOW","MEDIA_RESOLUTION_MEDIUM","MEDIA_RESOLUTION_HIGH"]).optional(),imageConfig:lr.object({aspectRatio:lr.enum(["1:1","2:3","3:2","3:4","4:3","4:5","5:4","9:16","16:9","21:9"]).optional(),imageSize:lr.enum(["1K","2K","4K"]).optional()}).optional(),retrievalConfig:lr.object({latLng:lr.object({latitude:lr.number(),longitude:lr.number()}).optional()}).optional()})));function dl({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"MALFORMED_FUNCTION_CALL":return"error";default:return"other"}}var du=class{constructor(e,t){var r;this.specificationVersion="v3",this.modelId=e,this.config=t,this.generateId=null!=(r=t.generateId)?r:se}get provider(){return this.config.provider}get supportedUrls(){var e,t,r;return null!=(r=null==(t=(e=this.config).supportedUrls)?void 0:t.call(e))?r:{}}async getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:o,topK:n,frequencyPenalty:i,presencePenalty:a,stopSequences:s,responseFormat:l,seed:u,tools:p,toolChoice:d,providerOptions:c}){var h;let m=[],g=this.config.provider.includes("vertex")?"vertex":"google",f=await s0({provider:g,providerOptions:c,schema:ds});null==f&&"google"!==g&&(f=await s0({provider:"google",providerOptions:c,schema:ds})),(null==p?void 0:p.some(e=>"provider"===e.type&&"google.vertex_rag_store"===e.id))&&!this.config.provider.startsWith("google.vertex.")&&m.push({type:"other",message:`The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});let y=this.modelId.toLowerCase().startsWith("gemma-"),{contents:_,systemInstruction:v}=function(e,t){var r,o,n;let i=[],a=[],s=!0,l=null!=(r=null==t?void 0:t.isGemmaModel)&&r,u=null!=(o=null==t?void 0:t.providerOptionsName)?o:"google";for(let{role:t,content:r}of e)switch(t){case"system":if(!s)throw new nG({functionality:"system messages are only supported at the beginning of the conversation"});i.push({text:r});break;case"user":{s=!1;let e=[];for(let t of r)switch(t.type){case"text":e.push({text:t.text});break;case"file":{let r="image/*"===t.mediaType?"image/jpeg":t.mediaType;e.push(t.data instanceof URL?{fileData:{mimeType:r,fileUri:t.data.toString()}}:{inlineData:{mimeType:r,data:a3(t.data)}})}}a.push({role:"user",parts:e});break}case"assistant":s=!1,a.push({role:"model",parts:r.map(e=>{var t;let r=null==(t=e.providerOptions)?void 0:t[u],o=(null==r?void 0:r.thoughtSignature)!=null?String(r.thoughtSignature):void 0;switch(e.type){case"text":return 0===e.text.length?void 0:{text:e.text,thoughtSignature:o};case"reasoning":return 0===e.text.length?void 0:{text:e.text,thought:!0,thoughtSignature:o};case"file":if(e.data instanceof URL)throw new nG({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:e.mediaType,data:a3(e.data)},thoughtSignature:o};case"tool-call":return{functionCall:{name:e.toolName,args:e.input},thoughtSignature:o}}}).filter(e=>void 0!==e)});break;case"tool":{s=!1;let e=[];for(let t of r){if("tool-approval-response"===t.type)continue;let r=t.output;if("content"===r.type)for(let o of r.value)switch(o.type){case"text":e.push({functionResponse:{name:t.toolName,response:{name:t.toolName,content:o.text}}});break;case"image-data":e.push({inlineData:{mimeType:o.mediaType,data:o.data}},{text:"Tool executed successfully and returned this image as a response"});break;default:e.push({text:JSON.stringify(o)})}else e.push({functionResponse:{name:t.toolName,response:{name:t.toolName,content:"execution-denied"===r.type?null!=(n=r.reason)?n:"Tool execution denied.":r.value}}})}a.push({role:"user",parts:e})}}if(l&&i.length>0&&a.length>0&&"user"===a[0].role){let e=i.map(e=>e.text).join("\n\n");a[0].parts.unshift({text:e+"\n\n"})}return{systemInstruction:i.length>0&&!l?{parts:i}:void 0,contents:a}}(e,{isGemmaModel:y,providerOptionsName:g}),{tools:b,toolConfig:w,toolWarnings:D}=function({tools:e,toolChoice:t,modelId:r}){var o;e=(null==e?void 0:e.length)?e:void 0;let n=[],i=["gemini-flash-latest","gemini-flash-lite-latest","gemini-pro-latest"].some(e=>e===r),a=r.includes("gemini-2")||r.includes("gemini-3")||i,s=r.includes("gemini-1.5-flash")&&!r.includes("-8b"),l=r.includes("gemini-2.5")||r.includes("gemini-3");if(null==e)return{tools:void 0,toolConfig:void 0,toolWarnings:n};let u=e.some(e=>"function"===e.type),p=e.some(e=>"provider"===e.type);if(u&&p&&n.push({type:"unsupported",feature:"combination of function and provider-defined tools"}),p){let t=[];return e.filter(e=>"provider"===e.type).forEach(e=>{switch(e.id){case"google.google_search":a?t.push({googleSearch:{}}):s?t.push({googleSearchRetrieval:{dynamicRetrievalConfig:{mode:e.args.mode,dynamicThreshold:e.args.dynamicThreshold}}}):t.push({googleSearchRetrieval:{}});break;case"google.enterprise_web_search":a?t.push({enterpriseWebSearch:{}}):n.push({type:"unsupported",feature:`provider-defined tool ${e.id}`,details:"Enterprise Web Search requires Gemini 2.0 or newer."});break;case"google.url_context":a?t.push({urlContext:{}}):n.push({type:"unsupported",feature:`provider-defined tool ${e.id}`,details:"The URL context tool is not supported with other Gemini models than Gemini 2."});break;case"google.code_execution":a?t.push({codeExecution:{}}):n.push({type:"unsupported",feature:`provider-defined tool ${e.id}`,details:"The code execution tools is not supported with other Gemini models than Gemini 2."});break;case"google.file_search":l?t.push({fileSearch:{...e.args}}):n.push({type:"unsupported",feature:`provider-defined tool ${e.id}`,details:"The file search tool is only supported with Gemini 2.5 models and Gemini 3 models."});break;case"google.vertex_rag_store":a?t.push({retrieval:{vertex_rag_store:{rag_resources:{rag_corpus:e.args.ragCorpus},similarity_top_k:e.args.topK}}}):n.push({type:"unsupported",feature:`provider-defined tool ${e.id}`,details:"The RAG store tool is not supported with other Gemini models than Gemini 2."});break;case"google.google_maps":a?t.push({googleMaps:{}}):n.push({type:"unsupported",feature:`provider-defined tool ${e.id}`,details:"The Google Maps grounding tool is not supported with Gemini models other than Gemini 2 or newer."});break;default:n.push({type:"unsupported",feature:`provider-defined tool ${e.id}`})}}),{tools:t.length>0?t:void 0,toolConfig:void 0,toolWarnings:n}}let d=[];for(let t of e)"function"===t.type?d.push({name:t.name,description:null!=(o=t.description)?o:"",parameters:di(t.inputSchema)}):n.push({type:"unsupported",feature:`function tool ${t.name}`});if(null==t)return{tools:[{functionDeclarations:d}],toolConfig:void 0,toolWarnings:n};let c=t.type;switch(c){case"auto":return{tools:[{functionDeclarations:d}],toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:n};case"none":return{tools:[{functionDeclarations:d}],toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:n};case"required":return{tools:[{functionDeclarations:d}],toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:n};case"tool":return{tools:[{functionDeclarations:d}],toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[t.toolName]}},toolWarnings:n};default:throw new nG({functionality:`tool choice type: ${c}`})}}({tools:p,toolChoice:d,modelId:this.modelId});return{args:{generationConfig:{maxOutputTokens:t,temperature:r,topK:n,topP:o,frequencyPenalty:i,presencePenalty:a,stopSequences:s,seed:u,responseMimeType:(null==l?void 0:l.type)==="json"?"application/json":void 0,responseSchema:(null==l?void 0:l.type)==="json"&&null!=l.schema&&(null==(h=null==f?void 0:f.structuredOutputs)||h)?di(l.schema):void 0,...(null==f?void 0:f.audioTimestamp)&&{audioTimestamp:f.audioTimestamp},responseModalities:null==f?void 0:f.responseModalities,thinkingConfig:null==f?void 0:f.thinkingConfig,...(null==f?void 0:f.mediaResolution)&&{mediaResolution:f.mediaResolution},...(null==f?void 0:f.imageConfig)&&{imageConfig:f.imageConfig}},contents:_,systemInstruction:y?void 0:v,safetySettings:null==f?void 0:f.safetySettings,tools:b,toolConfig:(null==f?void 0:f.retrievalConfig)?{...w,retrievalConfig:f.retrievalConfig}:w,cachedContent:null==f?void 0:f.cachedContent,labels:null==f?void 0:f.labels},warnings:[...m,...D],providerOptionsName:g}}async doGenerate(e){var t,r,o,n,i,a,s,l,u;let p,{args:d,warnings:c,providerOptionsName:h}=await this.getArgs(e),m=aJ(await s8(this.config.headers),e.headers),{responseHeaders:g,value:f,rawValue:y}=await s2({url:`${this.config.baseURL}/${da(this.modelId)}:generateContent`,headers:m,body:d,failedResponseHandler:p9,successfulResponseHandler:le(df),abortSignal:e.abortSignal,fetch:this.config.fetch}),_=f.candidates[0],v=[],b=null!=(r=null==(t=_.content)?void 0:t.parts)?r:[],w=f.usageMetadata;for(let e of b)if("executableCode"in e&&(null==(o=e.executableCode)?void 0:o.code)){let t=this.config.generateId();p=t,v.push({type:"tool-call",toolCallId:t,toolName:"code_execution",input:JSON.stringify(e.executableCode),providerExecuted:!0})}else"codeExecutionResult"in e&&e.codeExecutionResult?(v.push({type:"tool-result",toolCallId:p,toolName:"code_execution",result:{outcome:e.codeExecutionResult.outcome,output:e.codeExecutionResult.output}}),p=void 0):"text"in e&&null!=e.text&&e.text.length>0?v.push({type:!0===e.thought?"reasoning":"text",text:e.text,providerMetadata:e.thoughtSignature?{[h]:{thoughtSignature:e.thoughtSignature}}:void 0}):"functionCall"in e?v.push({type:"tool-call",toolCallId:this.config.generateId(),toolName:e.functionCall.name,input:JSON.stringify(e.functionCall.args),providerMetadata:e.thoughtSignature?{[h]:{thoughtSignature:e.thoughtSignature}}:void 0}):"inlineData"in e&&v.push({type:"file",data:e.inlineData.data,mediaType:e.inlineData.mimeType,providerMetadata:e.thoughtSignature?{[h]:{thoughtSignature:e.thoughtSignature}}:void 0});for(let e of null!=(n=dp({groundingMetadata:_.groundingMetadata,generateId:this.config.generateId}))?n:[])v.push(e);return{content:v,finishReason:{unified:dl({finishReason:_.finishReason,hasToolCalls:v.some(e=>"tool-call"===e.type&&!e.providerExecuted)}),raw:null!=(i=_.finishReason)?i:void 0},usage:dn(w),warnings:c,providerMetadata:{[h]:{promptFeedback:null!=(a=f.promptFeedback)?a:null,groundingMetadata:null!=(s=_.groundingMetadata)?s:null,urlContextMetadata:null!=(l=_.urlContextMetadata)?l:null,safetyRatings:null!=(u=_.safetyRatings)?u:null,usageMetadata:null!=w?w:null}},request:{body:d},response:{headers:g,body:y}}}async doStream(e){let t,r,o,{args:n,warnings:i,providerOptionsName:a}=await this.getArgs(e),s=aJ(await s8(this.config.headers),e.headers),{responseHeaders:l,value:u}=await s2({url:`${this.config.baseURL}/${da(this.modelId)}:streamGenerateContent?alt=sse`,headers:s,body:n,failedResponseHandler:p9,successfulResponseHandler:s7(dy),abortSignal:e.abortSignal,fetch:this.config.fetch}),p={unified:"other",raw:void 0},d=this.config.generateId,c=!1,h=null,m=null,g=0,f=new Set;return{stream:u.pipeThrough(new TransformStream({start(e){e.enqueue({type:"stream-start",warnings:i})},transform(n,i){var s,l,u,y,_,v,b;if(e.includeRawChunks&&i.enqueue({type:"raw",rawValue:n.rawValue}),!n.success)return void i.enqueue({type:"error",error:n.error});let w=n.value,D=w.usageMetadata;null!=D&&(r=D);let C=null==(s=w.candidates)?void 0:s[0];if(null==C)return;let E=C.content,k=dp({groundingMetadata:C.groundingMetadata,generateId:d});if(null!=k)for(let e of k)"url"!==e.sourceType||f.has(e.url)||(f.add(e.url),i.enqueue(e));if(null!=E){for(let e of null!=(l=E.parts)?l:[])if("executableCode"in e&&(null==(u=e.executableCode)?void 0:u.code)){let r=d();t=r,i.enqueue({type:"tool-call",toolCallId:r,toolName:"code_execution",input:JSON.stringify(e.executableCode),providerExecuted:!0})}else if("codeExecutionResult"in e&&e.codeExecutionResult){let r=t;r&&(i.enqueue({type:"tool-result",toolCallId:r,toolName:"code_execution",result:{outcome:e.codeExecutionResult.outcome,output:e.codeExecutionResult.output}}),t=void 0)}else"text"in e&&null!=e.text&&e.text.length>0?!0===e.thought?(null!==h&&(i.enqueue({type:"text-end",id:h}),h=null),null===m&&(m=String(g++),i.enqueue({type:"reasoning-start",id:m,providerMetadata:e.thoughtSignature?{[a]:{thoughtSignature:e.thoughtSignature}}:void 0})),i.enqueue({type:"reasoning-delta",id:m,delta:e.text,providerMetadata:e.thoughtSignature?{[a]:{thoughtSignature:e.thoughtSignature}}:void 0})):(null!==m&&(i.enqueue({type:"reasoning-end",id:m}),m=null),null===h&&(h=String(g++),i.enqueue({type:"text-start",id:h,providerMetadata:e.thoughtSignature?{[a]:{thoughtSignature:e.thoughtSignature}}:void 0})),i.enqueue({type:"text-delta",id:h,delta:e.text,providerMetadata:e.thoughtSignature?{[a]:{thoughtSignature:e.thoughtSignature}}:void 0})):"inlineData"in e&&i.enqueue({type:"file",mediaType:e.inlineData.mimeType,data:e.inlineData.data});let e=function({parts:e,generateId:t,providerOptionsName:r}){let o=null==e?void 0:e.filter(e=>"functionCall"in e);return null==o||0===o.length?void 0:o.map(e=>({type:"tool-call",toolCallId:t(),toolName:e.functionCall.name,args:JSON.stringify(e.functionCall.args),providerMetadata:e.thoughtSignature?{[r]:{thoughtSignature:e.thoughtSignature}}:void 0}))}({parts:E.parts,generateId:d,providerOptionsName:a});if(null!=e)for(let t of e)i.enqueue({type:"tool-input-start",id:t.toolCallId,toolName:t.toolName,providerMetadata:t.providerMetadata}),i.enqueue({type:"tool-input-delta",id:t.toolCallId,delta:t.args,providerMetadata:t.providerMetadata}),i.enqueue({type:"tool-input-end",id:t.toolCallId,providerMetadata:t.providerMetadata}),i.enqueue({type:"tool-call",toolCallId:t.toolCallId,toolName:t.toolName,input:t.args,providerMetadata:t.providerMetadata}),c=!0}null!=C.finishReason&&(p={unified:dl({finishReason:C.finishReason,hasToolCalls:c}),raw:C.finishReason},o={[a]:{promptFeedback:null!=(y=w.promptFeedback)?y:null,groundingMetadata:null!=(_=C.groundingMetadata)?_:null,urlContextMetadata:null!=(v=C.urlContextMetadata)?v:null,safetyRatings:null!=(b=C.safetyRatings)?b:null}},null!=D&&(o[a].usageMetadata=D))},flush(e){null!==h&&e.enqueue({type:"text-end",id:h}),null!==m&&e.enqueue({type:"reasoning-end",id:m}),e.enqueue({type:"finish",finishReason:p,usage:dn(r),providerMetadata:o})}})),response:{headers:l},request:{body:n}}}};function dp({groundingMetadata:e,generateId:t}){var r,o,n,i,a;if(!(null==e?void 0:e.groundingChunks))return;let s=[];for(let l of e.groundingChunks)if(null!=l.web)s.push({type:"source",sourceType:"url",id:t(),url:l.web.uri,title:null!=(r=l.web.title)?r:void 0});else if(null!=l.retrievedContext){let e=l.retrievedContext.uri,r=l.retrievedContext.fileSearchStore;if(e&&(e.startsWith("http://")||e.startsWith("https://")))s.push({type:"source",sourceType:"url",id:t(),url:e,title:null!=(o=l.retrievedContext.title)?o:void 0});else if(e){let r,o=null!=(n=l.retrievedContext.title)?n:"Unknown Document",i="application/octet-stream";e.endsWith(".pdf")?i="application/pdf":e.endsWith(".txt")?i="text/plain":e.endsWith(".docx")?i="application/vnd.openxmlformats-officedocument.wordprocessingml.document":e.endsWith(".doc")?i="application/msword":e.match(/\.(md|markdown)$/)&&(i="text/markdown"),r=e.split("/").pop(),s.push({type:"source",sourceType:"document",id:t(),mediaType:i,title:o,filename:r})}else if(r){let e=null!=(i=l.retrievedContext.title)?i:"Unknown Document";s.push({type:"source",sourceType:"document",id:t(),mediaType:"application/octet-stream",title:e,filename:r.split("/").pop()})}}else null!=l.maps&&l.maps.uri&&s.push({type:"source",sourceType:"url",id:t(),url:l.maps.uri,title:null!=(a=l.maps.title)?a:void 0});return s.length>0?s:void 0}var dd=()=>lr.object({webSearchQueries:lr.array(lr.string()).nullish(),retrievalQueries:lr.array(lr.string()).nullish(),searchEntryPoint:lr.object({renderedContent:lr.string()}).nullish(),groundingChunks:lr.array(lr.object({web:lr.object({uri:lr.string(),title:lr.string().nullish()}).nullish(),retrievedContext:lr.object({uri:lr.string().nullish(),title:lr.string().nullish(),text:lr.string().nullish(),fileSearchStore:lr.string().nullish()}).nullish(),maps:lr.object({uri:lr.string().nullish(),title:lr.string().nullish(),text:lr.string().nullish(),placeId:lr.string().nullish()}).nullish()})).nullish(),groundingSupports:lr.array(lr.object({segment:lr.object({startIndex:lr.number().nullish(),endIndex:lr.number().nullish(),text:lr.string().nullish()}),segment_text:lr.string().nullish(),groundingChunkIndices:lr.array(lr.number()).nullish(),supportChunkIndices:lr.array(lr.number()).nullish(),confidenceScores:lr.array(lr.number()).nullish(),confidenceScore:lr.array(lr.number()).nullish()})).nullish(),retrievalMetadata:lr.union([lr.object({webDynamicRetrievalScore:lr.number()}),lr.object({})]).nullish()}),dc=()=>lr.object({parts:lr.array(lr.union([lr.object({functionCall:lr.object({name:lr.string(),args:lr.unknown()}),thoughtSignature:lr.string().nullish()}),lr.object({inlineData:lr.object({mimeType:lr.string(),data:lr.string()}),thoughtSignature:lr.string().nullish()}),lr.object({executableCode:lr.object({language:lr.string(),code:lr.string()}).nullish(),codeExecutionResult:lr.object({outcome:lr.string(),output:lr.string()}).nullish(),text:lr.string().nullish(),thought:lr.boolean().nullish(),thoughtSignature:lr.string().nullish()})])).nullish()}),dh=()=>lr.object({category:lr.string().nullish(),probability:lr.string().nullish(),probabilityScore:lr.number().nullish(),severity:lr.string().nullish(),severityScore:lr.number().nullish(),blocked:lr.boolean().nullish()}),dm=lr.object({cachedContentTokenCount:lr.number().nullish(),thoughtsTokenCount:lr.number().nullish(),promptTokenCount:lr.number().nullish(),candidatesTokenCount:lr.number().nullish(),totalTokenCount:lr.number().nullish(),trafficType:lr.string().nullish()}),dg=()=>lr.object({urlMetadata:lr.array(lr.object({retrievedUrl:lr.string(),urlRetrievalStatus:lr.string()}))}),df=sV(()=>sH(lr.object({candidates:lr.array(lr.object({content:dc().nullish().or(lr.object({}).strict()),finishReason:lr.string().nullish(),safetyRatings:lr.array(dh()).nullish(),groundingMetadata:dd().nullish(),urlContextMetadata:dg().nullish()})),usageMetadata:dm.nullish(),promptFeedback:lr.object({blockReason:lr.string().nullish(),safetyRatings:lr.array(dh()).nullish()}).nullish()}))),dy=sV(()=>sH(lr.object({candidates:lr.array(lr.object({content:dc().nullish(),finishReason:lr.string().nullish(),safetyRatings:lr.array(dh()).nullish(),groundingMetadata:dd().nullish(),urlContextMetadata:dg().nullish()})).nullish(),usageMetadata:dm.nullish(),promptFeedback:lr.object({blockReason:lr.string().nullish(),safetyRatings:lr.array(dh()).nullish()}).nullish()}))),d_=s4({id:"google.code_execution",inputSchema:lr.object({language:lr.string().describe("The programming language of the code."),code:lr.string().describe("The code to be executed.")}),outputSchema:lr.object({outcome:lr.string().describe('The outcome of the execution (e.g., "OUTCOME_OK").'),output:lr.string().describe("The output from the code execution.")})}),dv=s5({id:"google.enterprise_web_search",inputSchema:sV(()=>sH(lr.object({})))}),db=lr.object({fileSearchStoreNames:lr.array(lr.string()).describe("The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`"),topK:lr.number().int().positive().describe("The number of file search retrieval chunks to retrieve.").optional(),metadataFilter:lr.string().describe("Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.").optional()}).passthrough(),dw=s5({id:"google.file_search",inputSchema:sV(()=>sH(db))}),dD=s5({id:"google.google_maps",inputSchema:sV(()=>sH(lr.object({})))}),dC={googleSearch:s5({id:"google.google_search",inputSchema:sV(()=>sH(lr.object({mode:lr.enum(["MODE_DYNAMIC","MODE_UNSPECIFIED"]).default("MODE_UNSPECIFIED"),dynamicThreshold:lr.number().default(1)})))}),enterpriseWebSearch:dv,googleMaps:dD,urlContext:s5({id:"google.url_context",inputSchema:sV(()=>sH(lr.object({})))}),fileSearch:dw,codeExecution:d_,vertexRagStore:s5({id:"google.vertex_rag_store",inputSchema:lr.object({ragCorpus:lr.string(),topK:lr.number().optional()})})},dE=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v3"}get maxImagesPerCall(){var e;return null!=(e=this.settings.maxImagesPerCall)?e:4}get provider(){return this.config.provider}async doGenerate(e){var t,r,o;let{prompt:n,n:i=1,size:a,aspectRatio:s="1:1",seed:l,providerOptions:u,headers:p,abortSignal:d,files:c,mask:h}=e,m=[];if(null!=c&&c.length>0)throw Error("Google Generative AI does not support image editing. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");if(null!=h)throw Error("Google Generative AI does not support image editing with masks. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.");null!=a&&m.push({type:"unsupported",feature:"size",details:"This model does not support the `size` option. Use `aspectRatio` instead."}),null!=l&&m.push({type:"unsupported",feature:"seed",details:"This model does not support the `seed` option through this provider."});let g=await s0({provider:"google",providerOptions:u,schema:dx}),f=null!=(o=null==(r=null==(t=this.config._internal)?void 0:t.currentDate)?void 0:r.call(t))?o:new Date,y={sampleCount:i};null!=s&&(y.aspectRatio=s),g&&Object.assign(y,g);let{responseHeaders:_,value:v}=await s2({url:`${this.config.baseURL}/models/${this.modelId}:predict`,headers:aJ(await s8(this.config.headers),p),body:{instances:[{prompt:n}],parameters:y},failedResponseHandler:p9,successfulResponseHandler:le(dk),abortSignal:d,fetch:this.config.fetch});return{images:v.predictions.map(e=>e.bytesBase64Encoded),warnings:null!=m?m:[],providerMetadata:{google:{images:v.predictions.map(e=>({}))}},response:{timestamp:f,modelId:this.modelId,headers:_}}}},dk=sV(()=>sH(lr.object({predictions:lr.array(lr.object({bytesBase64Encoded:lr.string()})).default([])}))),dx=sV(()=>sH(lr.object({personGeneration:lr.enum(["dont_allow","allow_adult","allow_all"]).nullish(),aspectRatio:lr.enum(["1:1","3:4","4:3","9:16","16:9"]).nullish()})));!function(e={}){var t,r;let o=null!=(t=lt(e.baseURL))?t:"https://generativelanguage.googleapis.com/v1beta",n=null!=(r=e.name)?r:"google.generative-ai",i=()=>si({"x-goog-api-key":sp({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers},"ai-sdk/google/3.0.13"),a=t=>{var r;return new du(t,{provider:n,baseURL:o,headers:i,generateId:null!=(r=e.generateId)?r:se,supportedUrls:()=>({"*":[RegExp(`^${o}/files/.*$`),RegExp("^https://(?:www\\.)?youtube\\.com/watch\\?v=[\\w-]+(?:&[\\w=&.-]*)?$"),RegExp("^https://youtu\\.be/[\\w-]+(?:\\?[\\w=&.-]*)?$")]}),fetch:e.fetch})},s=t=>new de(t,{provider:n,baseURL:o,headers:i,fetch:e.fetch}),l=(t,r={})=>new dE(t,r,{provider:n,baseURL:o,headers:i,fetch:e.fetch}),u=function(e){if(new.target)throw Error("The Google Generative AI model function cannot be called with the new keyword.");return a(e)};u.specificationVersion="v3",u.languageModel=a,u.chat=a,u.generativeAI=a,u.embedding=s,u.embeddingModel=s,u.textEmbedding=s,u.textEmbeddingModel=s,u.image=l,u.imageModel=l,u.tools=dC}();var dT=Object.create,dS=Object.defineProperty,dR=Object.getOwnPropertyDescriptor,dj=e=>{throw TypeError(e)},dF=(e,t)=>{for(var r in t)dS(e,r,{get:t[r],enumerable:!0})},dP=["class","method","getter","setter","accessor","field","value","get","set"],dO=e=>void 0!==e&&"function"!=typeof e?dj("Function expected"):e,dI=(e,t,r,o,n)=>({kind:dP[e],name:t,metadata:o,addInitializer:e=>r._?dj("Already initialized"):n.push(dO(e||null))});function dA(e,t=e){return eC(`\u001B]8;;${e}\u0007`)+t+eC(`\u001B]8;;\u0007`)}var dN=new class extends e1{constructor(e,t){super({...e??{}},t,NaN)}log(e,t,...r){return super.log(e,t,...r)}silly(...e){return super.log(0,"SILLY",...e)}trace(...e){return super.log(1,"TRACE",...e)}debug(...e){return super.log(2,"DEBUG",...e)}info(...e){return super.log(3,"INFO",...e)}warn(...e){return super.log(4,"WARN",...e)}error(...e){return super.log(5,"ERROR",...e)}fatal(...e){return super.log(6,"FATAL",...e)}getSubLogger(e,t){return super.getSubLogger(e,t)}}({hideLogPositionForProduction:!0,prettyLogTemplate:"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}	{{logLevelName}}	"});b=process.env.OPIK_LOG_LEVEL||"INFO",dN.settings.minLevel=({SILLY:0,TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,FATAL:6})[b];var dB={apiKey:"",apiUrl:"https://www.comet.com/opik/api",projectName:"Default Project",workspaceName:"default",batchDelayMs:300,holdUntilFlush:!1};function dM(e){return Object.fromEntries(Object.entries(e).filter(([,e])=>void 0!==e))}function dU(e,t){return JSON.parse(e,t)}dF({},{AlertAlertType:()=>cP,AlertPublicAlertType:()=>cO,AlertTriggerConfigPublicType:()=>cI,AlertTriggerConfigType:()=>cA,AlertTriggerConfigWriteType:()=>cN,AlertTriggerEventType:()=>cB,AlertTriggerPublicEventType:()=>cM,AlertTriggerWriteEventType:()=>cU,AlertWriteAlertType:()=>cL,AnnotationQueuePublicScope:()=>cq,AnnotationQueueScope:()=>c$,AnnotationQueueWriteScope:()=>cz,AssistantMessageRole:()=>cW,AttachmentListRequestEntityType:()=>dX,AutomationRuleEvaluatorAction:()=>cV,AutomationRuleEvaluatorObjectObjectPublicAction:()=>cK,AutomationRuleEvaluatorPublicAction:()=>cG,AutomationRuleEvaluatorUpdateAction:()=>cH,AutomationRuleEvaluatorWriteAction:()=>cZ,BadRequestError:()=>d$,CheckName:()=>cJ,CheckPublicName:()=>cY,CheckPublicResult:()=>cQ,CheckResult:()=>cX,ColumnCompareTypesItem:()=>c0,ColumnPublicTypesItem:()=>c1,ColumnTypesItem:()=>c2,CompleteMultipartUploadRequestEntityType:()=>c3,ConflictError:()=>dz,CreatePromptVersionDetailTemplateStructure:()=>c_,DatasetExportJobPublicStatus:()=>c6,DatasetItemCompareSource:()=>c5,DatasetItemFilterOperator:()=>c4,DatasetItemPublicSource:()=>c8,DatasetItemSource:()=>c9,DatasetItemWriteSource:()=>c7,DatasetPublicStatus:()=>he,DatasetPublicVisibility:()=>ht,DatasetStatus:()=>hr,DatasetUpdateVisibility:()=>d9,DatasetVisibility:()=>ho,DatasetWriteVisibility:()=>d7,DeleteAttachmentsRequestEntityType:()=>hn,DownloadAttachmentRequestEntityType:()=>d0,ExperimentItemCompareTraceVisibilityMode:()=>hi,ExperimentItemPublicTraceVisibilityMode:()=>ha,ExperimentItemTraceVisibilityMode:()=>hs,ExperimentPublicStatus:()=>hl,ExperimentPublicType:()=>hu,ExperimentStatus:()=>hp,ExperimentType:()=>hd,ExperimentUpdateStatus:()=>hc,ExperimentUpdateType:()=>hh,ExperimentWriteStatus:()=>ct,ExperimentWriteType:()=>cr,FeedbackScoreBatchItemSource:()=>hm,FeedbackScoreBatchItemThreadSource:()=>hg,FeedbackScoreCompareSource:()=>hf,FeedbackScoreExperimentItemBulkWriteViewSource:()=>hy,FeedbackScorePublicSource:()=>h_,FeedbackScoreSource:()=>hv,FindFeedbackDefinitionsRequestType:()=>cn,FindFeedbackScoreNames1RequestType:()=>cE,ForbiddenError:()=>dW,GetSpanStatsRequestType:()=>ck,GetSpansByProjectRequestType:()=>cx,GetWebhookExamplesRequestAlertType:()=>dJ,GuardrailName:()=>hb,GuardrailResult:()=>hw,GuardrailWriteName:()=>hD,GuardrailWriteResult:()=>hC,LlmAsJudgeMessagePublicRole:()=>hE,LlmAsJudgeMessageRole:()=>hk,LlmAsJudgeMessageWriteRole:()=>hx,LlmAsJudgeOutputSchemaPublicType:()=>hT,LlmAsJudgeOutputSchemaType:()=>hS,LlmAsJudgeOutputSchemaWriteType:()=>hR,LogItemLevel:()=>hj,ManualEvaluationRequestEntityType:()=>hF,NotFoundError:()=>dV,NotImplementedError:()=>dK,OptimizationPublicStatus:()=>hP,OptimizationStatus:()=>hO,OptimizationUpdateStatus:()=>cd,OptimizationWriteStatus:()=>hI,ProjectDetailedVisibility:()=>hA,ProjectMetricRequestPublicInterval:()=>ch,ProjectMetricRequestPublicMetricType:()=>cm,ProjectMetricResponsePublicInterval:()=>hN,ProjectMetricResponsePublicMetricType:()=>hB,ProjectPublicVisibility:()=>hM,ProjectUpdateVisibility:()=>cg,ProjectVisibility:()=>hU,ProjectWriteVisibility:()=>cf,PromptDetailTemplateStructure:()=>hL,PromptPublicTemplateStructure:()=>hq,PromptTemplateStructure:()=>h$,PromptType:()=>hz,PromptVersionDetailTemplateStructure:()=>hW,PromptVersionDetailType:()=>hV,PromptVersionPublicTemplateStructure:()=>hK,PromptVersionPublicType:()=>hG,PromptVersionTemplateStructure:()=>hH,PromptVersionType:()=>hZ,PromptWriteTemplateStructure:()=>cv,PromptWriteType:()=>cb,ProviderApiKeyProvider:()=>hJ,ProviderApiKeyPublicProvider:()=>hY,ProviderApiKeyWriteProvider:()=>cs,ResponseFormatType:()=>hQ,SpanExperimentItemBulkWriteViewType:()=>hX,SpanFilterOperator:()=>h0,SpanFilterPublicOperator:()=>h1,SpanFilterWriteOperator:()=>h2,SpanPublicType:()=>h3,SpanSearchStreamRequestPublicType:()=>cT,SpanType:()=>h6,SpanUpdateType:()=>h5,SpanWriteType:()=>h4,StartMultipartUploadRequestEntityType:()=>d1,ToolCallType:()=>h8,ToolType:()=>h9,TraceFilterOperator:()=>h7,TraceFilterPublicOperator:()=>me,TraceFilterWriteOperator:()=>mt,TracePublicVisibilityMode:()=>mr,TraceThreadFilterOperator:()=>mo,TraceThreadFilterPublicOperator:()=>mn,TraceThreadFilterWriteOperator:()=>mi,TraceThreadStatus:()=>ma,TraceVisibilityMode:()=>ms,UnauthorizedError:()=>dG,UnprocessableEntityError:()=>dH,UploadAttachmentRequestEntityType:()=>d2,ValueEntryCompareSource:()=>ml,ValueEntryExperimentItemBulkWriteViewSource:()=>mu,ValueEntryPublicSource:()=>mp,ValueEntrySource:()=>md,WebhookTestResultStatus:()=>mc,alerts:()=>dZ,annotationQueues:()=>dY,attachments:()=>dQ,automationRuleEvaluators:()=>d3,chatCompletions:()=>d6,check:()=>d5,dashboards:()=>d4,datasets:()=>d8,experiments:()=>ce,feedbackDefinitions:()=>co,guardrails:()=>ci,llmProviderKey:()=>ca,manualEvaluation:()=>cl,openTelemetryIngestion:()=>cu,optimizations:()=>cp,projects:()=>cc,prompts:()=>cy,redirect:()=>cw,serviceToggles:()=>cD,spans:()=>cC,systemUsage:()=>cS,traces:()=>cR,welcomeWizard:()=>cj,workspaces:()=>cF});var dL=class extends Error{constructor({message:e,statusCode:t,body:r,rawResponse:o}){super(function({message:e,statusCode:t,body:r}){let o=[];return null!=e&&o.push(e),null!=t&&o.push(`Status code: ${t.toString()}`),null!=r&&o.push(`Body: ${JSON.stringify(r,void 0,2)}`),o.join(`
`)}({message:e,statusCode:t,body:r})),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.statusCode=t,this.body=r,this.rawResponse=o}},dq=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},d$=class extends dL{constructor(e,t){super({message:"BadRequestError",statusCode:400,body:e,rawResponse:t}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},dz=class extends dL{constructor(e,t){super({message:"ConflictError",statusCode:409,body:e,rawResponse:t}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},dW=class extends dL{constructor(e,t){super({message:"ForbiddenError",statusCode:403,body:e,rawResponse:t}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},dV=class extends dL{constructor(e,t){super({message:"NotFoundError",statusCode:404,body:e,rawResponse:t}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},dK=class extends dL{constructor(e,t){super({message:"NotImplementedError",statusCode:501,body:e,rawResponse:t}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},dG=class extends dL{constructor(e,t){super({message:"UnauthorizedError",statusCode:401,body:e,rawResponse:t}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},dH=class extends dL{constructor(e,t){super({message:"UnprocessableEntityError",statusCode:422,body:e,rawResponse:t}),Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}},dZ={};dF(dZ,{GetWebhookExamplesRequestAlertType:()=>dJ});var dJ={General:"general",Slack:"slack",Pagerduty:"pagerduty"},dY={},dQ={};dF(dQ,{AttachmentListRequestEntityType:()=>dX,DownloadAttachmentRequestEntityType:()=>d0,StartMultipartUploadRequestEntityType:()=>d1,UploadAttachmentRequestEntityType:()=>d2});var dX={Trace:"trace",Span:"span"},d0={Trace:"trace",Span:"span"},d1={Trace:"trace",Span:"span"},d2={Trace:"trace",Span:"span"},d3={},d6={},d5={},d4={},d8={};dF(d8,{DatasetUpdateVisibility:()=>d9,DatasetWriteVisibility:()=>d7});var d9={Private:"private",Public:"public"},d7={Private:"private",Public:"public"},ce={};dF(ce,{ExperimentWriteStatus:()=>ct,ExperimentWriteType:()=>cr});var ct={Running:"running",Completed:"completed",Cancelled:"cancelled"},cr={Regular:"regular",Trial:"trial",MiniBatch:"mini-batch"},co={};dF(co,{FindFeedbackDefinitionsRequestType:()=>cn});var cn={Numerical:"numerical",Categorical:"categorical",Boolean:"boolean"},ci={},ca={};dF(ca,{ProviderApiKeyWriteProvider:()=>cs});var cs={Openai:"openai",Anthropic:"anthropic",Gemini:"gemini",Openrouter:"openrouter",VertexAi:"vertex-ai",Bedrock:"bedrock",CustomLlm:"custom-llm",OpikFree:"opik-free"},cl={},cu={},cp={};dF(cp,{OptimizationUpdateStatus:()=>cd});var cd={Running:"running",Completed:"completed",Cancelled:"cancelled",Initialized:"initialized",Error:"error"},cc={};dF(cc,{ProjectMetricRequestPublicInterval:()=>ch,ProjectMetricRequestPublicMetricType:()=>cm,ProjectUpdateVisibility:()=>cg,ProjectWriteVisibility:()=>cf});var ch={Hourly:"HOURLY",Daily:"DAILY",Weekly:"WEEKLY"},cm={FeedbackScores:"FEEDBACK_SCORES",TraceCount:"TRACE_COUNT",TokenUsage:"TOKEN_USAGE",Duration:"DURATION",Cost:"COST",GuardrailsFailedCount:"GUARDRAILS_FAILED_COUNT",ThreadCount:"THREAD_COUNT",ThreadDuration:"THREAD_DURATION",ThreadFeedbackScores:"THREAD_FEEDBACK_SCORES",SpanFeedbackScores:"SPAN_FEEDBACK_SCORES",SpanCount:"SPAN_COUNT",SpanDuration:"SPAN_DURATION",SpanTokenUsage:"SPAN_TOKEN_USAGE"},cg={Private:"private",Public:"public"},cf={Private:"private",Public:"public"},cy={};dF(cy,{CreatePromptVersionDetailTemplateStructure:()=>c_,PromptWriteTemplateStructure:()=>cv,PromptWriteType:()=>cb});var c_={Text:"text",Chat:"chat"},cv={Text:"text",Chat:"chat"},cb={Mustache:"mustache",Jinja2:"jinja2"},cw={},cD={},cC={};dF(cC,{FindFeedbackScoreNames1RequestType:()=>cE,GetSpanStatsRequestType:()=>ck,GetSpansByProjectRequestType:()=>cx,SpanSearchStreamRequestPublicType:()=>cT});var cE={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},ck={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},cx={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},cT={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},cS={},cR={},cj={},cF={},cP={General:"general",Slack:"slack",Pagerduty:"pagerduty"},cO={General:"general",Slack:"slack",Pagerduty:"pagerduty"},cI={ScopeProject:"scope:project",ThresholdFeedbackScore:"threshold:feedback_score",ThresholdCost:"threshold:cost",ThresholdLatency:"threshold:latency",ThresholdErrors:"threshold:errors"},cA={ScopeProject:"scope:project",ThresholdFeedbackScore:"threshold:feedback_score",ThresholdCost:"threshold:cost",ThresholdLatency:"threshold:latency",ThresholdErrors:"threshold:errors"},cN={ScopeProject:"scope:project",ThresholdFeedbackScore:"threshold:feedback_score",ThresholdCost:"threshold:cost",ThresholdLatency:"threshold:latency",ThresholdErrors:"threshold:errors"},cB={TraceErrors:"trace:errors",TraceFeedbackScore:"trace:feedback_score",TraceThreadFeedbackScore:"trace_thread:feedback_score",PromptCreated:"prompt:created",PromptCommitted:"prompt:committed",TraceGuardrailsTriggered:"trace:guardrails_triggered",PromptDeleted:"prompt:deleted",ExperimentFinished:"experiment:finished",TraceCost:"trace:cost",TraceLatency:"trace:latency"},cM={TraceErrors:"trace:errors",TraceFeedbackScore:"trace:feedback_score",TraceThreadFeedbackScore:"trace_thread:feedback_score",PromptCreated:"prompt:created",PromptCommitted:"prompt:committed",TraceGuardrailsTriggered:"trace:guardrails_triggered",PromptDeleted:"prompt:deleted",ExperimentFinished:"experiment:finished",TraceCost:"trace:cost",TraceLatency:"trace:latency"},cU={TraceErrors:"trace:errors",TraceFeedbackScore:"trace:feedback_score",TraceThreadFeedbackScore:"trace_thread:feedback_score",PromptCreated:"prompt:created",PromptCommitted:"prompt:committed",TraceGuardrailsTriggered:"trace:guardrails_triggered",PromptDeleted:"prompt:deleted",ExperimentFinished:"experiment:finished",TraceCost:"trace:cost",TraceLatency:"trace:latency"},cL={General:"general",Slack:"slack",Pagerduty:"pagerduty"},cq={Trace:"trace",Thread:"thread"},c$={Trace:"trace",Thread:"thread"},cz={Trace:"trace",Thread:"thread"},cW={System:"system",User:"user",Assistant:"assistant",Tool:"tool",Function:"function"},cV={Evaluator:"evaluator"},cK={Evaluator:"evaluator"},cG={Evaluator:"evaluator"},cH={Evaluator:"evaluator"},cZ={Evaluator:"evaluator"},cJ={Topic:"TOPIC",Pii:"PII"},cY={Topic:"TOPIC",Pii:"PII"},cQ={Passed:"passed",Failed:"failed"},cX={Passed:"passed",Failed:"failed"},c0={String:"string",Number:"number",Object:"object",Boolean:"boolean",Array:"array",Null:"null"},c1={String:"string",Number:"number",Object:"object",Boolean:"boolean",Array:"array",Null:"null"},c2={String:"string",Number:"number",Object:"object",Boolean:"boolean",Array:"array",Null:"null"},c3={Trace:"trace",Span:"span"},c6={Pending:"PENDING",Processing:"PROCESSING",Completed:"COMPLETED",Failed:"FAILED"},c5={Manual:"manual",Trace:"trace",Span:"span",Sdk:"sdk"},c4={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},c8={Manual:"manual",Trace:"trace",Span:"span",Sdk:"sdk"},c9={Manual:"manual",Trace:"trace",Span:"span",Sdk:"sdk"},c7={Manual:"manual",Trace:"trace",Span:"span",Sdk:"sdk"},he={Unknown:"unknown",Processing:"processing",Completed:"completed",Failed:"failed"},ht={Private:"private",Public:"public"},hr={Unknown:"unknown",Processing:"processing",Completed:"completed",Failed:"failed"},ho={Private:"private",Public:"public"},hn={Trace:"trace",Span:"span"},hi={Default:"default",Hidden:"hidden"},ha={Default:"default",Hidden:"hidden"},hs={Default:"default",Hidden:"hidden"},hl={Running:"running",Completed:"completed",Cancelled:"cancelled"},hu={Regular:"regular",Trial:"trial",MiniBatch:"mini-batch"},hp={Running:"running",Completed:"completed",Cancelled:"cancelled"},hd={Regular:"regular",Trial:"trial",MiniBatch:"mini-batch"},hc={Running:"running",Completed:"completed",Cancelled:"cancelled"},hh={Regular:"regular",Trial:"trial",MiniBatch:"mini-batch"},hm={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},hg={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},hf={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},hy={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},h_={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},hv={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},hb={Topic:"TOPIC",Pii:"PII"},hw={Passed:"passed",Failed:"failed"},hD={Topic:"TOPIC",Pii:"PII"},hC={Passed:"passed",Failed:"failed"},hE={System:"SYSTEM",User:"USER",Ai:"AI",ToolExecutionResult:"TOOL_EXECUTION_RESULT",Custom:"CUSTOM"},hk={System:"SYSTEM",User:"USER",Ai:"AI",ToolExecutionResult:"TOOL_EXECUTION_RESULT",Custom:"CUSTOM"},hx={System:"SYSTEM",User:"USER",Ai:"AI",ToolExecutionResult:"TOOL_EXECUTION_RESULT",Custom:"CUSTOM"},hT={Boolean:"BOOLEAN",Integer:"INTEGER",Double:"DOUBLE"},hS={Boolean:"BOOLEAN",Integer:"INTEGER",Double:"DOUBLE"},hR={Boolean:"BOOLEAN",Integer:"INTEGER",Double:"DOUBLE"},hj={Info:"INFO",Warn:"WARN",Error:"ERROR",Debug:"DEBUG",Trace:"TRACE"},hF={Trace:"trace",Thread:"thread",Span:"span"},hP={Running:"running",Completed:"completed",Cancelled:"cancelled",Initialized:"initialized",Error:"error"},hO={Running:"running",Completed:"completed",Cancelled:"cancelled",Initialized:"initialized",Error:"error"},hI={Running:"running",Completed:"completed",Cancelled:"cancelled",Initialized:"initialized",Error:"error"},hA={Private:"private",Public:"public"},hN={Hourly:"HOURLY",Daily:"DAILY",Weekly:"WEEKLY"},hB={FeedbackScores:"FEEDBACK_SCORES",TraceCount:"TRACE_COUNT",TokenUsage:"TOKEN_USAGE",Duration:"DURATION",Cost:"COST",GuardrailsFailedCount:"GUARDRAILS_FAILED_COUNT",ThreadCount:"THREAD_COUNT",ThreadDuration:"THREAD_DURATION",ThreadFeedbackScores:"THREAD_FEEDBACK_SCORES",SpanFeedbackScores:"SPAN_FEEDBACK_SCORES",SpanCount:"SPAN_COUNT",SpanDuration:"SPAN_DURATION",SpanTokenUsage:"SPAN_TOKEN_USAGE"},hM={Private:"private",Public:"public"},hU={Private:"private",Public:"public"},hL={Text:"text",Chat:"chat"},hq={Text:"text",Chat:"chat"},h$={Text:"text",Chat:"chat"},hz={Mustache:"mustache",Jinja2:"jinja2"},hW={Text:"text",Chat:"chat"},hV={Mustache:"mustache",Jinja2:"jinja2"},hK={Text:"text",Chat:"chat"},hG={Mustache:"mustache",Jinja2:"jinja2"},hH={Text:"text",Chat:"chat"},hZ={Mustache:"mustache",Jinja2:"jinja2"},hJ={Openai:"openai",Anthropic:"anthropic",Gemini:"gemini",Openrouter:"openrouter",VertexAi:"vertex-ai",Bedrock:"bedrock",CustomLlm:"custom-llm",OpikFree:"opik-free"},hY={Openai:"openai",Anthropic:"anthropic",Gemini:"gemini",Openrouter:"openrouter",VertexAi:"vertex-ai",Bedrock:"bedrock",CustomLlm:"custom-llm",OpikFree:"opik-free"},hQ={Text:"text",JsonObject:"json_object",JsonSchema:"json_schema"},hX={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},h0={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},h1={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},h2={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},h3={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},h6={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},h5={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},h4={General:"general",Tool:"tool",Llm:"llm",Guardrail:"guardrail"},h8={Function:"function"},h9={Function:"function"},h7={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},me={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},mt={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},mr={Default:"default",Hidden:"hidden"},mo={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},mn={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},mi={Contains:"contains",NotContains:"not_contains",StartsWith:"starts_with",EndsWith:"ends_with",EqualTo:"=",NotEquals:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",IsEmpty:"is_empty",IsNotEmpty:"is_not_empty"},ma={Active:"active",Inactive:"inactive"},ms={Default:"default",Hidden:"hidden"},ml={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},mu={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},mp={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},md={Ui:"ui",Sdk:"sdk",OnlineScoring:"online_scoring"},mc={Success:"success",Failure:"failure"};function mh(...e){let t={};for(let[r,o]of e.filter(e=>null!=e).flatMap(e=>Object.entries(e))){let e=r.toLowerCase();null!=o?t[e]=o:e in t&&delete t[e]}return t}function mm(...e){let t={};for(let[r,o]of e.filter(e=>null!=e).flatMap(e=>Object.entries(e))){let e=r.toLowerCase();null!=o&&(t[e]=o)}return t}var mg=async(e,t)=>"function"==typeof e?e(t):e,mf={Debug:"debug",Info:"info",Warn:"warn",Error:"error"},my={[mf.Debug]:1,[mf.Info]:2,[mf.Warn]:3,[mf.Error]:4},m_=class{debug(e,...t){console.debug(e,...t)}info(e,...t){console.info(e,...t)}warn(e,...t){console.warn(e,...t)}error(e,...t){console.error(e,...t)}},mv=class{constructor(e){this.level=my[e.level],this.logger=e.logger,this.silent=e.silent}shouldLog(e){return!this.silent&&this.level<=my[e]}isDebug(){return this.shouldLog(mf.Debug)}debug(e,...t){this.isDebug()&&this.logger.debug(e,...t)}isInfo(){return this.shouldLog(mf.Info)}info(e,...t){this.isInfo()&&this.logger.info(e,...t)}isWarn(){return this.shouldLog(mf.Warn)}warn(e,...t){this.isWarn()&&this.logger.warn(e,...t)}isError(){return this.shouldLog(mf.Error)}error(e,...t){this.isError()&&this.logger.error(e,...t)}};function mb(e){return null==e?mw:e instanceof mv?e:(null!=(e=null!=e?e:{}).level||(e.level=mf.Info),null!=e.logger||(e.logger=new m_),null!=e.silent||(e.silent=!0),new mv(e))}var mw=new mv({level:mf.Info,logger:new m_,silent:!0}),mD={arrayFormat:"indices",encode:!0};function mC(e,t){if(null==e)return"";let r=String(e);return t?encodeURIComponent(r):r}function mE(e,t){return null==e||"object"!=typeof e?"":(function e(t,r="",o){let n=[];for(let[i,a]of Object.entries(t)){let t=r?`${r}[${i}]`:i;if(void 0!==a)if(Array.isArray(a)){if(0===a.length)continue;for(let r=0;r<a.length;r++){let i=a[r];if(void 0!==i)if("object"!=typeof i||Array.isArray(i)||null===i){let e="indices"===o.arrayFormat?`${t}[${r}]`:t,a=o.encode?encodeURIComponent(e):e;n.push(`${a}=${mC(i,o.encode)}`)}else{let a="indices"===o.arrayFormat?`${t}[${r}]`:t;n.push(...e(i,a,o))}}}else if("object"==typeof a&&null!==a){if(0===Object.keys(a).length)continue;n.push(...e(a,t,o))}else{let e=o.encode?encodeURIComponent(t):t;n.push(`${e}=${mC(a,o.encode)}`)}}return n})(e,"",{...mD,...t}).join("&")}async function mk(e,t){switch(t){case"binary-response":var r;let o;return o={get bodyUsed(){return r.bodyUsed},stream:()=>r.body,arrayBuffer:(r=e).arrayBuffer.bind(r),blob:r.blob.bind(r)},"bytes"in r&&"function"==typeof r.bytes&&(o.bytes=r.bytes.bind(r)),o;case"blob":return await e.blob();case"arrayBuffer":return await e.arrayBuffer();case"sse":case"streaming":return null==e.body?{ok:!1,error:{reason:"body-is-null",statusCode:e.status}}:e.body;case"text":return await e.text()}let n=await e.text();if(n.length>0)try{return dU(n)}catch{return{ok:!1,error:{reason:"non-json",statusCode:e.status,rawBody:n}}}}async function mx(e){var t,r,o;let n=null==(t=e.headers.get("Content-Type"))?void 0:t.toLowerCase();if(null==n||0===n.length)return mk(e);switch(-1!==n.indexOf(";")&&(n=null!=(o=null==(r=n.split(";")[0])?void 0:r.trim())?o:""),n){case"application/hal+json":case"application/json":case"application/ld+json":case"application/problem+json":case"application/vnd.api+json":case"text/json":{let t=await e.text();return t.length>0?dU(t):void 0}default:if(n.startsWith("application/vnd.")&&n.endsWith("+json")){let t=await e.text();return t.length>0?dU(t):void 0}return await e.text()}}async function mT(){return fetch}async function mS({body:e,type:t}){let r,o;return"form"===t?mE(e,{arrayFormat:"repeat",encode:!0}):t.includes("json")?JSON.stringify(e,r,o):e}var mR=async(e,t,r,o,n,i,a,s,l)=>{let u=[],p;if(null!=i){let e,t,{signal:r,abortId:o}=(e=new AbortController,t=setTimeout(()=>e.abort("timeout"),i),{signal:e.signal,abortId:t});p=o,u.push(r)}null!=a&&u.push(a);let d=function(...e){let t=1===e.length&&Array.isArray(e[0])?e[0]:e,r=new AbortController;for(let e of t){if(e.aborted){r.abort(null==e?void 0:e.reason);break}e.addEventListener("abort",()=>r.abort(null==e?void 0:e.reason),{signal:r.signal})}return r.signal}(u),c=await e(t,{method:r,headers:o,body:n,signal:d,credentials:s?"include":void 0,duplex:l});return null!=p&&clearTimeout(p),c},mj={headers:new(eh=void 0!==globalThis.Headers?globalThis.Headers:class e{constructor(t){if(this.headers=new Map,t)if(t instanceof e)t.forEach((e,t)=>this.append(t,e));else if(Array.isArray(t))for(let[e,r]of t)if("string"==typeof e&&"string"==typeof r)this.append(e,r);else throw TypeError("Each header entry must be a [string, string] tuple");else for(let[e,r]of Object.entries(t))if("string"==typeof r)this.append(e,r);else throw TypeError("Header values must be strings")}append(e,t){let r=e.toLowerCase(),o=this.headers.get(r)||[];this.headers.set(r,[...o,t])}delete(e){let t=e.toLowerCase();this.headers.delete(t)}get(e){let t=e.toLowerCase(),r=this.headers.get(t);return r?r.join(", "):null}has(e){let t=e.toLowerCase();return this.headers.has(t)}set(e,t){let r=e.toLowerCase();this.headers.set(r,[t])}forEach(e,t){let r=t?e.bind(t):e;this.headers.forEach((e,t)=>r(e.join(", "),t,this))}getSetCookie(){return this.headers.get("set-cookie")||[]}*entries(){for(let[e,t]of this.headers.entries())yield[e,t.join(", ")]}*keys(){yield*this.headers.keys()}*values(){for(let e of this.headers.values())yield e.join(", ")}[Symbol.iterator](){return this.entries()}}),redirected:!1,status:499,statusText:"Client Closed Request",type:"error",url:""},mF={headers:new eh,redirected:!1,status:0,statusText:"Unknown Error",type:"error",url:""};function mP(e){return{headers:e.headers,redirected:e.redirected,status:e.status,statusText:e.statusText,type:e.type,url:e.url}}async function mO(e,t=2){let r=await e();for(let o=0;o<t&&([408,429].includes(r.status)||r.status>=500);++o){let t=function(e,t){let r=e.headers.get("Retry-After");if(r){let e=parseInt(r,10);if(!Number.isNaN(e)&&e>0)return Math.min(1e3*e,6e4);let t=new Date(r);if(!Number.isNaN(t.getTime())){let e=t.getTime()-Date.now();if(e>0)return Math.min(Math.max(e,0),6e4)}}let o=e.headers.get("X-RateLimit-Reset");if(o){let e=parseInt(o,10);if(!Number.isNaN(e)){let t=1e3*e-Date.now();if(t>0)return Math.min(t,6e4)*(1+.2*Math.random())}}return Math.min(1e3*2**t,6e4)*(1+(Math.random()-.5)*.2)}(r,o);await new Promise(e=>setTimeout(e,t)),r=await e()}return r}var mI=new Set(["authorization","www-authenticate","x-api-key","api-key","apikey","x-api-token","x-auth-token","auth-token","cookie","set-cookie","proxy-authorization","proxy-authenticate","x-csrf-token","x-xsrf-token","x-session-token","x-access-token"]);function mA(e){let t={};for(let[r,o]of e instanceof eh?e.entries():Object.entries(e))mI.has(r.toLowerCase())?t[r]="[REDACTED]":t[r]=o;return t}var mN=new Set(["api_key","api-key","apikey","token","access_token","access-token","auth_token","auth-token","password","passwd","secret","api_secret","api-secret","apisecret","key","session","session_id","session-id"]);function mB(e){let t=e.indexOf("://");if(-1===t)return e;let r=t+3,o=e.indexOf("/",r),n=e.indexOf("?",r),i=e.indexOf("#",r),a=Math.min(-1===o?e.length:o,-1===n?e.length:n,-1===i?e.length:i),s=-1;for(let t=r;t<a;t++)"@"===e[t]&&(s=t);if(-1!==s&&(e=`${e.slice(0,r)}[REDACTED]@${e.slice(s+1)}`),-1===(n=e.indexOf("?")))return e;let l=-1!==(i=e.indexOf("#",n))?i:e.length,u=e.slice(n+1,l);if(0===u.length)return e;let p=u.toLowerCase();if(!(p.includes("token")||p.includes("key")||p.includes("password")||p.includes("passwd")||p.includes("secret")||p.includes("session")||p.includes("auth")))return e;let d=[];for(let e of u.split("&")){let t=e.indexOf("=");if(-1===t){d.push(e);continue}let r=e.slice(0,t),o=mN.has(r.toLowerCase());if(!o&&r.includes("%"))try{let e=decodeURIComponent(r);o=mN.has(e.toLowerCase())}catch{}d.push(o?`${r}=[REDACTED]`:e)}return e.slice(0,n+1)+d.join("&")+e.slice(l)}async function mM(e){var t;let r=new eh;if(r.set("Accept","json"===e.responseType?"application/json":"text"===e.responseType?"text/plain":"*/*"),void 0!==e.body&&null!=e.contentType&&r.set("Content-Type",e.contentType),null==e.headers)return r;for(let[o,n]of Object.entries(e.headers)){let i=await mg(n,{endpointMetadata:null!=(t=e.endpointMetadata)?t:{}});if("string"==typeof i){r.set(o,i);continue}null!=i&&r.set(o,`${i}`)}return r}async function mU(e){var t,r,o,n;let i,a=(n=e.url,(i=mE(e.queryParameters,{arrayFormat:"repeat"}))?`${n}?${i}`:n),s=await mS({body:e.body,type:null!=(t=e.requestType)?t:"other"}),l=null!=(r=e.fetchFn)?r:await mT(),u=await mM(e),p=mb(e.logging);if(p.isDebug()){let t={method:e.method,url:mB(a),headers:mA(u),queryParameters:function(e){if(null==e)return e;let t={};for(let[r,o]of Object.entries(e))mN.has(r.toLowerCase())?t[r]="[REDACTED]":t[r]=o;return t}(e.queryParameters),hasBody:null!=s};p.debug("Making HTTP request",t)}try{let t=await mO(async()=>mR(l,a,e.method,u,s,e.timeoutMs,e.abortSignal,e.withCredentials,e.duplex),e.maxRetries);if(t.status>=200&&t.status<400){if(p.isDebug()){let r={method:e.method,url:mB(a),statusCode:t.status,responseHeaders:mA(t.headers)};p.debug("HTTP request succeeded",r)}return{ok:!0,body:await mk(t,e.responseType),headers:t.headers,rawResponse:mP(t)}}if(p.isError()){let r={method:e.method,url:mB(a),statusCode:t.status,responseHeaders:mA(Object.fromEntries(t.headers.entries()))};p.error("HTTP request failed with error status",r)}return{ok:!1,error:{reason:"status-code",statusCode:t.status,body:await mx(t)},rawResponse:mP(t)}}catch(t){if(null!=(o=e.abortSignal)&&o.aborted){if(p.isError()){let t={method:e.method,url:mB(a)};p.error("HTTP request was aborted",t)}return{ok:!1,error:{reason:"unknown",errorMessage:"The user aborted a request"},rawResponse:mj}}if(t instanceof Error&&"AbortError"===t.name){if(p.isError()){let t={method:e.method,url:mB(a),timeoutMs:e.timeoutMs};p.error("HTTP request timed out",t)}return{ok:!1,error:{reason:"timeout"},rawResponse:mj}}if(t instanceof Error){if(p.isError()){let r={method:e.method,url:mB(a),errorMessage:t.message};p.error("HTTP request failed with error",r)}return{ok:!1,error:{reason:"unknown",errorMessage:t.message},rawResponse:mF}}if(p.isError()){let r,o,n={method:e.method,url:mB(a),error:JSON.stringify(t,r,o)};p.error("HTTP request failed with unknown error",n)}return{ok:!1,error:{reason:"unknown",errorMessage:JSON.stringify(t,void 0,void 0)},rawResponse:mF}}}var mL=class e extends Promise{constructor(e){super(e=>{e(void 0)}),this.innerPromise=e}static fromFunction(t,...r){return new e(t(...r))}static interceptFunction(t){return(...r)=>e.fromPromise(t(...r))}static fromPromise(t){return new e(t)}static fromExecutor(t){return new e(new Promise(t))}static fromResult(t){return new e(Promise.resolve(t))}unwrap(){return this.unwrappedPromise||(this.unwrappedPromise=this.innerPromise.then(({data:e})=>e)),this.unwrappedPromise}then(e,t){return this.unwrap().then(e,t)}catch(e){return this.unwrap().catch(e)}finally(e){return this.unwrap().finally(e)}async withRawResponse(){return await this.innerPromise}},mq=async e=>"function"==typeof e?e():e;async function m$(e){let{data:t,filename:r,contentLength:o,contentType:n}=await mW(e),i={body:t,headers:{}};return r&&(i.headers["Content-Disposition"]=`attachment; filename="${r}"`),n&&(i.headers["Content-Type"]=n),null!=o&&(i.headers["Content-Length"]=o.toString()),i}async function mz(e){let{data:t,filename:r,contentType:o}=await mW(e,{noSniffFileSize:!0});return{data:t,filename:r,contentType:o}}async function mW(t,{noSniffFileSize:r}={}){var o,n,i,a,s,l,u,p,d,c,h;if(mZ(l=t)||mJ(l)||mY(l)||(u=l,"undefined"!=typeof Uint8Array&&u instanceof Uint8Array)||mQ(l)||mX(l)||"object"==typeof(p=l)&&null!=p&&("read"in p||"pipe"in p)||"object"==typeof(d=l)&&null!=d&&"getReader"in d)return mW({data:t},{noSniffFileSize:r});if("path"in t){let i=(await e.A(23970)).createReadStream(t.path),a=null!=(o=t.contentLength)?o:!0===r?void 0:await mV(t.path);return{data:i,filename:null!=(n=t.filename)?n:mG(t.path),contentType:t.contentType,contentLength:a}}if("data"in t){let e=t.data,o=null!=(i=t.contentLength)?i:await mK(e,{noSniffFileSize:r}),n=null!=(a=t.filename)?a:"object"==typeof(h=c=e)&&null!=h&&"name"in h?c.name:mH(c)?mG(c.path.toString()):void 0;return{data:e,filename:n,contentType:null!=(s=t.contentType)?s:function(e){if(mQ(e)||mX(e))return e.type}(e),contentLength:o}}throw Error(`Invalid FileUpload of type ${typeof t}: ${JSON.stringify(t)}`)}async function mV(t){try{let r=await e.A(23970);return(await r.promises.stat(t)).size}catch{return}}async function mK(e,{noSniffFileSize:t}={}){return mZ(e)?e.length:mJ(e)||mY(e)?e.byteLength:mQ(e)||mX(e)?e.size:!0!==t&&mH(e)?await mV(e.path.toString()):void 0}function mG(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>=0?e.substring(t+1):e}function mH(e){return"object"==typeof e&&null!=e&&"path"in e}function mZ(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)}function mJ(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)}function mY(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function mQ(e){return"undefined"!=typeof Blob&&e instanceof Blob}function mX(e){return"undefined"!=typeof File&&e instanceof File}dF({},{toBinaryUploadRequest:()=>m$,toMultipartDataPart:()=>mz});var m0="undefined"!=typeof globalThis&&(null==(d=null==globalThis?void 0:globalThis.navigator)?void 0:d.userAgent)==="Cloudflare-Workers"?{type:"workerd"}:"string"==typeof EdgeRuntime?{type:"edge-runtime"}:"object"==typeof self&&"function"==typeof(null==self?void 0:self.importScripts)&&((null==(c=self.constructor)?void 0:c.name)==="DedicatedWorkerGlobalScope"||(null==(h=self.constructor)?void 0:h.name)==="ServiceWorkerGlobalScope"||(null==(m=self.constructor)?void 0:m.name)==="SharedWorkerGlobalScope")?{type:"web-worker"}:"undefined"!=typeof Deno&&void 0!==Deno.version&&void 0!==Deno.version.deno?{type:"deno",version:Deno.version.deno}:"undefined"!=typeof Bun&&void 0!==Bun.version?{type:"bun",version:Bun.version}:"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.product)==="ReactNative"?{type:"react-native"}:"undefined"!=typeof process&&"version"in process&&process.version&&"versions"in process&&null!=(g=process.versions)&&g.node?{type:"node",version:process.versions.node,parsedVersion:Number(process.versions.node.split(".")[0])}:{type:"unknown"};async function m1(){return new m2}var m2=class{constructor(){this.fd=new FormData}async setup(){}append(e,t){this.fd.append(e,String(t))}async appendFile(e,t){let{data:r,filename:o,contentType:n}=await mz(t),i=await m5(r,n);o?this.fd.append(e,i,o):this.fd.append(e,i)}getRequest(){return{body:this.fd,headers:{},duplex:"half"}}};function m3(e){return"object"==typeof e&&null!=e&&"getReader"in e}async function m6(t){if("node"===m0.type){let{Readable:r}=await e.A(22369);if(t instanceof r){let e=[];for await(let r of t)e.push(Buffer.isBuffer(r)?r:Buffer.from(r));return Buffer.concat(e)}}if(m3(t)){let e=t.getReader(),r=[];try{for(;;){let{done:t,value:o}=await e.read();if(t)break;r.push(o)}}finally{e.releaseLock()}let o=new Uint8Array(r.reduce((e,t)=>e+t.length,0)),n=0;for(let e of r)o.set(e,n),n+=e.length;return Buffer.from(o)}throw Error(`Unsupported stream type: ${typeof t}. Expected Node.js Readable stream or Web ReadableStream.`)}async function m5(e,t){let r,o;return"object"==typeof e&&null!=e&&("read"in e||"pipe"in e)||m3(e)?new Blob([await m6(e)],{type:t}):e instanceof Blob?e:"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e)||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"string"==typeof e?new Blob([e],{type:t}):"object"==typeof e&&null!==e?new Blob([JSON.stringify(e,r,o)],{type:null!=t?t:"application/json"}):new Blob([String(e)],{type:t})}var m4={};dF(m4,{ConsoleLogger:()=>m_,LogLevel:()=>mf,Logger:()=>mv,createLogger:()=>mb});var m8={};dF(m8,{JsonError:()=>gs,ParseError:()=>gl,any:()=>gU,bigint:()=>gc,boolean:()=>gL,booleanLiteral:()=>gB,date:()=>gm,discriminant:()=>gJ,enum_:()=>gf,getObjectLikeUtils:()=>gE,getObjectUtils:()=>gj,getSchemaUtils:()=>gu,isProperty:()=>gT,lazy:()=>gy,lazyObject:()=>gI,list:()=>gA,never:()=>gq,number:()=>g$,object:()=>gS,objectWithoutOptionalProperties:()=>gO,optional:()=>gp,property:()=>gx,record:()=>gV,set:()=>gG,string:()=>gz,stringLiteral:()=>gM,transform:()=>gd,undiscriminatedUnion:()=>gH,union:()=>gY,unknown:()=>gW,withParsedProperties:()=>gk});var m9="object",m7="number",ge="unknown",gt="optional",gr="optionalNullable";function go(e,t){return`Expected ${t}. Received ${function(e){if(Array.isArray(e))return"list";if(null===e)return"null";if(e instanceof BigInt)return"BigInt";switch(typeof e){case"string":return`"${e}"`;case"bigint":case"number":case"boolean":case"undefined":return`${e}`}return typeof e}(e)}.`}function gn(e){return{...e,json:gi(e.json),parse:gi(e.parse)}}function gi(e){return(t,r)=>{let o=e(t,r),{skipValidation:n=!1}=null!=r?r:{};return!o.ok&&n?(console.warn(["Failed to validate.",...o.errors.map(e=>"  - "+(e.path.length>0?`${e.path.join(".")}: ${e.message}`:e.message))].join(`
`)),{ok:!0,value:t}):o}}function ga(e){return 0===e.path.length?e.message:`${e.path.join(" -> ")}: ${e.message}`}var gs=class e extends Error{constructor(t){super(t.map(ga).join("; ")),this.errors=t,Object.setPrototypeOf(this,e.prototype)}},gl=class e extends Error{constructor(t){super(t.map(ga).join("; ")),this.errors=t,Object.setPrototypeOf(this,e.prototype)}};function gu(e){return{nullable:()=>{var t;let r;return t=e,{...r={parse:(e,r)=>null==e?{ok:!0,value:null}:t.parse(e,r),json:(e,r)=>null==e?{ok:!0,value:null}:t.json(e,r),getType:()=>"nullable"},...gu(r)}},optional:()=>gp(e),optionalNullable:()=>{var t;let r;return t=e,{...r={parse:(e,r)=>void 0===e?{ok:!0,value:void 0}:null===e?{ok:!0,value:null}:t.parse(e,r),json:(e,r)=>void 0===e?{ok:!0,value:void 0}:null===e?{ok:!0,value:null}:t.json(e,r),getType:()=>gr},...gu(r)}},transform:t=>gd(e,t),parseOrThrow:(t,r)=>{let o=e.parse(t,r);if(o.ok)return o.value;throw new gl(o.errors)},jsonOrThrow:(t,r)=>{let o=e.json(t,r);if(o.ok)return o.value;throw new gs(o.errors)}}}function gp(e){let t={parse:(t,r)=>null==t?{ok:!0,value:void 0}:e.parse(t,r),json:(t,r)=>null!=r&&r.omitUndefined&&void 0===t?{ok:!0,value:void 0}:null==t?{ok:!0,value:null}:e.json(t,r),getType:()=>gt};return{...t,...gu(t)}}function gd(e,t){let r={parse:(r,o)=>{let n=e.parse(r,o);return n.ok?{ok:!0,value:t.transform(n.value)}:n},json:(r,o)=>{let n=t.untransform(r);return e.json(n,o)},getType:()=>e.getType()};return{...r,...gu(r)}}function gc(){let e={parse:(e,{breadcrumbsPrefix:t=[]}={})=>"bigint"==typeof e?{ok:!0,value:e}:"number"==typeof e?{ok:!0,value:BigInt(e)}:{ok:!1,errors:[{path:t,message:go(e,"bigint | number")}]},json:(e,{breadcrumbsPrefix:t=[]}={})=>"bigint"!=typeof e?{ok:!1,errors:[{path:t,message:go(e,"bigint")}]}:{ok:!0,value:e},getType:()=>"bigint"};return{...gn(e),...gu(e)}}var gh=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([.,]\d+(?!:))?)?(\17[0-5]\d([.,]\d+)?)?([zZ]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;function gm(){let e={parse:(e,{breadcrumbsPrefix:t=[]}={})=>"string"!=typeof e?{ok:!1,errors:[{path:t,message:go(e,"string")}]}:gh.test(e)?{ok:!0,value:new Date(e)}:{ok:!1,errors:[{path:t,message:go(e,"ISO 8601 date string")}]},json:(e,{breadcrumbsPrefix:t=[]}={})=>e instanceof Date?{ok:!0,value:e.toISOString()}:{ok:!1,errors:[{path:t,message:go(e,"Date object")}]},getType:()=>"date"};return{...gn(e),...gu(e)}}function gg(e,t){return()=>{let r={parse:t,json:t,getType:()=>e};return{...gn(r),...gu(r)}}}function gf(e){let t=new Set(e);return gg("enum",(e,{allowUnrecognizedEnumValues:r,breadcrumbsPrefix:o=[]}={})=>"string"!=typeof e?{ok:!1,errors:[{path:o,message:go(e,"string")}]}:t.has(e)||r?{ok:!0,value:e}:{ok:!1,errors:[{path:o,message:go(e,"enum")}]})()}function gy(e){let t=g_(e);return{...t,...gu(t)}}function g_(e){return{parse:(t,r)=>gv(e).parse(t,r),json:(t,r)=>gv(e).json(t,r),getType:()=>gv(e).getType()}}function gv(e){return null==e.__zurg_memoized&&(e.__zurg_memoized=e()),e.__zurg_memoized}function gb(e){return Object.entries(e)}function gw(e,t){let r=new Set(t);return Object.entries(e).reduce((e,[t,o])=>(r.has(t)&&(e[t]=o),e),{})}function gD(e){if("object"!=typeof e||null===e)return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function gC(e){return Object.keys(e)}function gE(e){return{withParsedProperties:t=>gk(e,t)}}function gk(e,t){let r={parse:(r,o)=>{let n=e.parse(r,o);if(!n.ok)return n;let i=Object.entries(t).reduce((e,[t,r])=>({...e,[t]:"function"==typeof r?r(n.value):r}),{});return{ok:!0,value:{...n.value,...i}}},json:(r,o)=>{var n;if(!gD(r))return{ok:!1,errors:[{path:null!=(n=null==o?void 0:o.breadcrumbsPrefix)?n:[],message:go(r,"object")}]};let i=new Set(Object.keys(t)),a=gw(r,Object.keys(r).filter(e=>!i.has(e)));return e.json(a,o)},getType:()=>e.getType()};return{...r,...gu(r),...gE(r)}}function gx(e,t){return{rawKey:e,valueSchema:t,isProperty:!0}}function gT(e){return e.isProperty}function gS(e){let t={_getRawProperties:()=>Object.entries(e).map(([e,t])=>gT(t)?t.rawKey:e),_getParsedProperties:()=>gC(e),parse:(t,r)=>{let o={},n=[];for(let[t,r]of gb(e)){let e=gT(r)?r.rawKey:t,i=gT(r)?r.valueSchema:r,a={rawKey:e,parsedKey:t,valueSchema:i};o[e]=a,gP(i)||n.push(e)}return gR({value:t,requiredKeys:n,getProperty:e=>{let t=o[e];if(null!=t)return{transformedKey:t.parsedKey,transform:o=>{var n;return t.valueSchema.parse(o,{...r,breadcrumbsPrefix:[...null!=(n=null==r?void 0:r.breadcrumbsPrefix)?n:[],e]})}}},unrecognizedObjectKeys:null==r?void 0:r.unrecognizedObjectKeys,skipValidation:null==r?void 0:r.skipValidation,breadcrumbsPrefix:null==r?void 0:r.breadcrumbsPrefix,omitUndefined:null==r?void 0:r.omitUndefined})},json:(t,r)=>{let o=[];for(let[t,r]of gb(e))gP(gT(r)?r.valueSchema:r)||o.push(t);return gR({value:t,requiredKeys:o,getProperty:t=>{let o=e[t];if(null!=o)return gT(o)?{transformedKey:o.rawKey,transform:e=>{var n;return o.valueSchema.json(e,{...r,breadcrumbsPrefix:[...null!=(n=null==r?void 0:r.breadcrumbsPrefix)?n:[],t]})}}:{transformedKey:t,transform:e=>{var n;return o.json(e,{...r,breadcrumbsPrefix:[...null!=(n=null==r?void 0:r.breadcrumbsPrefix)?n:[],t]})}}},unrecognizedObjectKeys:null==r?void 0:r.unrecognizedObjectKeys,skipValidation:null==r?void 0:r.skipValidation,breadcrumbsPrefix:null==r?void 0:r.breadcrumbsPrefix,omitUndefined:null==r?void 0:r.omitUndefined})},getType:()=>m9};return{...gn(t),...gu(t),...gE(t),...gj(t)}}function gR({value:e,requiredKeys:t,getProperty:r,unrecognizedObjectKeys:o="fail",skipValidation:n=!1,breadcrumbsPrefix:i=[]}){if(!gD(e))return{ok:!1,errors:[{path:i,message:go(e,"object")}]};let a=new Set(t),s=[],l={};for(let[t,n]of Object.entries(e)){let e=r(t);if(null!=e){a.delete(t);let r=e.transform(n);r.ok?l[e.transformedKey]=r.value:(l[t]=n,s.push(...r.errors))}else switch(o){case"fail":s.push({path:[...i,t],message:`Unexpected key "${t}"`});break;case"strip":break;case"passthrough":l[t]=n}}return s.push(...t.filter(e=>a.has(e)).map(e=>({path:i,message:`Missing required key "${e}"`}))),0===s.length||n?{ok:!0,value:l}:{ok:!1,errors:s}}function gj(e){return{extend:t=>{let r={_getParsedProperties:()=>[...e._getParsedProperties(),...t._getParsedProperties()],_getRawProperties:()=>[...e._getRawProperties(),...t._getRawProperties()],parse:(r,o)=>gF({extensionKeys:t._getRawProperties(),value:r,transformBase:t=>e.parse(t,o),transformExtension:e=>t.parse(e,o),breadcrumbsPrefix:null==o?void 0:o.breadcrumbsPrefix}),json:(r,o)=>gF({extensionKeys:t._getParsedProperties(),value:r,transformBase:t=>e.json(t,o),transformExtension:e=>t.json(e,o),breadcrumbsPrefix:null==o?void 0:o.breadcrumbsPrefix}),getType:()=>m9};return{...r,...gu(r),...gE(r),...gj(r)}},passthrough:()=>{let t=new Set(e._getRawProperties()),r=new Set(e._getParsedProperties()),o={_getParsedProperties:()=>e._getParsedProperties(),_getRawProperties:()=>e._getRawProperties(),parse:(r,o)=>{let n=e.parse(r,{...o,unrecognizedObjectKeys:"passthrough"});if(!n.ok)return n;let i={};if("object"==typeof r&&null!=r)for(let[e,o]of Object.entries(r))t.has(e)||(i[e]=o);return{ok:!0,value:{...i,...n.value}}},json:(t,o)=>{let n=e.json(t,{...o,unrecognizedObjectKeys:"passthrough"});if(!n.ok)return n;let i={};if("object"==typeof t&&null!=t)for(let[e,o]of Object.entries(t))r.has(e)||(i[e]=o);return{ok:!0,value:{...i,...n.value}}},getType:()=>m9};return{...o,...gu(o),...gE(o),...gj(o)}}}}function gF({extensionKeys:e,value:t,transformBase:r,transformExtension:o,breadcrumbsPrefix:n=[]}){if(!gD(t))return{ok:!1,errors:[{path:n,message:go(t,"object")}]};let i=new Set(e),[a,s]=function(e,t){let r=[],o=[];for(let n of e)t(n)?r.push(n):o.push(n);return[r,o]}(gC(t),e=>i.has(e)),l=r(gw(t,s)),u=o(gw(t,a));return l.ok&&u.ok?{ok:!0,value:{...l.value,...u.value}}:{ok:!1,errors:[...l.ok?[]:l.errors,...u.ok?[]:u.errors]}}function gP(e){switch(e.getType()){case"any":case ge:case gt:case gr:return!0;default:return!1}}function gO(e){return gS(e)}function gI(e){let t={...g_(e),_getRawProperties:()=>gv(e)._getRawProperties(),_getParsedProperties:()=>gv(e)._getParsedProperties()};return{...t,...gu(t),...gE(t),...gj(t)}}function gA(e){let t={parse:(t,r)=>gN(t,(t,o)=>{var n;return e.parse(t,{...r,breadcrumbsPrefix:[...null!=(n=null==r?void 0:r.breadcrumbsPrefix)?n:[],`[${o}]`]})}),json:(t,r)=>gN(t,(t,o)=>{var n;return e.json(t,{...r,breadcrumbsPrefix:[...null!=(n=null==r?void 0:r.breadcrumbsPrefix)?n:[],`[${o}]`]})}),getType:()=>"list"};return{...gn(t),...gu(t)}}function gN(e,t){return Array.isArray(e)?e.map((e,r)=>t(e,r)).reduce((e,t)=>{if(e.ok&&t.ok)return{ok:!0,value:[...e.value,t.value]};let r=[];return e.ok||r.push(...e.errors),t.ok||r.push(...t.errors),{ok:!1,errors:r}},{ok:!0,value:[]}):{ok:!1,errors:[{message:go(e,"list"),path:[]}]}}function gB(e){return gg("booleanLiteral",(t,{breadcrumbsPrefix:r=[]}={})=>t===e?{ok:!0,value:e}:{ok:!1,errors:[{path:r,message:go(t,`${e.toString()}`)}]})()}function gM(e){return gg("stringLiteral",(t,{breadcrumbsPrefix:r=[]}={})=>t===e?{ok:!0,value:e}:{ok:!1,errors:[{path:r,message:go(t,`"${e}"`)}]})()}var gU=gg("any",e=>({ok:!0,value:e})),gL=gg("boolean",(e,{breadcrumbsPrefix:t=[]}={})=>"boolean"==typeof e?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:go(e,"boolean")}]}),gq=gg("never",(e,{breadcrumbsPrefix:t=[]}={})=>({ok:!1,errors:[{path:t,message:"Expected never"}]})),g$=gg(m7,(e,{breadcrumbsPrefix:t=[]}={})=>"number"==typeof e?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:go(e,"number")}]}),gz=gg("string",(e,{breadcrumbsPrefix:t=[]}={})=>"string"==typeof e?{ok:!0,value:e}:{ok:!1,errors:[{path:t,message:go(e,"string")}]}),gW=gg(ge,e=>({ok:!0,value:e}));function gV(e,t){let r={parse:(r,o)=>gK({value:r,isKeyNumeric:e.getType()===m7,transformKey:t=>{var r;return e.parse(t,{...o,breadcrumbsPrefix:[...null!=(r=null==o?void 0:o.breadcrumbsPrefix)?r:[],`${t} (key)`]})},transformValue:(e,r)=>{var n;return t.parse(e,{...o,breadcrumbsPrefix:[...null!=(n=null==o?void 0:o.breadcrumbsPrefix)?n:[],`${r}`]})},breadcrumbsPrefix:null==o?void 0:o.breadcrumbsPrefix}),json:(r,o)=>gK({value:r,isKeyNumeric:e.getType()===m7,transformKey:t=>{var r;return e.json(t,{...o,breadcrumbsPrefix:[...null!=(r=null==o?void 0:o.breadcrumbsPrefix)?r:[],`${t} (key)`]})},transformValue:(e,r)=>{var n;return t.json(e,{...o,breadcrumbsPrefix:[...null!=(n=null==o?void 0:o.breadcrumbsPrefix)?n:[],`${r}`]})},breadcrumbsPrefix:null==o?void 0:o.breadcrumbsPrefix}),getType:()=>"record"};return{...gn(r),...gu(r)}}function gK({value:e,isKeyNumeric:t,transformKey:r,transformValue:o,breadcrumbsPrefix:n=[]}){return gD(e)?gb(e).reduce((e,[n,i])=>{if(void 0===i)return e;let a=n;if(t){let e=n.length>0?Number(n):NaN;Number.isNaN(e)||(a=e)}let s=r(a),l=o(i,a);if(e.ok&&s.ok&&l.ok)return{ok:!0,value:{...e.value,[s.value]:l.value}};let u=[];return e.ok||u.push(...e.errors),s.ok||u.push(...s.errors),l.ok||u.push(...l.errors),{ok:!1,errors:u}},{ok:!0,value:{}}):{ok:!1,errors:[{path:n,message:go(e,"object")}]}}function gG(e){let t=gA(e),r={parse:(e,r)=>{let o=t.parse(e,r);return o.ok?{ok:!0,value:new Set(o.value)}:o},json:(e,r)=>{var o;return e instanceof Set?t.json([...e],r):{ok:!1,errors:[{path:null!=(o=null==r?void 0:r.breadcrumbsPrefix)?o:[],message:go(e,"Set")}]}},getType:()=>"set"};return{...gn(r),...gu(r)}}function gH(e){let t={parse:(t,r)=>gZ((e,r)=>e.parse(t,r),e,r),json:(t,r)=>gZ((e,r)=>e.json(t,r),e,r),getType:()=>"undiscriminatedUnion"};return{...gn(t),...gu(t)}}function gZ(e,t,r){let o=[];for(let[n,i]of t.entries()){let t=e(i,{...r,skipValidation:!1});if(t.ok)return t;for(let e of t.errors)o.push({path:e.path,message:`[Variant ${n}] ${e.message}`})}return{ok:!1,errors:o}}function gJ(e,t){return{parsedDiscriminant:e,rawDiscriminant:t}}function gY(e,t){let r="string"==typeof e?e:e.rawDiscriminant,o="string"==typeof e?e:e.parsedDiscriminant,n=gf(gC(t)),i={parse:(e,i)=>gQ({value:e,discriminant:r,transformedDiscriminant:o,transformDiscriminantValue:e=>{var t;return n.parse(e,{allowUnrecognizedEnumValues:null==i?void 0:i.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...null!=(t=null==i?void 0:i.breadcrumbsPrefix)?t:[],r]})},getAdditionalPropertiesSchema:e=>t[e],allowUnrecognizedUnionMembers:null==i?void 0:i.allowUnrecognizedUnionMembers,transformAdditionalProperties:(e,t)=>t.parse(e,i),breadcrumbsPrefix:null==i?void 0:i.breadcrumbsPrefix}),json:(e,i)=>gQ({value:e,discriminant:o,transformedDiscriminant:r,transformDiscriminantValue:e=>{var t;return n.json(e,{allowUnrecognizedEnumValues:null==i?void 0:i.allowUnrecognizedUnionMembers,breadcrumbsPrefix:[...null!=(t=null==i?void 0:i.breadcrumbsPrefix)?t:[],o]})},getAdditionalPropertiesSchema:e=>t[e],allowUnrecognizedUnionMembers:null==i?void 0:i.allowUnrecognizedUnionMembers,transformAdditionalProperties:(e,t)=>t.json(e,i),breadcrumbsPrefix:null==i?void 0:i.breadcrumbsPrefix}),getType:()=>"union"};return{...gn(i),...gu(i),...gE(i)}}function gQ({value:e,discriminant:t,transformedDiscriminant:r,transformDiscriminantValue:o,getAdditionalPropertiesSchema:n,allowUnrecognizedUnionMembers:i=!1,transformAdditionalProperties:a,breadcrumbsPrefix:s=[]}){if(!gD(e))return{ok:!1,errors:[{path:s,message:go(e,"object")}]};let{[t]:l,...u}=e;if(null==l)return{ok:!1,errors:[{path:s,message:`Missing discriminant ("${t}")`}]};let p=o(l);if(!p.ok)return{ok:!1,errors:p.errors};let d=n(p.value);if(null==d)return i?{ok:!0,value:{[r]:p.value,...u}}:{ok:!1,errors:[{path:[...s,t],message:"Unexpected discriminant value"}]};let c=a(u,d);return c.ok?{ok:!0,value:{[r]:l,...c.value}}:c}var gX={};function g0(e){if(null===e)return"null";switch(typeof e){case"undefined":return"undefined";case"string":case"number":case"boolean":break;default:e=String(e)}return encodeURIComponent(e)}function g1(e,...t){if(!e)return"";if(0===t.length)return e;if(e.includes("://")){let r;try{r=new URL(e)}catch{return g2(e,...t)}let o=t[t.length-1],n=null==o?void 0:o.endsWith("/");for(let e of t){let t=g6(e);t&&(r.pathname=g3(r.pathname,t))}return n&&!r.pathname.endsWith("/")&&(r.pathname+="/"),r.toString()}return g2(e,...t)}function g2(e,...t){if(0===t.length)return e;let r=e,o=t[t.length-1],n=null==o?void 0:o.endsWith("/");for(let e of t){let t=g6(e);t&&(r=g3(r,t))}return n&&!r.endsWith("/")&&(r+="/"),r}function g3(e,t){return e.endsWith("/")?e+t:`${e}/${t}`}function g6(e){if(!e)return e;let t=0,r=e.length;return e.startsWith("/")&&(t=1),e.endsWith("/")&&(r=e.length-1),0===t&&r===e.length?e:e.slice(t,r)}function g5(e){let t=mh({"X-Fern-Language":"JavaScript","X-Fern-Runtime":m0.type,"X-Fern-Runtime-Version":m0.version,"Comet-Workspace":null==e?void 0:e.workspaceName},null==e?void 0:e.headers);return{...e,logging:m4.createLogger(null==e?void 0:e.logging),headers:t}}dF(gX,{encodePathParam:()=>g0,join:()=>g1,toQueryString:()=>mE});var g4="http://localhost:5173/api";function g8(e,t,r,o){switch(e.reason){case"non-json":throw new dL({statusCode:e.statusCode,body:e.rawBody,rawResponse:t});case"body-is-null":throw new dL({statusCode:e.statusCode,rawResponse:t});case"timeout":throw new dq(`Timeout exceeded when calling ${r} ${o}.`);case"unknown":throw new dL({message:e.errorMessage,rawResponse:t});default:throw new dL({message:"Unknown error",rawResponse:t})}}var g9={};dF(g9,{AggregationData:()=>_Q,Alert:()=>_5,AlertAlertType:()=>_X,AlertPagePublic:()=>vo,AlertPublic:()=>vr,AlertPublicAlertType:()=>_4,AlertTrigger:()=>_3,AlertTriggerConfig:()=>_1,AlertTriggerConfigPublic:()=>_9,AlertTriggerConfigPublicType:()=>_8,AlertTriggerConfigType:()=>_0,AlertTriggerConfigWrite:()=>vi,AlertTriggerConfigWriteType:()=>vn,AlertTriggerEventType:()=>_2,AlertTriggerPublic:()=>ve,AlertTriggerPublicEventType:()=>_7,AlertTriggerWrite:()=>vs,AlertTriggerWriteEventType:()=>va,AlertWrite:()=>vp,AlertWriteAlertType:()=>vl,AnnotationQueue:()=>vh,AnnotationQueueBatch:()=>vm,AnnotationQueueBatchWrite:()=>fo,AnnotationQueueItemIds:()=>vg,AnnotationQueuePagePublic:()=>vb,AnnotationQueuePublic:()=>vv,AnnotationQueuePublicScope:()=>vf,AnnotationQueueReviewer:()=>vd,AnnotationQueueReviewerPublic:()=>vy,AnnotationQueueScope:()=>vc,AnnotationQueueUpdate:()=>fn,AnnotationQueueWrite:()=>fr,AnnotationQueueWriteScope:()=>ft,AssistantMessage:()=>vE,AssistantMessageRole:()=>vw,Attachment:()=>vk,AttachmentListRequestEntityType:()=>fd,AttachmentPage:()=>vx,AudioUrl:()=>vT,AudioUrlPublic:()=>vS,AudioUrlWrite:()=>vR,AuthDetailsHolder:()=>vj,AutomationRuleEvaluator:()=>v6,AutomationRuleEvaluatorAction:()=>vF,AutomationRuleEvaluatorLlmAsJudge:()=>vz,AutomationRuleEvaluatorLlmAsJudgePublic:()=>bn,AutomationRuleEvaluatorLlmAsJudgeWrite:()=>bf,AutomationRuleEvaluatorObjectObjectPublic:()=>bj,AutomationRuleEvaluatorObjectObjectPublicAction:()=>by,AutomationRuleEvaluatorPagePublic:()=>bF,AutomationRuleEvaluatorPublic:()=>bI,AutomationRuleEvaluatorPublicAction:()=>bP,AutomationRuleEvaluatorSpanLlmAsJudge:()=>vG,AutomationRuleEvaluatorSpanLlmAsJudgePublic:()=>bv,AutomationRuleEvaluatorSpanLlmAsJudgeWrite:()=>bM,AutomationRuleEvaluatorSpanUserDefinedMetricPython:()=>vZ,AutomationRuleEvaluatorSpanUserDefinedMetricPythonPublic:()=>bw,AutomationRuleEvaluatorSpanUserDefinedMetricPythonWrite:()=>bL,AutomationRuleEvaluatorTraceThreadLlmAsJudge:()=>vY,AutomationRuleEvaluatorTraceThreadLlmAsJudgePublic:()=>bC,AutomationRuleEvaluatorTraceThreadLlmAsJudgeWrite:()=>bW,AutomationRuleEvaluatorTraceThreadUserDefinedMetricPython:()=>vX,AutomationRuleEvaluatorTraceThreadUserDefinedMetricPythonPublic:()=>bk,AutomationRuleEvaluatorTraceThreadUserDefinedMetricPythonWrite:()=>bK,AutomationRuleEvaluatorUpdate:()=>b1,AutomationRuleEvaluatorUpdateAction:()=>bG,AutomationRuleEvaluatorUpdateLlmAsJudge:()=>bH,AutomationRuleEvaluatorUpdateSpanLlmAsJudge:()=>bZ,AutomationRuleEvaluatorUpdateSpanUserDefinedMetricPython:()=>bJ,AutomationRuleEvaluatorUpdateTraceThreadLlmAsJudge:()=>bY,AutomationRuleEvaluatorUpdateTraceThreadUserDefinedMetricPython:()=>bQ,AutomationRuleEvaluatorUpdateUserDefinedMetricPython:()=>bX,AutomationRuleEvaluatorUserDefinedMetricPython:()=>v1,AutomationRuleEvaluatorUserDefinedMetricPythonPublic:()=>bT,AutomationRuleEvaluatorUserDefinedMetricPythonWrite:()=>b3,AutomationRuleEvaluatorWrite:()=>b4,AutomationRuleEvaluatorWriteAction:()=>b6,AvgValueStatPublic:()=>b8,BatchDelete:()=>b9,BatchDeleteByProject:()=>b7,BiInformation:()=>we,BiInformationResponse:()=>wt,BooleanFeedbackDefinition:()=>wo,BooleanFeedbackDefinitionCreate:()=>wi,BooleanFeedbackDefinitionPublic:()=>ws,BooleanFeedbackDefinitionUpdate:()=>wu,BooleanFeedbackDetail:()=>wr,BooleanFeedbackDetailCreate:()=>wn,BooleanFeedbackDetailPublic:()=>wa,BooleanFeedbackDetailUpdate:()=>wl,CategoricalFeedbackDefinition:()=>wd,CategoricalFeedbackDefinitionCreate:()=>wh,CategoricalFeedbackDefinitionPublic:()=>wg,CategoricalFeedbackDefinitionUpdate:()=>wy,CategoricalFeedbackDetail:()=>wp,CategoricalFeedbackDetailCreate:()=>wc,CategoricalFeedbackDetailPublic:()=>wm,CategoricalFeedbackDetailUpdate:()=>wf,ChatCompletionChoice:()=>wv,ChatCompletionRequest:()=>fC,ChatCompletionResponse:()=>wC,Check:()=>wx,CheckName:()=>wE,CheckPublic:()=>wR,CheckPublicName:()=>wT,CheckPublicResult:()=>wS,CheckResult:()=>wk,ChunkedOutputJsonNode:()=>wF,ChunkedOutputJsonNodePublic:()=>wO,ChunkedOutputJsonNodePublicType:()=>wP,ChunkedOutputJsonNodeType:()=>wj,Column:()=>wA,ColumnCompare:()=>wB,ColumnCompareTypesItem:()=>wN,ColumnPublic:()=>wU,ColumnPublicTypesItem:()=>wM,ColumnTypesItem:()=>wI,Comment:()=>yc,CommentCompare:()=>wL,CommentPublic:()=>wq,CompleteMultipartUploadRequest:()=>wW,CompleteMultipartUploadRequestEntityType:()=>w$,CompletionTokensDetails:()=>wb,CountValueStatPublic:()=>wV,CreateDatasetItemsFromSpansRequest:()=>fF,CreateDatasetItemsFromTracesRequest:()=>fO,CreatePromptVersionDetail:()=>_r,CreatePromptVersionDetailTemplateStructure:()=>_t,DashboardPagePublic:()=>wG,DashboardPublic:()=>wK,DashboardUpdatePublic:()=>fx,DashboardWrite:()=>fS,DataPointDouble:()=>wH,DataPointNumberPublic:()=>wZ,Dataset:()=>wX,DatasetExpansion:()=>w0,DatasetExpansionResponse:()=>w3,DatasetExpansionWrite:()=>fI,DatasetExportJobPublic:()=>f3,DatasetExportJobPublicStatus:()=>f2,DatasetIdentifier:()=>fA,DatasetIdentifierPublic:()=>fN,DatasetItem:()=>w2,DatasetItemBatch:()=>w6,DatasetItemBatchUpdate:()=>fq,DatasetItemBatchWrite:()=>fW,DatasetItemChangesPublic:()=>w5,DatasetItemCompare:()=>Dn,DatasetItemCompareSource:()=>w4,DatasetItemFilter:()=>fM,DatasetItemFilterOperator:()=>fB,DatasetItemPageCompare:()=>Di,DatasetItemPagePublic:()=>Dp,DatasetItemPublic:()=>Du,DatasetItemPublicSource:()=>Da,DatasetItemSource:()=>w1,DatasetItemStreamRequest:()=>fV,DatasetItemUpdate:()=>fL,DatasetItemWrite:()=>fz,DatasetItemWriteSource:()=>f$,DatasetItemsDelete:()=>fK,DatasetPagePublic:()=>Dg,DatasetPublic:()=>Dm,DatasetPublicStatus:()=>Dd,DatasetPublicVisibility:()=>Dc,DatasetStatus:()=>wJ,DatasetUpdate:()=>fH,DatasetUpdateVisibility:()=>fG,DatasetVersionDiff:()=>Dy,DatasetVersionDiffStats:()=>Df,DatasetVersionPagePublic:()=>Dv,DatasetVersionPublic:()=>D_,DatasetVersionRestorePublic:()=>fZ,DatasetVersionSummary:()=>wY,DatasetVersionSummaryPublic:()=>Dh,DatasetVersionTag:()=>fJ,DatasetVersionUpdatePublic:()=>fY,DatasetVisibility:()=>wQ,DatasetWrite:()=>fX,DatasetWriteVisibility:()=>fQ,DeleteAttachmentsRequest:()=>Dw,DeleteAttachmentsRequestEntityType:()=>Db,DeleteFeedbackScore:()=>DD,DeleteIdsHolder:()=>DC,DeleteThreadFeedbackScores:()=>_T,DeleteTraceThreads:()=>_S,Delta:()=>w_,DownloadAttachmentRequestEntityType:()=>fc,ErrorCountWithDeviation:()=>DE,ErrorCountWithDeviationDetailed:()=>Dk,ErrorInfo:()=>_d,ErrorInfoExperimentItemBulkWriteView:()=>yi,ErrorInfoPublic:()=>Dx,ErrorInfoWrite:()=>_g,ErrorMessage:()=>DT,ErrorMessageDetail:()=>DS,ErrorMessageDetailed:()=>DR,ErrorMessagePublic:()=>Dj,Experiment:()=>DI,ExperimentBatchUpdate:()=>f7,ExperimentGroupAggregationsResponse:()=>DN,ExperimentGroupResponse:()=>DL,ExperimentItem:()=>yv,ExperimentItemBulkRecord:()=>DK,ExperimentItemBulkRecordExperimentItemBulkWriteView:()=>yu,ExperimentItemBulkUpload:()=>DG,ExperimentItemBulkUploadExperimentItemBulkWriteView:()=>yp,ExperimentItemCompare:()=>Do,ExperimentItemCompareTraceVisibilityMode:()=>w8,ExperimentItemPublic:()=>Dl,ExperimentItemPublicTraceVisibilityMode:()=>Ds,ExperimentItemStreamRequest:()=>yd,ExperimentItemTraceVisibilityMode:()=>yh,ExperimentItemsBatch:()=>yb,ExperimentItemsDelete:()=>yw,ExperimentPagePublic:()=>D1,ExperimentPublic:()=>D0,ExperimentPublicStatus:()=>DH,ExperimentPublicType:()=>DZ,ExperimentScore:()=>f5,ExperimentScorePublic:()=>DJ,ExperimentScoreWrite:()=>yC,ExperimentStatus:()=>DF,ExperimentStreamRequestPublic:()=>yD,ExperimentType:()=>DP,ExperimentUpdate:()=>f9,ExperimentUpdateStatus:()=>f4,ExperimentUpdateType:()=>f8,ExperimentWrite:()=>yS,ExperimentWriteStatus:()=>yx,ExperimentWriteType:()=>yT,ExportTraceServiceRequest:()=>D2,Feedback:()=>D4,FeedbackCreate:()=>Ce,FeedbackDefinitionPagePublic:()=>Ci,FeedbackObjectPublic:()=>Cn,FeedbackPublic:()=>Cs,FeedbackScore:()=>yy,FeedbackScoreAverage:()=>_J,FeedbackScoreAverageDetailed:()=>Cl,FeedbackScoreAveragePublic:()=>v_,FeedbackScoreBatch:()=>Cd,FeedbackScoreBatchItem:()=>Cp,FeedbackScoreBatchItemSource:()=>Cu,FeedbackScoreBatchItemThread:()=>_j,FeedbackScoreBatchItemThreadSource:()=>_R,FeedbackScoreBatchThread:()=>_F,FeedbackScoreCompare:()=>Dt,FeedbackScoreCompareSource:()=>w9,FeedbackScoreExperimentItemBulkWriteView:()=>yo,FeedbackScoreExperimentItemBulkWriteViewSource:()=>ye,FeedbackScoreNames:()=>Ch,FeedbackScorePublic:()=>Cy,FeedbackScorePublicSource:()=>Cm,FeedbackScoreSource:()=>ym,FeedbackUpdate:()=>Cw,FindFeedbackDefinitionsRequestType:()=>yO,FindFeedbackScoreNames1RequestType:()=>_E,Function:()=>fm,FunctionCall:()=>fg,GetSpanStatsRequestType:()=>_k,GetSpansByProjectRequestType:()=>_x,GetWebhookExamplesRequestAlertType:()=>fe,GroupContent:()=>DB,GroupContentWithAggregations:()=>DA,GroupDetail:()=>DM,GroupDetails:()=>DU,Guardrail:()=>CE,GuardrailBatch:()=>Ck,GuardrailBatchWrite:()=>yB,GuardrailName:()=>CD,GuardrailResult:()=>CC,GuardrailWrite:()=>yN,GuardrailWriteName:()=>yI,GuardrailWriteResult:()=>yA,GuardrailsValidation:()=>Dz,GuardrailsValidationPublic:()=>Cx,IdsHolder:()=>CT,ImageUrl:()=>vP,ImageUrlPublic:()=>v5,ImageUrlWrite:()=>bi,JsonListString:()=>y_,JsonListStringCompare:()=>Dr,JsonListStringExperimentItemBulkWriteView:()=>yn,JsonListStringPublic:()=>DY,JsonListStringWrite:()=>yE,JsonNode:()=>fU,JsonNodeDetail:()=>y8,JsonNodePublic:()=>fk,JsonNodeWrite:()=>fT,JsonSchema:()=>fy,LlmAsJudgeCode:()=>vL,LlmAsJudgeCodePublic:()=>bo,LlmAsJudgeCodeWrite:()=>bh,LlmAsJudgeMessage:()=>vN,LlmAsJudgeMessageContent:()=>vI,LlmAsJudgeMessageContentPublic:()=>v8,LlmAsJudgeMessageContentWrite:()=>bs,LlmAsJudgeMessagePublic:()=>v7,LlmAsJudgeMessagePublicRole:()=>v9,LlmAsJudgeMessageRole:()=>vA,LlmAsJudgeMessageWrite:()=>bu,LlmAsJudgeMessageWriteRole:()=>bl,LlmAsJudgeModelParameters:()=>vB,LlmAsJudgeModelParametersPublic:()=>be,LlmAsJudgeModelParametersWrite:()=>bp,LlmAsJudgeOutputSchema:()=>vU,LlmAsJudgeOutputSchemaPublic:()=>br,LlmAsJudgeOutputSchemaPublicType:()=>bt,LlmAsJudgeOutputSchemaType:()=>vM,LlmAsJudgeOutputSchemaWrite:()=>bc,LlmAsJudgeOutputSchemaWriteType:()=>bd,LogItem:()=>CR,LogItemLevel:()=>CS,LogPage:()=>Cj,ManualEvaluationRequest:()=>CP,ManualEvaluationRequestEntityType:()=>CF,ManualEvaluationResponse:()=>CO,Message:()=>ff,MultipartUploadPart:()=>wz,NumericalFeedbackDefinition:()=>D6,NumericalFeedbackDefinitionCreate:()=>D9,NumericalFeedbackDefinitionPublic:()=>Cr,NumericalFeedbackDefinitionUpdate:()=>Cv,NumericalFeedbackDetail:()=>D3,NumericalFeedbackDetailCreate:()=>D8,NumericalFeedbackDetailPublic:()=>Ct,NumericalFeedbackDetailUpdate:()=>C_,Optimization:()=>C$,OptimizationPagePublic:()=>CQ,OptimizationPublic:()=>CY,OptimizationPublicStatus:()=>Cz,OptimizationStatus:()=>CI,OptimizationStudioConfig:()=>Cq,OptimizationStudioConfigPublic:()=>CJ,OptimizationStudioConfigWrite:()=>C5,OptimizationStudioLog:()=>C4,OptimizationUpdate:()=>yW,OptimizationUpdateStatus:()=>yz,OptimizationWrite:()=>C9,OptimizationWriteStatus:()=>C8,PageColumns:()=>C7,PercentageValueStatPublic:()=>Ee,PercentageValues:()=>_Y,PercentageValuesDetailed:()=>Et,PercentageValuesPublic:()=>DQ,Project:()=>Eo,ProjectDetailed:()=>Ei,ProjectDetailedVisibility:()=>En,ProjectMetricRequestPublic:()=>y0,ProjectMetricRequestPublicInterval:()=>yQ,ProjectMetricRequestPublicMetricType:()=>yX,ProjectMetricResponsePublic:()=>Eu,ProjectMetricResponsePublicInterval:()=>Ea,ProjectMetricResponsePublicMetricType:()=>Es,ProjectPagePublic:()=>Ec,ProjectPublic:()=>Ed,ProjectPublicVisibility:()=>Ep,ProjectReference:()=>v2,ProjectReferencePublic:()=>bS,ProjectRetrieveDetailed:()=>y1,ProjectStatItemObjectPublic:()=>Em,ProjectStatsPublic:()=>Eg,ProjectStatsSummary:()=>Ey,ProjectStatsSummaryItem:()=>Ef,ProjectUpdate:()=>y3,ProjectUpdateVisibility:()=>y2,ProjectVisibility:()=>Er,ProjectWrite:()=>y5,ProjectWriteVisibility:()=>y6,Prompt:()=>EC,PromptDetail:()=>Ek,PromptDetailTemplateStructure:()=>EE,PromptPagePublic:()=>ES,PromptPublic:()=>ET,PromptPublicTemplateStructure:()=>Ex,PromptTemplateStructure:()=>E_,PromptTokensDetails:()=>ww,PromptType:()=>Ev,PromptUpdatable:()=>_o,PromptVersion:()=>ED,PromptVersionBatchUpdate:()=>_i,PromptVersionDetail:()=>_e,PromptVersionDetailTemplateStructure:()=>y9,PromptVersionDetailType:()=>y7,PromptVersionLink:()=>DO,PromptVersionLinkPublic:()=>DX,PromptVersionLinkWrite:()=>yk,PromptVersionPagePublic:()=>EP,PromptVersionPublic:()=>EF,PromptVersionPublicTemplateStructure:()=>ER,PromptVersionPublicType:()=>Ej,PromptVersionRetrieveDetail:()=>_a,PromptVersionTemplateStructure:()=>Eb,PromptVersionType:()=>Ew,PromptVersionUpdate:()=>_n,PromptWrite:()=>_u,PromptWriteTemplateStructure:()=>_s,PromptWriteType:()=>_l,ProviderApiKey:()=>EI,ProviderApiKeyPagePublic:()=>EB,ProviderApiKeyProvider:()=>EO,ProviderApiKeyPublic:()=>EN,ProviderApiKeyPublicProvider:()=>EA,ProviderApiKeyUpdate:()=>yU,ProviderApiKeyWrite:()=>yq,ProviderApiKeyWriteProvider:()=>yL,ResponseFormat:()=>fv,ResponseFormatType:()=>f_,Result:()=>EM,ResultsNumberPublic:()=>El,ScoreName:()=>Cc,ServiceTogglesConfig:()=>EU,Span:()=>D$,SpanBatch:()=>EL,SpanBatchUpdate:()=>_m,SpanBatchWrite:()=>__,SpanEnrichmentOptions:()=>fj,SpanExperimentItemBulkWriteView:()=>ys,SpanExperimentItemBulkWriteViewType:()=>ya,SpanFilter:()=>vV,SpanFilterOperator:()=>vW,SpanFilterPublic:()=>yG,SpanFilterPublicOperator:()=>yK,SpanFilterWrite:()=>bN,SpanFilterWriteOperator:()=>bA,SpanLlmAsJudgeCode:()=>vK,SpanLlmAsJudgeCodePublic:()=>b_,SpanLlmAsJudgeCodeWrite:()=>bB,SpanPagePublic:()=>Ez,SpanPublic:()=>E$,SpanPublicType:()=>Eq,SpanSearchStreamRequestPublic:()=>_b,SpanSearchStreamRequestPublicType:()=>_v,SpanType:()=>Dq,SpanUpdate:()=>_h,SpanUpdateType:()=>_c,SpanUserDefinedMetricPythonCode:()=>vH,SpanUserDefinedMetricPythonCodePublic:()=>bb,SpanUserDefinedMetricPythonCodeWrite:()=>bU,SpanWrite:()=>_y,SpanWriteType:()=>_f,SpansCountResponse:()=>EV,StartMultipartUploadRequest:()=>fs,StartMultipartUploadRequestEntityType:()=>fa,StartMultipartUploadResponse:()=>EK,StreamOptions:()=>fb,StudioEvaluation:()=>CN,StudioEvaluationPublic:()=>CV,StudioEvaluationWrite:()=>C0,StudioLlmModel:()=>CB,StudioLlmModelPublic:()=>CK,StudioLlmModelWrite:()=>C1,StudioMessage:()=>CU,StudioMessagePublic:()=>CH,StudioMessageWrite:()=>C3,StudioMetric:()=>CA,StudioMetricPublic:()=>CW,StudioMetricWrite:()=>CX,StudioOptimizer:()=>CM,StudioOptimizerPublic:()=>CG,StudioOptimizerWrite:()=>C2,StudioPrompt:()=>CL,StudioPromptPublic:()=>CZ,StudioPromptWrite:()=>C6,Tool:()=>fD,ToolCall:()=>vC,ToolCallType:()=>vD,ToolType:()=>fw,Trace:()=>DV,TraceBatch:()=>EG,TraceBatchUpdate:()=>_O,TraceBatchWrite:()=>_A,TraceCountResponse:()=>EZ,TraceEnrichmentOptions:()=>fP,TraceExperimentItemBulkWriteView:()=>yl,TraceFilter:()=>v$,TraceFilterOperator:()=>vq,TraceFilterPublic:()=>yZ,TraceFilterPublicOperator:()=>yH,TraceFilterWrite:()=>bg,TraceFilterWriteOperator:()=>bm,TracePagePublic:()=>EQ,TracePublic:()=>EY,TracePublicVisibilityMode:()=>EJ,TraceSearchStreamRequestPublic:()=>_N,TraceThread:()=>E0,TraceThreadBatchIdentifier:()=>_B,TraceThreadBatchUpdate:()=>_U,TraceThreadFilter:()=>_q,TraceThreadFilterOperator:()=>_L,TraceThreadFilterPublic:()=>yY,TraceThreadFilterPublicOperator:()=>yJ,TraceThreadFilterWrite:()=>b$,TraceThreadFilterWriteOperator:()=>bq,TraceThreadIdentifier:()=>E1,TraceThreadLlmAsJudgeCode:()=>vJ,TraceThreadLlmAsJudgeCodePublic:()=>bD,TraceThreadLlmAsJudgeCodeWrite:()=>bz,TraceThreadPage:()=>E2,TraceThreadSearchStreamRequest:()=>_$,TraceThreadStatus:()=>EX,TraceThreadUpdate:()=>_M,TraceThreadUserDefinedMetricPythonCode:()=>vQ,TraceThreadUserDefinedMetricPythonCodePublic:()=>bE,TraceThreadUserDefinedMetricPythonCodeWrite:()=>bV,TraceUpdate:()=>_P,TraceVisibilityMode:()=>DW,TraceWrite:()=>_I,UploadAttachmentRequestEntityType:()=>fh,Usage:()=>wD,UserDefinedMetricPythonCode:()=>v0,UserDefinedMetricPythonCodePublic:()=>bx,UserDefinedMetricPythonCodeWrite:()=>b2,ValueEntry:()=>yf,ValueEntryCompare:()=>De,ValueEntryCompareSource:()=>w7,ValueEntryExperimentItemBulkWriteView:()=>yr,ValueEntryExperimentItemBulkWriteViewSource:()=>yt,ValueEntryPublic:()=>Cf,ValueEntryPublicSource:()=>Cg,ValueEntrySource:()=>yg,VideoUrl:()=>vO,VideoUrlPublic:()=>v4,VideoUrlWrite:()=>ba,Webhook:()=>_6,WebhookExamples:()=>E3,WebhookPublic:()=>vt,WebhookTestResult:()=>E5,WebhookTestResultStatus:()=>E6,WebhookWrite:()=>vu,WelcomeWizardSubmission:()=>_H,WelcomeWizardTracking:()=>E4,WorkspaceConfiguration:()=>E8,WorkspaceMetricRequest:()=>E9,WorkspaceMetricResponse:()=>E7,WorkspaceMetricsSummaryRequest:()=>ke,WorkspaceMetricsSummaryResponse:()=>kt,WorkspaceNameHolder:()=>kr,WorkspaceSpansCount:()=>EW,WorkspaceTraceCount:()=>EH,alerts:()=>g7,annotationQueues:()=>fi,attachments:()=>fl,chatCompletions:()=>fE,dashboards:()=>fR,datasets:()=>f0,experiments:()=>yR,feedbackDefinitions:()=>yP,guardrails:()=>yM,llmProviderKey:()=>y$,optimizations:()=>yV,projects:()=>y4,prompts:()=>_p,spans:()=>_w,traces:()=>_z,welcomeWizard:()=>_Z});var g7={};dF(g7,{GetWebhookExamplesRequestAlertType:()=>fe});var fe=m8.enum_(["general","slack","pagerduty"]),ft=m8.enum_(["trace","thread"]),fr=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string()),name:m8.string(),description:m8.string().optional(),instructions:m8.string().optional(),scope:ft,commentsEnabled:m8.property("comments_enabled",m8.boolean().optional()),feedbackDefinitionNames:m8.property("feedback_definition_names",m8.list(m8.string()).optional())}),fo=m8.object({annotationQueues:m8.property("annotation_queues",m8.list(fr))}),fn=m8.object({name:m8.string().optional(),description:m8.string().optional(),instructions:m8.string().optional(),commentsEnabled:m8.property("comments_enabled",m8.boolean().optional()),feedbackDefinitionNames:m8.property("feedback_definition_names",m8.list(m8.string()).optional())}),fi={};dF(fi,{AnnotationQueueBatchWrite:()=>fo,AnnotationQueueUpdate:()=>fn});var fa=m8.enum_(["trace","span"]),fs=m8.object({fileName:m8.property("file_name",m8.string()),numOfFileParts:m8.property("num_of_file_parts",m8.number()),mimeType:m8.property("mime_type",m8.string().optional()),projectName:m8.property("project_name",m8.string().optional()),entityType:m8.property("entity_type",fa),entityId:m8.property("entity_id",m8.string()),path:m8.string()}),fl={};dF(fl,{AttachmentListRequestEntityType:()=>fd,DownloadAttachmentRequestEntityType:()=>fc,StartMultipartUploadRequest:()=>fs,StartMultipartUploadRequestEntityType:()=>fa,UploadAttachmentRequestEntityType:()=>fh,uploadAttachment:()=>fu});var fu={};dF(fu,{Request:()=>fp});var fp=m8.record(m8.string(),m8.unknown()),fd=m8.enum_(["trace","span"]),fc=m8.enum_(["trace","span"]),fh=m8.enum_(["trace","span"]),fm=m8.object({name:m8.string().optional(),description:m8.string().optional(),strict:m8.boolean().optional(),parameters:m8.record(m8.string(),m8.record(m8.string(),m8.unknown())).optional()}),fg=m8.object({name:m8.string().optional(),arguments:m8.string().optional()}),ff=m8.record(m8.string(),m8.unknown()),fy=m8.object({name:m8.string().optional(),strict:m8.boolean().optional(),schema:m8.record(m8.string(),m8.record(m8.string(),m8.unknown())).optional()}),f_=m8.enum_(["text","json_object","json_schema"]),fv=m8.object({type:f_.optional(),jsonSchema:m8.property("json_schema",fy.optional())}),fb=m8.object({includeUsage:m8.property("include_usage",m8.boolean().optional())}),fw=m8.enum_(["function"]),fD=m8.object({type:fw.optional(),function:fm.optional()}),fC=m8.object({model:m8.string().optional(),messages:m8.list(ff).optional(),temperature:m8.number().optional(),topP:m8.property("top_p",m8.number().optional()),n:m8.number().optional(),stream:m8.boolean().optional(),streamOptions:m8.property("stream_options",fb.optional()),stop:m8.list(m8.string()).optional(),maxTokens:m8.property("max_tokens",m8.number().optional()),maxCompletionTokens:m8.property("max_completion_tokens",m8.number().optional()),presencePenalty:m8.property("presence_penalty",m8.number().optional()),frequencyPenalty:m8.property("frequency_penalty",m8.number().optional()),logitBias:m8.property("logit_bias",m8.record(m8.string(),m8.number()).optional()),user:m8.string().optional(),responseFormat:m8.property("response_format",fv.optional()),seed:m8.number().optional(),tools:m8.list(fD).optional(),toolChoice:m8.property("tool_choice",m8.record(m8.string(),m8.unknown()).optional()),parallelToolCalls:m8.property("parallel_tool_calls",m8.boolean().optional()),store:m8.boolean().optional(),metadata:m8.record(m8.string(),m8.string()).optional(),reasoningEffort:m8.property("reasoning_effort",m8.string().optional()),serviceTier:m8.property("service_tier",m8.string().optional()),functions:m8.list(fm).optional(),functionCall:m8.property("function_call",fg.optional())}),fE={};dF(fE,{ChatCompletionRequest:()=>fC});var fk=m8.record(m8.string(),m8.unknown()),fx=m8.object({name:m8.string().optional(),description:m8.string().optional(),config:fk.optional()}),fT=m8.record(m8.string(),m8.unknown()),fS=m8.object({name:m8.string(),description:m8.string().optional(),config:fT}),fR={};dF(fR,{DashboardUpdatePublic:()=>fx,DashboardWrite:()=>fS});var fj=m8.object({includeTags:m8.boolean().optional(),includeFeedbackScores:m8.boolean().optional(),includeComments:m8.boolean().optional(),includeUsage:m8.boolean().optional(),includeMetadata:m8.boolean().optional()}),fF=m8.object({spanIds:m8.property("span_ids",m8.list(m8.string())),enrichmentOptions:m8.property("enrichment_options",fj)}),fP=m8.object({includeSpans:m8.boolean().optional(),includeTags:m8.boolean().optional(),includeFeedbackScores:m8.boolean().optional(),includeComments:m8.boolean().optional(),includeUsage:m8.boolean().optional(),includeMetadata:m8.boolean().optional()}),fO=m8.object({traceIds:m8.property("trace_ids",m8.list(m8.string())),enrichmentOptions:m8.property("enrichment_options",fP)}),fI=m8.object({model:m8.string(),sampleCount:m8.property("sample_count",m8.number().optional()),preserveFields:m8.property("preserve_fields",m8.list(m8.string()).optional()),variationInstructions:m8.property("variation_instructions",m8.string().optional()),customPrompt:m8.property("custom_prompt",m8.string().optional())}),fA=m8.object({datasetName:m8.property("dataset_name",m8.string())}),fN=m8.object({datasetName:m8.property("dataset_name",m8.string())}),fB=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),fM=m8.object({field:m8.string().optional(),operator:fB.optional(),key:m8.string().optional(),value:m8.string().optional()}),fU=m8.record(m8.string(),m8.unknown()),fL=m8.object({input:m8.string().optional(),expectedOutput:m8.property("expected_output",m8.string().optional()),metadata:fU.optional(),data:fU.optional(),tags:m8.list(m8.string()).optional()}),fq=m8.object({ids:m8.list(m8.string()).optional(),filters:m8.list(fM).optional(),datasetId:m8.property("dataset_id",m8.string().optional()),update:fL,mergeTags:m8.property("merge_tags",m8.boolean().optional())}),f$=m8.enum_(["manual","trace","span","sdk"]),fz=m8.object({id:m8.string().optional(),traceId:m8.property("trace_id",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional()),source:f$,data:fU,tags:m8.list(m8.string()).optional()}),fW=m8.object({datasetName:m8.property("dataset_name",m8.string().optional()),datasetId:m8.property("dataset_id",m8.string().optional()),items:m8.list(fz),batchGroupId:m8.property("batch_group_id",m8.string().optional())}),fV=m8.object({datasetName:m8.property("dataset_name",m8.string()),lastRetrievedId:m8.property("last_retrieved_id",m8.string().optional()),steamLimit:m8.property("steam_limit",m8.number().optional()),datasetVersion:m8.property("dataset_version",m8.string().optional())}),fK=m8.object({itemIds:m8.property("item_ids",m8.list(m8.string()).optional()),datasetId:m8.property("dataset_id",m8.string().optional()),filters:m8.list(fM).optional(),batchGroupId:m8.property("batch_group_id",m8.string().optional())}),fG=m8.enum_(["private","public"]),fH=m8.object({name:m8.string(),description:m8.string().optional(),visibility:fG.optional(),tags:m8.list(m8.string()).optional()}),fZ=m8.object({versionRef:m8.property("version_ref",m8.string())}),fJ=m8.object({tag:m8.string()}),fY=m8.object({changeDescription:m8.property("change_description",m8.string().optional()),tagsToAdd:m8.property("tags_to_add",m8.list(m8.string()).optional())}),fQ=m8.enum_(["private","public"]),fX=m8.object({id:m8.string().optional(),name:m8.string(),visibility:fQ.optional(),tags:m8.list(m8.string()).optional(),description:m8.string().optional()}),f0={};dF(f0,{CreateDatasetItemsFromSpansRequest:()=>fF,CreateDatasetItemsFromTracesRequest:()=>fO,DatasetExpansionWrite:()=>fI,DatasetIdentifier:()=>fA,DatasetIdentifierPublic:()=>fN,DatasetItemBatchUpdate:()=>fq,DatasetItemBatchWrite:()=>fW,DatasetItemStreamRequest:()=>fV,DatasetItemsDelete:()=>fK,DatasetUpdate:()=>fH,DatasetUpdateVisibility:()=>fG,DatasetVersionRestorePublic:()=>fZ,DatasetVersionTag:()=>fJ,DatasetVersionUpdatePublic:()=>fY,DatasetWrite:()=>fX,DatasetWriteVisibility:()=>fQ,getDatasetExportJobs:()=>f1});var f1={};dF(f1,{Response:()=>f6});var f2=m8.enum_(["PENDING","PROCESSING","COMPLETED","FAILED"]),f3=m8.object({id:m8.string().optional(),datasetId:m8.property("dataset_id",m8.string().optional()),datasetName:m8.property("dataset_name",m8.string().optional()),status:f2.optional(),filePath:m8.property("file_path",m8.string().optional()),errorMessage:m8.property("error_message",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),expiresAt:m8.property("expires_at",m8.date().optional()),viewedAt:m8.property("viewed_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),f6=m8.list(f3),f5=m8.object({name:m8.string(),value:m8.number()}),f4=m8.enum_(["running","completed","cancelled"]),f8=m8.enum_(["regular","trial","mini-batch"]),f9=m8.object({name:m8.string().optional(),metadata:fU.optional(),tags:m8.list(m8.string()).optional(),type:f8.optional(),status:f4.optional(),experimentScores:m8.property("experiment_scores",m8.list(f5).optional())}),f7=m8.object({ids:m8.list(m8.string()),update:f9,mergeTags:m8.property("merge_tags",m8.boolean().optional())}),ye=m8.enum_(["ui","sdk","online_scoring"]),yt=m8.enum_(["ui","sdk","online_scoring"]),yr=m8.object({value:m8.number().optional(),reason:m8.string().optional(),categoryName:m8.property("category_name",m8.string().optional()),source:yt.optional(),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),spanType:m8.property("span_type",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional())}),yo=m8.object({name:m8.string(),categoryName:m8.property("category_name",m8.string().optional()),value:m8.number(),reason:m8.string().optional(),source:ye,createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),valueByAuthor:m8.property("value_by_author",m8.record(m8.string(),yr).optional())}),yn=m8.undiscriminatedUnion([m8.record(m8.string(),m8.unknown()),m8.list(m8.record(m8.string(),m8.unknown())),m8.string()]),yi=m8.object({exceptionType:m8.property("exception_type",m8.string()),message:m8.string().optional(),traceback:m8.string()}),ya=m8.enum_(["general","tool","llm","guardrail"]),ys=m8.object({id:m8.string().optional(),parentSpanId:m8.property("parent_span_id",m8.string().optional()),name:m8.string().optional(),type:ya.optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:yn.optional(),output:yn.optional(),metadata:yn.optional(),model:m8.string().optional(),provider:m8.string().optional(),tags:m8.list(m8.string()).optional(),usage:m8.record(m8.string(),m8.number()).optional(),errorInfo:m8.property("error_info",yi.optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostVersion:m8.property("total_estimated_cost_version",m8.string().optional())}),yl=m8.object({id:m8.string().optional(),projectName:m8.property("project_name",m8.string().optional()),name:m8.string().optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:yn.optional(),output:yn.optional(),metadata:yn.optional(),tags:m8.list(m8.string()).optional(),errorInfo:m8.property("error_info",yi.optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),threadId:m8.property("thread_id",m8.string().optional())}),yu=m8.object({datasetItemId:m8.property("dataset_item_id",m8.string()),evaluateTaskResult:m8.property("evaluate_task_result",yn.optional()),trace:yl.optional(),spans:m8.list(ys).optional(),feedbackScores:m8.property("feedback_scores",m8.list(yo).optional())}),yp=m8.object({experimentName:m8.property("experiment_name",m8.string()),datasetName:m8.property("dataset_name",m8.string()),experimentId:m8.property("experiment_id",m8.string().optional()),items:m8.list(yu)}),yd=m8.object({experimentName:m8.property("experiment_name",m8.string()),limit:m8.number().optional(),lastRetrievedId:m8.property("last_retrieved_id",m8.string().optional()),truncate:m8.boolean().optional()}),yc=m8.object({id:m8.string().optional(),text:m8.string(),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),yh=m8.enum_(["default","hidden"]),ym=m8.enum_(["ui","sdk","online_scoring"]),yg=m8.enum_(["ui","sdk","online_scoring"]),yf=m8.object({value:m8.number().optional(),reason:m8.string().optional(),categoryName:m8.property("category_name",m8.string().optional()),source:yg.optional(),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),spanType:m8.property("span_type",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional())}),yy=m8.object({name:m8.string(),categoryName:m8.property("category_name",m8.string().optional()),value:m8.number(),reason:m8.string().optional(),source:ym,createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),valueByAuthor:m8.property("value_by_author",m8.record(m8.string(),yf).optional())}),y_=m8.undiscriminatedUnion([m8.record(m8.string(),m8.unknown()),m8.list(m8.record(m8.string(),m8.unknown())),m8.string()]),yv=m8.object({id:m8.string().optional(),experimentId:m8.property("experiment_id",m8.string()),datasetItemId:m8.property("dataset_item_id",m8.string()),traceId:m8.property("trace_id",m8.string()),input:y_.optional(),output:y_.optional(),feedbackScores:m8.property("feedback_scores",m8.list(yy).optional()),comments:m8.list(yc).optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),duration:m8.number().optional(),usage:m8.record(m8.string(),m8.number()).optional(),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),traceVisibilityMode:m8.property("trace_visibility_mode",yh.optional())}),yb=m8.object({experimentItems:m8.property("experiment_items",m8.list(yv))}),yw=m8.object({ids:m8.list(m8.string())}),yD=m8.object({name:m8.string(),limit:m8.number().optional(),lastRetrievedId:m8.property("last_retrieved_id",m8.string().optional())}),yC=m8.object({name:m8.string(),value:m8.number()}),yE=m8.undiscriminatedUnion([m8.record(m8.string(),m8.unknown()),m8.list(m8.record(m8.string(),m8.unknown())),m8.string()]),yk=m8.object({id:m8.string()}),yx=m8.enum_(["running","completed","cancelled"]),yT=m8.enum_(["regular","trial","mini-batch"]),yS=m8.object({id:m8.string().optional(),datasetName:m8.property("dataset_name",m8.string()),name:m8.string().optional(),metadata:yE.optional(),tags:m8.list(m8.string()).optional(),type:yT.optional(),optimizationId:m8.property("optimization_id",m8.string().optional()),status:yx.optional(),experimentScores:m8.property("experiment_scores",m8.list(yC).optional()),promptVersion:m8.property("prompt_version",yk.optional()),promptVersions:m8.property("prompt_versions",m8.list(yk).optional()),datasetVersionId:m8.property("dataset_version_id",m8.string().optional())}),yR={};dF(yR,{ExperimentBatchUpdate:()=>f7,ExperimentItemBulkUploadExperimentItemBulkWriteView:()=>yp,ExperimentItemStreamRequest:()=>yd,ExperimentItemsBatch:()=>yb,ExperimentItemsDelete:()=>yw,ExperimentStreamRequestPublic:()=>yD,ExperimentWrite:()=>yS,ExperimentWriteStatus:()=>yx,ExperimentWriteType:()=>yT,findFeedbackScoreNames:()=>yj});var yj={};dF(yj,{Response:()=>yF});var yF=m8.list(m8.string()),yP={};dF(yP,{FindFeedbackDefinitionsRequestType:()=>yO});var yO=m8.enum_(["numerical","categorical","boolean"]),yI=m8.enum_(["TOPIC","PII"]),yA=m8.enum_(["passed","failed"]),yN=m8.object({entityId:m8.property("entity_id",m8.string()),secondaryId:m8.property("secondary_id",m8.string()),projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:yI,result:yA,config:fU,details:fU}),yB=m8.object({guardrails:m8.list(yN)}),yM={};dF(yM,{GuardrailBatchWrite:()=>yB});var yU=m8.object({apiKey:m8.property("api_key",m8.string().optional()),name:m8.string().optional(),providerName:m8.property("provider_name",m8.string().optional()),headers:m8.record(m8.string(),m8.string()).optional(),configuration:m8.record(m8.string(),m8.string()).optional(),baseUrl:m8.property("base_url",m8.string().optional())}),yL=m8.enum_(["openai","anthropic","gemini","openrouter","vertex-ai","bedrock","custom-llm","opik-free"]),yq=m8.object({provider:yL,apiKey:m8.property("api_key",m8.string().optional()),name:m8.string().optional(),providerName:m8.property("provider_name",m8.string().optional()),headers:m8.record(m8.string(),m8.string()).optional(),configuration:m8.record(m8.string(),m8.string()).optional(),baseUrl:m8.property("base_url",m8.string().optional())}),y$={};dF(y$,{ProviderApiKeyUpdate:()=>yU,ProviderApiKeyWrite:()=>yq,ProviderApiKeyWriteProvider:()=>yL});var yz=m8.enum_(["running","completed","cancelled","initialized","error"]),yW=m8.object({name:m8.string().optional(),status:yz.optional()}),yV={};dF(yV,{OptimizationUpdate:()=>yW,OptimizationUpdateStatus:()=>yz});var yK=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),yG=m8.object({field:m8.string().optional(),operator:yK.optional(),key:m8.string().optional(),value:m8.string().optional()}),yH=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),yZ=m8.object({field:m8.string().optional(),operator:yH.optional(),key:m8.string().optional(),value:m8.string().optional()}),yJ=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),yY=m8.object({field:m8.string().optional(),operator:yJ.optional(),key:m8.string().optional(),value:m8.string().optional()}),yQ=m8.enum_(["HOURLY","DAILY","WEEKLY"]),yX=m8.enum_(["FEEDBACK_SCORES","TRACE_COUNT","TOKEN_USAGE","DURATION","COST","GUARDRAILS_FAILED_COUNT","THREAD_COUNT","THREAD_DURATION","THREAD_FEEDBACK_SCORES","SPAN_FEEDBACK_SCORES","SPAN_COUNT","SPAN_DURATION","SPAN_TOKEN_USAGE"]),y0=m8.object({metricType:m8.property("metric_type",yX.optional()),interval:yQ.optional(),intervalStart:m8.property("interval_start",m8.date().optional()),intervalEnd:m8.property("interval_end",m8.date().optional()),spanFilters:m8.property("span_filters",m8.list(yG).optional()),traceFilters:m8.property("trace_filters",m8.list(yZ).optional()),threadFilters:m8.property("thread_filters",m8.list(yY).optional())}),y1=m8.object({name:m8.string()}),y2=m8.enum_(["private","public"]),y3=m8.object({name:m8.string().optional(),description:m8.string().optional(),visibility:y2.optional()}),y6=m8.enum_(["private","public"]),y5=m8.object({name:m8.string(),visibility:y6.optional(),description:m8.string().optional()}),y4={};dF(y4,{ProjectMetricRequestPublic:()=>y0,ProjectMetricRequestPublicInterval:()=>yQ,ProjectMetricRequestPublicMetricType:()=>yX,ProjectRetrieveDetailed:()=>y1,ProjectUpdate:()=>y3,ProjectUpdateVisibility:()=>y2,ProjectWrite:()=>y5,ProjectWriteVisibility:()=>y6});var y8=m8.record(m8.string(),m8.unknown()),y9=m8.enum_(["text","chat"]),y7=m8.enum_(["mustache","jinja2"]),_e=m8.object({id:m8.string().optional(),promptId:m8.property("prompt_id",m8.string().optional()),commit:m8.string().optional(),template:m8.string(),metadata:y8.optional(),type:y7.optional(),changeDescription:m8.property("change_description",m8.string().optional()),tags:m8.list(m8.string()).optional(),variables:m8.list(m8.string()).optional(),templateStructure:m8.property("template_structure",y9.optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional())}),_t=m8.enum_(["text","chat"]),_r=m8.object({name:m8.string(),version:_e,templateStructure:m8.property("template_structure",_t.optional())}),_o=m8.object({name:m8.string(),description:m8.string().optional(),tags:m8.list(m8.string()).optional()}),_n=m8.object({tags:m8.list(m8.string()).optional()}),_i=m8.object({ids:m8.list(m8.string()),update:_n,mergeTags:m8.property("merge_tags",m8.boolean().optional())}),_a=m8.object({name:m8.string(),commit:m8.string().optional()}),_s=m8.enum_(["text","chat"]),_l=m8.enum_(["mustache","jinja2"]),_u=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional(),template:m8.string().optional(),metadata:fT.optional(),changeDescription:m8.property("change_description",m8.string().optional()),type:_l.optional(),templateStructure:m8.property("template_structure",_s.optional()),tags:m8.list(m8.string()).optional()}),_p={};dF(_p,{CreatePromptVersionDetail:()=>_r,CreatePromptVersionDetailTemplateStructure:()=>_t,PromptUpdatable:()=>_o,PromptVersionBatchUpdate:()=>_i,PromptVersionRetrieveDetail:()=>_a,PromptWrite:()=>_u,PromptWriteTemplateStructure:()=>_s,PromptWriteType:()=>_l});var _d=m8.object({exceptionType:m8.property("exception_type",m8.string()),message:m8.string().optional(),traceback:m8.string()}),_c=m8.enum_(["general","tool","llm","guardrail"]),_h=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),traceId:m8.property("trace_id",m8.string()),parentSpanId:m8.property("parent_span_id",m8.string().optional()),name:m8.string().optional(),type:_c.optional(),endTime:m8.property("end_time",m8.date().optional()),input:y_.optional(),output:y_.optional(),metadata:y_.optional(),model:m8.string().optional(),provider:m8.string().optional(),tags:m8.list(m8.string()).optional(),usage:m8.record(m8.string(),m8.number()).optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),errorInfo:m8.property("error_info",_d.optional())}),_m=m8.object({ids:m8.list(m8.string()),update:_h,mergeTags:m8.property("merge_tags",m8.boolean().optional())}),_g=m8.object({exceptionType:m8.property("exception_type",m8.string()),message:m8.string().optional(),traceback:m8.string()}),_f=m8.enum_(["general","tool","llm","guardrail"]),_y=m8.object({id:m8.string().optional(),projectName:m8.property("project_name",m8.string().optional()),traceId:m8.property("trace_id",m8.string().optional()),parentSpanId:m8.property("parent_span_id",m8.string().optional()),name:m8.string().optional(),type:_f.optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:yE.optional(),output:yE.optional(),metadata:yE.optional(),model:m8.string().optional(),provider:m8.string().optional(),tags:m8.list(m8.string()).optional(),usage:m8.record(m8.string(),m8.number()).optional(),errorInfo:m8.property("error_info",_g.optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostVersion:m8.property("total_estimated_cost_version",m8.string().optional())}),__=m8.object({spans:m8.list(_y)}),_v=m8.enum_(["general","tool","llm","guardrail"]),_b=m8.object({traceId:m8.property("trace_id",m8.string().optional()),projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),type:_v.optional(),filters:m8.list(yG).optional(),limit:m8.number().optional(),lastRetrievedId:m8.property("last_retrieved_id",m8.string().optional()),truncate:m8.boolean().optional(),fromTime:m8.property("from_time",m8.date().optional()),toTime:m8.property("to_time",m8.date().optional())}),_w={};dF(_w,{FindFeedbackScoreNames1RequestType:()=>_E,GetSpanStatsRequestType:()=>_k,GetSpansByProjectRequestType:()=>_x,SpanBatchUpdate:()=>_m,SpanBatchWrite:()=>__,SpanSearchStreamRequestPublic:()=>_b,SpanSearchStreamRequestPublicType:()=>_v,findFeedbackScoreNames1:()=>_D});var _D={};dF(_D,{Response:()=>_C});var _C=m8.list(m8.string()),_E=m8.enum_(["general","tool","llm","guardrail"]),_k=m8.enum_(["general","tool","llm","guardrail"]),_x=m8.enum_(["general","tool","llm","guardrail"]),_T=m8.object({projectName:m8.property("project_name",m8.string()),threadId:m8.property("thread_id",m8.string()),names:m8.list(m8.string()),author:m8.string().optional()}),_S=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),threadIds:m8.property("thread_ids",m8.list(m8.string()))}),_R=m8.enum_(["ui","sdk","online_scoring"]),_j=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:m8.string(),categoryName:m8.property("category_name",m8.string().optional()),value:m8.number(),reason:m8.string().optional(),source:_R,author:m8.string().optional(),threadId:m8.property("thread_id",m8.string())}),_F=m8.object({scores:m8.list(_j)}),_P=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:m8.string().optional(),endTime:m8.property("end_time",m8.date().optional()),input:y_.optional(),output:y_.optional(),metadata:y_.optional(),tags:m8.list(m8.string()).optional(),errorInfo:m8.property("error_info",_d.optional()),threadId:m8.property("thread_id",m8.string().optional())}),_O=m8.object({ids:m8.list(m8.string()),update:_P,mergeTags:m8.property("merge_tags",m8.boolean().optional())}),_I=m8.object({id:m8.string().optional(),projectName:m8.property("project_name",m8.string().optional()),name:m8.string().optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:yE.optional(),output:yE.optional(),metadata:yE.optional(),tags:m8.list(m8.string()).optional(),errorInfo:m8.property("error_info",_g.optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),threadId:m8.property("thread_id",m8.string().optional())}),_A=m8.object({traces:m8.list(_I)}),_N=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),filters:m8.list(yZ).optional(),lastRetrievedId:m8.property("last_retrieved_id",m8.string().optional()),limit:m8.number().optional(),truncate:m8.boolean().optional(),stripAttachments:m8.property("strip_attachments",m8.boolean().optional()),fromTime:m8.property("from_time",m8.date().optional()),toTime:m8.property("to_time",m8.date().optional())}),_B=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),threadId:m8.property("thread_id",m8.string().optional()),threadIds:m8.property("thread_ids",m8.list(m8.string()).optional())}),_M=m8.object({tags:m8.list(m8.string()).optional()}),_U=m8.object({ids:m8.list(m8.string()),update:_M,mergeTags:m8.property("merge_tags",m8.boolean().optional())}),_L=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),_q=m8.object({field:m8.string().optional(),operator:_L.optional(),key:m8.string().optional(),value:m8.string().optional()}),_$=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),filters:m8.list(_q).optional(),lastRetrievedThreadModelId:m8.property("last_retrieved_thread_model_id",m8.string().optional()),limit:m8.number().optional(),truncate:m8.boolean().optional(),stripAttachments:m8.property("strip_attachments",m8.boolean().optional()),fromTime:m8.property("from_time",m8.date().optional()),toTime:m8.property("to_time",m8.date().optional())}),_z={};dF(_z,{DeleteThreadFeedbackScores:()=>_T,DeleteTraceThreads:()=>_S,FeedbackScoreBatchThread:()=>_F,TraceBatchUpdate:()=>_O,TraceBatchWrite:()=>_A,TraceSearchStreamRequestPublic:()=>_N,TraceThreadBatchIdentifier:()=>_B,TraceThreadBatchUpdate:()=>_U,TraceThreadSearchStreamRequest:()=>_$,findFeedbackScoreNames2:()=>_W,findTraceThreadsFeedbackScoreNames:()=>_K});var _W={};dF(_W,{Response:()=>_V});var _V=m8.list(m8.string()),_K={};dF(_K,{Response:()=>_G});var _G=m8.list(m8.string()),_H=m8.object({role:m8.string().optional(),integrations:m8.list(m8.string()).optional(),email:m8.string().optional(),joinBetaProgram:m8.property("join_beta_program",m8.boolean().optional())}),_Z={};dF(_Z,{WelcomeWizardSubmission:()=>_H});var _J=m8.object({name:m8.string(),value:m8.number()}),_Y=m8.object({p50:m8.number().optional(),p90:m8.number().optional(),p99:m8.number().optional()}),_Q=m8.object({experimentCount:m8.property("experiment_count",m8.number().optional()),traceCount:m8.property("trace_count",m8.number().optional()),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostAvg:m8.property("total_estimated_cost_avg",m8.number().optional()),duration:_Y.optional(),feedbackScores:m8.property("feedback_scores",m8.list(_J).optional()),experimentScores:m8.property("experiment_scores",m8.list(_J).optional())}),_X=m8.enum_(["general","slack","pagerduty"]),_0=m8.enum_(["scope:project","threshold:feedback_score","threshold:cost","threshold:latency","threshold:errors"]),_1=m8.object({id:m8.string().optional(),alertTriggerId:m8.property("alert_trigger_id",m8.string().optional()),type:_0,configValue:m8.property("config_value",m8.record(m8.string(),m8.string()).optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),_2=m8.enum_(["trace:errors","trace:feedback_score","trace_thread:feedback_score","prompt:created","prompt:committed","trace:guardrails_triggered","prompt:deleted","experiment:finished","trace:cost","trace:latency"]),_3=m8.object({id:m8.string().optional(),alertId:m8.property("alert_id",m8.string().optional()),eventType:m8.property("event_type",_2),triggerConfigs:m8.property("trigger_configs",m8.list(_1).optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional())}),_6=m8.object({id:m8.string().optional(),name:m8.string().optional(),url:m8.string(),secretToken:m8.property("secret_token",m8.string().optional()),headers:m8.record(m8.string(),m8.string()).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),_5=m8.object({id:m8.string().optional(),name:m8.string().optional(),enabled:m8.boolean().optional(),alertType:m8.property("alert_type",_X.optional()),metadata:m8.record(m8.string(),m8.string()).optional(),webhook:_6,triggers:m8.list(_3).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),_4=m8.enum_(["general","slack","pagerduty"]),_8=m8.enum_(["scope:project","threshold:feedback_score","threshold:cost","threshold:latency","threshold:errors"]),_9=m8.object({id:m8.string().optional(),alertTriggerId:m8.property("alert_trigger_id",m8.string().optional()),type:_8,configValue:m8.property("config_value",m8.record(m8.string(),m8.string()).optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),_7=m8.enum_(["trace:errors","trace:feedback_score","trace_thread:feedback_score","prompt:created","prompt:committed","trace:guardrails_triggered","prompt:deleted","experiment:finished","trace:cost","trace:latency"]),ve=m8.object({id:m8.string().optional(),alertId:m8.property("alert_id",m8.string().optional()),eventType:m8.property("event_type",_7),triggerConfigs:m8.property("trigger_configs",m8.list(_9).optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional())}),vt=m8.object({id:m8.string().optional(),name:m8.string().optional(),url:m8.string(),secretToken:m8.property("secret_token",m8.string().optional()),headers:m8.record(m8.string(),m8.string()).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),vr=m8.object({id:m8.string().optional(),name:m8.string().optional(),enabled:m8.boolean().optional(),alertType:m8.property("alert_type",_4.optional()),metadata:m8.record(m8.string(),m8.string()).optional(),webhook:vt,triggers:m8.list(ve).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),vo=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(vr).optional(),sortableBy:m8.property("sortable_by",m8.list(m8.string()).optional())}),vn=m8.enum_(["scope:project","threshold:feedback_score","threshold:cost","threshold:latency","threshold:errors"]),vi=m8.object({id:m8.string().optional(),type:vn,configValue:m8.property("config_value",m8.record(m8.string(),m8.string()).optional())}),va=m8.enum_(["trace:errors","trace:feedback_score","trace_thread:feedback_score","prompt:created","prompt:committed","trace:guardrails_triggered","prompt:deleted","experiment:finished","trace:cost","trace:latency"]),vs=m8.object({id:m8.string().optional(),eventType:m8.property("event_type",va),triggerConfigs:m8.property("trigger_configs",m8.list(vi).optional())}),vl=m8.enum_(["general","slack","pagerduty"]),vu=m8.object({id:m8.string().optional(),name:m8.string().optional(),url:m8.string(),secretToken:m8.property("secret_token",m8.string().optional()),headers:m8.record(m8.string(),m8.string()).optional()}),vp=m8.object({id:m8.string().optional(),name:m8.string().optional(),enabled:m8.boolean().optional(),alertType:m8.property("alert_type",vl.optional()),metadata:m8.record(m8.string(),m8.string()).optional(),webhook:vu,triggers:m8.list(vs).optional()}),vd=m8.object({username:m8.string().optional(),status:m8.number().optional()}),vc=m8.enum_(["trace","thread"]),vh=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string()),projectName:m8.property("project_name",m8.string().optional()),name:m8.string(),description:m8.string().optional(),instructions:m8.string().optional(),scope:vc,commentsEnabled:m8.property("comments_enabled",m8.boolean().optional()),feedbackDefinitionNames:m8.property("feedback_definition_names",m8.list(m8.string()).optional()),reviewers:m8.list(vd).optional(),feedbackScores:m8.property("feedback_scores",m8.list(_J).optional()),itemsCount:m8.property("items_count",m8.number().optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),vm=m8.object({annotationQueues:m8.property("annotation_queues",m8.list(vh))}),vg=m8.object({ids:m8.list(m8.string())}),vf=m8.enum_(["trace","thread"]),vy=m8.object({username:m8.string().optional(),status:m8.number().optional()}),v_=m8.object({name:m8.string(),value:m8.number()}),vv=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string()),projectName:m8.property("project_name",m8.string().optional()),name:m8.string(),description:m8.string().optional(),instructions:m8.string().optional(),scope:vf,commentsEnabled:m8.property("comments_enabled",m8.boolean().optional()),feedbackDefinitionNames:m8.property("feedback_definition_names",m8.list(m8.string()).optional()),reviewers:m8.list(vy).optional(),feedbackScores:m8.property("feedback_scores",m8.list(v_).optional()),itemsCount:m8.property("items_count",m8.number().optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),vb=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(vv).optional(),sortableBy:m8.list(m8.string()).optional()}),vw=m8.enum_(["system","user","assistant","tool","function"]),vD=m8.enum_(["function"]),vC=m8.object({id:m8.string().optional(),index:m8.number().optional(),type:vD.optional(),function:fg.optional()}),vE=m8.object({role:vw.optional(),content:m8.string().optional(),reasoningContent:m8.property("reasoning_content",m8.string().optional()),name:m8.string().optional(),toolCalls:m8.property("tool_calls",m8.list(vC).optional()),refusal:m8.string().optional(),functionCall:m8.property("function_call",fg.optional())}),vk=m8.object({link:m8.string().optional(),fileName:m8.property("file_name",m8.string()),fileSize:m8.property("file_size",m8.number()),mimeType:m8.property("mime_type",m8.string())}),vx=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(vk).optional(),sortableBy:m8.list(m8.string()).optional()}),vT=m8.object({url:m8.string()}),vS=m8.object({url:m8.string()}),vR=m8.object({url:m8.string()}),vj=m8.record(m8.string(),m8.unknown()),vF=m8.enum_(["evaluator"]),vP=m8.object({url:m8.string(),detail:m8.string().optional()}),vO=m8.object({url:m8.string()}),vI=m8.object({type:m8.string(),text:m8.string().optional(),imageUrl:m8.property("image_url",vP.optional()),videoUrl:m8.property("video_url",vO.optional()),audioUrl:m8.property("audio_url",vT.optional())}),vA=m8.enum_(["SYSTEM","USER","AI","TOOL_EXECUTION_RESULT","CUSTOM"]),vN=m8.object({role:vA,content:m8.string().optional(),contentArray:m8.property("content_array",m8.list(vI).optional()),stringContent:m8.property("string_content",m8.boolean().optional()),structuredContent:m8.property("structured_content",m8.boolean().optional())}),vB=m8.object({name:m8.string(),temperature:m8.number(),seed:m8.number().optional(),customParameters:m8.property("custom_parameters",fU.optional())}),vM=m8.enum_(["BOOLEAN","INTEGER","DOUBLE"]),vU=m8.object({name:m8.string(),type:vM,description:m8.string()}),vL=m8.object({model:vB,messages:m8.list(vN),variables:m8.record(m8.string(),m8.string()),schema:m8.list(vU)}),vq=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),v$=m8.object({field:m8.string().optional(),operator:vq.optional(),key:m8.string().optional(),value:m8.string().optional()}),vz=m8.object({filters:m8.list(v$).optional(),code:vL.optional()}),vW=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),vV=m8.object({field:m8.string().optional(),operator:vW.optional(),key:m8.string().optional(),value:m8.string().optional()}),vK=m8.object({model:vB,messages:m8.list(vN),variables:m8.record(m8.string(),m8.string()),schema:m8.list(vU)}),vG=m8.object({filters:m8.list(vV).optional(),code:vK.optional()}),vH=m8.object({metric:m8.string(),arguments:m8.record(m8.string(),m8.string())}),vZ=m8.object({filters:m8.list(vV).optional(),code:vH.optional()}),vJ=m8.object({model:vB,messages:m8.list(vN),schema:m8.list(vU)}),vY=m8.object({filters:m8.list(_q).optional(),code:vJ.optional()}),vQ=m8.object({metric:m8.string()}),vX=m8.object({filters:m8.list(_q).optional(),code:vQ.optional()}),v0=m8.object({metric:m8.string(),arguments:m8.record(m8.string(),m8.string())}),v1=m8.object({filters:m8.list(v$).optional(),code:v0.optional()}),v2=m8.object({projectId:m8.property("project_id",m8.string()),projectName:m8.property("project_name",m8.string())}),v3=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string().optional()),projectName:m8.property("project_name",m8.string().optional()),projects:m8.list(v2).optional(),projectIds:m8.property("project_ids",m8.list(m8.string()).optional()),name:m8.string(),samplingRate:m8.property("sampling_rate",m8.number().optional()),enabled:m8.boolean().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),action:vF}),v6=m8.union("type",{llm_as_judge:vz.extend(v3),user_defined_metric_python:v1.extend(v3),trace_thread_llm_as_judge:vY.extend(v3),trace_thread_user_defined_metric_python:vX.extend(v3),span_llm_as_judge:vG.extend(v3),span_user_defined_metric_python:vZ.extend(v3)}).transform({transform:e=>e,untransform:e=>e}),v5=m8.object({url:m8.string(),detail:m8.string().optional()}),v4=m8.object({url:m8.string()}),v8=m8.object({type:m8.string(),text:m8.string().optional(),imageUrl:m8.property("image_url",v5.optional()),videoUrl:m8.property("video_url",v4.optional()),audioUrl:m8.property("audio_url",vS.optional())}),v9=m8.enum_(["SYSTEM","USER","AI","TOOL_EXECUTION_RESULT","CUSTOM"]),v7=m8.object({role:v9,content:m8.string().optional(),contentArray:m8.property("content_array",m8.list(v8).optional()),stringContent:m8.property("string_content",m8.boolean().optional()),structuredContent:m8.property("structured_content",m8.boolean().optional())}),be=m8.object({name:m8.string(),temperature:m8.number(),seed:m8.number().optional(),customParameters:m8.property("custom_parameters",fk.optional())}),bt=m8.enum_(["BOOLEAN","INTEGER","DOUBLE"]),br=m8.object({name:m8.string(),type:bt,description:m8.string()}),bo=m8.object({model:be,messages:m8.list(v7),variables:m8.record(m8.string(),m8.string()),schema:m8.list(br)}),bn=m8.object({filters:m8.list(yZ).optional(),code:bo.optional()}),bi=m8.object({url:m8.string(),detail:m8.string().optional()}),ba=m8.object({url:m8.string()}),bs=m8.object({type:m8.string(),text:m8.string().optional(),imageUrl:m8.property("image_url",bi.optional()),videoUrl:m8.property("video_url",ba.optional()),audioUrl:m8.property("audio_url",vR.optional())}),bl=m8.enum_(["SYSTEM","USER","AI","TOOL_EXECUTION_RESULT","CUSTOM"]),bu=m8.object({role:bl,content:m8.string().optional(),contentArray:m8.property("content_array",m8.list(bs).optional()),stringContent:m8.property("string_content",m8.boolean().optional()),structuredContent:m8.property("structured_content",m8.boolean().optional())}),bp=m8.object({name:m8.string(),temperature:m8.number(),seed:m8.number().optional(),customParameters:m8.property("custom_parameters",fT.optional())}),bd=m8.enum_(["BOOLEAN","INTEGER","DOUBLE"]),bc=m8.object({name:m8.string(),type:bd,description:m8.string()}),bh=m8.object({model:bp,messages:m8.list(bu),variables:m8.record(m8.string(),m8.string()),schema:m8.list(bc)}),bm=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),bg=m8.object({field:m8.string().optional(),operator:bm.optional(),key:m8.string().optional(),value:m8.string().optional()}),bf=m8.object({filters:m8.list(bg).optional(),code:bh.optional()}),by=m8.enum_(["evaluator"]),b_=m8.object({model:be,messages:m8.list(v7),variables:m8.record(m8.string(),m8.string()),schema:m8.list(br)}),bv=m8.object({filters:m8.list(yG).optional(),code:b_.optional()}),bb=m8.object({metric:m8.string(),arguments:m8.record(m8.string(),m8.string())}),bw=m8.object({filters:m8.list(yG).optional(),code:bb.optional()}),bD=m8.object({model:be,messages:m8.list(v7),schema:m8.list(br)}),bC=m8.object({filters:m8.list(yY).optional(),code:bD.optional()}),bE=m8.object({metric:m8.string()}),bk=m8.object({filters:m8.list(yY).optional(),code:bE.optional()}),bx=m8.object({metric:m8.string(),arguments:m8.record(m8.string(),m8.string())}),bT=m8.object({filters:m8.list(yZ).optional(),code:bx.optional()}),bS=m8.object({projectId:m8.property("project_id",m8.string()),projectName:m8.property("project_name",m8.string())}),bR=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string().optional()),projectName:m8.property("project_name",m8.string().optional()),projects:m8.list(bS).optional(),name:m8.string(),samplingRate:m8.property("sampling_rate",m8.number().optional()),enabled:m8.boolean().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),action:by}),bj=m8.union("type",{llm_as_judge:bn.extend(bR),user_defined_metric_python:bT.extend(bR),trace_thread_llm_as_judge:bC.extend(bR),trace_thread_user_defined_metric_python:bk.extend(bR),span_llm_as_judge:bv.extend(bR),span_user_defined_metric_python:bw.extend(bR)}).transform({transform:e=>e,untransform:e=>e}),bF=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(bj).optional(),sortableBy:m8.property("sortable_by",m8.list(m8.string()).optional())}),bP=m8.enum_(["evaluator"]),bO=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string().optional()),projectName:m8.property("project_name",m8.string().optional()),projects:m8.list(bS).optional(),name:m8.string(),samplingRate:m8.property("sampling_rate",m8.number().optional()),enabled:m8.boolean().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),action:bP}),bI=m8.union("type",{llm_as_judge:bn.extend(bO),user_defined_metric_python:bT.extend(bO),trace_thread_llm_as_judge:bC.extend(bO),trace_thread_user_defined_metric_python:bk.extend(bO),span_llm_as_judge:bv.extend(bO),span_user_defined_metric_python:bw.extend(bO)}).transform({transform:e=>e,untransform:e=>e}),bA=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),bN=m8.object({field:m8.string().optional(),operator:bA.optional(),key:m8.string().optional(),value:m8.string().optional()}),bB=m8.object({model:bp,messages:m8.list(bu),variables:m8.record(m8.string(),m8.string()),schema:m8.list(bc)}),bM=m8.object({filters:m8.list(bN).optional(),code:bB.optional()}),bU=m8.object({metric:m8.string(),arguments:m8.record(m8.string(),m8.string())}),bL=m8.object({filters:m8.list(bN).optional(),code:bU.optional()}),bq=m8.enum_(["contains","not_contains","starts_with","ends_with","=","!=",">",">=","<","<=","is_empty","is_not_empty"]),b$=m8.object({field:m8.string().optional(),operator:bq.optional(),key:m8.string().optional(),value:m8.string().optional()}),bz=m8.object({model:bp,messages:m8.list(bu),schema:m8.list(bc)}),bW=m8.object({filters:m8.list(b$).optional(),code:bz.optional()}),bV=m8.object({metric:m8.string()}),bK=m8.object({filters:m8.list(b$).optional(),code:bV.optional()}),bG=m8.enum_(["evaluator"]),bH=m8.object({filters:m8.list(v$).optional(),code:vL.optional()}),bZ=m8.object({filters:m8.list(vV).optional(),code:vK.optional()}),bJ=m8.object({filters:m8.list(vV).optional(),code:vH.optional()}),bY=m8.object({filters:m8.list(_q).optional(),code:vJ.optional()}),bQ=m8.object({filters:m8.list(_q).optional(),code:vQ.optional()}),bX=m8.object({filters:m8.list(v$).optional(),code:v0.optional()}),b0=m8.object({name:m8.string(),samplingRate:m8.property("sampling_rate",m8.number().optional()),enabled:m8.boolean().optional(),projectId:m8.property("project_id",m8.string().optional()),projectIds:m8.property("project_ids",m8.list(m8.string()).optional()),action:bG}),b1=m8.union("type",{llm_as_judge:bH.extend(b0),user_defined_metric_python:bX.extend(b0),trace_thread_llm_as_judge:bY.extend(b0),trace_thread_user_defined_metric_python:bQ.extend(b0),span_llm_as_judge:bZ.extend(b0),span_user_defined_metric_python:bJ.extend(b0)}).transform({transform:e=>e,untransform:e=>e}),b2=m8.object({metric:m8.string(),arguments:m8.record(m8.string(),m8.string())}),b3=m8.object({filters:m8.list(bg).optional(),code:b2.optional()}),b6=m8.enum_(["evaluator"]),b5=m8.object({projectId:m8.property("project_id",m8.string().optional()),projectIds:m8.property("project_ids",m8.list(m8.string()).optional()),name:m8.string(),samplingRate:m8.property("sampling_rate",m8.number().optional()),enabled:m8.boolean().optional(),action:b6}),b4=m8.union("type",{llm_as_judge:bf.extend(b5),user_defined_metric_python:b3.extend(b5),trace_thread_llm_as_judge:bW.extend(b5),trace_thread_user_defined_metric_python:bK.extend(b5),span_llm_as_judge:bM.extend(b5),span_user_defined_metric_python:bL.extend(b5)}).transform({transform:e=>e,untransform:e=>e}),b8=m8.object({value:m8.number().optional()}),b9=m8.object({ids:m8.list(m8.string())}),b7=m8.object({ids:m8.list(m8.string()),projectId:m8.property("project_id",m8.string().optional())}),we=m8.object({workspaceId:m8.property("workspace_id",m8.string().optional()),user:m8.string().optional(),count:m8.number().optional()}),wt=m8.object({biInformation:m8.property("bi_information",m8.list(we).optional())}),wr=m8.object({trueLabel:m8.string(),falseLabel:m8.string()}),wo=m8.object({details:wr.optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),wn=m8.object({trueLabel:m8.string(),falseLabel:m8.string()}),wi=m8.object({details:wn.optional()}),wa=m8.object({trueLabel:m8.string(),falseLabel:m8.string()}),ws=m8.object({details:wa.optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),wl=m8.object({trueLabel:m8.string(),falseLabel:m8.string()}),wu=m8.object({details:wl.optional()}),wp=m8.object({categories:m8.record(m8.string(),m8.number())}),wd=m8.object({details:wp.optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),wc=m8.object({categories:m8.record(m8.string(),m8.number())}),wh=m8.object({details:wc.optional()}),wm=m8.object({categories:m8.record(m8.string(),m8.number())}),wg=m8.object({details:wm.optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),wf=m8.object({categories:m8.record(m8.string(),m8.number())}),wy=m8.object({details:wf.optional()}),w_=m8.object({role:m8.string().optional(),content:m8.string().optional(),reasoningContent:m8.property("reasoning_content",m8.string().optional()),toolCalls:m8.property("tool_calls",m8.list(vC).optional()),functionCall:m8.property("function_call",fg.optional())}),wv=m8.object({index:m8.number().optional(),message:vE.optional(),delta:w_.optional(),finishReason:m8.property("finish_reason",m8.string().optional())}),wb=m8.object({reasoningTokens:m8.property("reasoning_tokens",m8.number().optional())}),ww=m8.object({cachedTokens:m8.property("cached_tokens",m8.number().optional())}),wD=m8.object({totalTokens:m8.property("total_tokens",m8.number().optional()),promptTokens:m8.property("prompt_tokens",m8.number().optional()),promptTokensDetails:m8.property("prompt_tokens_details",ww.optional()),completionTokens:m8.property("completion_tokens",m8.number().optional()),completionTokensDetails:m8.property("completion_tokens_details",wb.optional())}),wC=m8.object({id:m8.string().optional(),created:m8.number().optional(),model:m8.string().optional(),choices:m8.list(wv).optional(),usage:wD.optional(),systemFingerprint:m8.property("system_fingerprint",m8.string().optional()),serviceTier:m8.property("service_tier",m8.string().optional())}),wE=m8.enum_(["TOPIC","PII"]),wk=m8.enum_(["passed","failed"]),wx=m8.object({name:wE.optional(),result:wk.optional()}),wT=m8.enum_(["TOPIC","PII"]),wS=m8.enum_(["passed","failed"]),wR=m8.object({name:wT.optional(),result:wS.optional()}),wj=m8.object({typeName:m8.string().optional()}),wF=m8.object({type:wj.optional(),closed:m8.boolean().optional()}),wP=m8.object({typeName:m8.string().optional()}),wO=m8.object({type:wP.optional(),closed:m8.boolean().optional()}),wI=m8.enum_(["string","number","object","boolean","array","null"]),wA=m8.object({name:m8.string().optional(),types:m8.list(wI).optional(),filterFieldPrefix:m8.property("filter_field_prefix",m8.string().optional()),filterField:m8.string().optional()}),wN=m8.enum_(["string","number","object","boolean","array","null"]),wB=m8.object({name:m8.string().optional(),types:m8.list(wN).optional(),filterFieldPrefix:m8.property("filter_field_prefix",m8.string().optional()),filterField:m8.string().optional()}),wM=m8.enum_(["string","number","object","boolean","array","null"]),wU=m8.object({name:m8.string().optional(),types:m8.list(wM).optional(),filterFieldPrefix:m8.property("filter_field_prefix",m8.string().optional()),filterField:m8.string().optional()}),wL=m8.object({id:m8.string().optional(),text:m8.string(),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),wq=m8.object({id:m8.string().optional(),text:m8.string(),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),w$=m8.enum_(["trace","span"]),wz=m8.object({eTag:m8.property("e_tag",m8.string()),partNumber:m8.property("part_number",m8.number())}),wW=m8.object({fileName:m8.property("file_name",m8.string()),projectName:m8.property("project_name",m8.string().optional()),entityType:m8.property("entity_type",w$),entityId:m8.property("entity_id",m8.string()),containerId:m8.property("container_id",m8.string().optional()),fileSize:m8.property("file_size",m8.number()),mimeType:m8.property("mime_type",m8.string().optional()),uploadId:m8.property("upload_id",m8.string()),uploadedFileParts:m8.property("uploaded_file_parts",m8.list(wz))}),wV=m8.object({value:m8.number().optional()}),wK=m8.object({id:m8.string().optional(),workspaceId:m8.property("workspace_id",m8.string().optional()),name:m8.string(),slug:m8.string().optional(),description:m8.string().optional(),config:fk,createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional())}),wG=m8.object({content:m8.list(wK).optional(),page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),sortableBy:m8.property("sortable_by",m8.list(m8.string()).optional())}),wH=m8.object({time:m8.date(),value:m8.number().optional()}),wZ=m8.object({time:m8.date(),value:m8.number().optional()}),wJ=m8.enum_(["unknown","processing","completed","failed"]),wY=m8.object({id:m8.string().optional(),versionHash:m8.property("version_hash",m8.string().optional()),versionName:m8.property("version_name",m8.string().optional()),changeDescription:m8.property("change_description",m8.string().optional()),tags:m8.list(m8.string()).optional()}),wQ=m8.enum_(["private","public"]),wX=m8.object({id:m8.string().optional(),name:m8.string(),visibility:wQ.optional(),tags:m8.list(m8.string()).optional(),description:m8.string().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),experimentCount:m8.property("experiment_count",m8.number().optional()),datasetItemsCount:m8.property("dataset_items_count",m8.number().optional()),optimizationCount:m8.property("optimization_count",m8.number().optional()),mostRecentExperimentAt:m8.property("most_recent_experiment_at",m8.date().optional()),lastCreatedExperimentAt:m8.property("last_created_experiment_at",m8.date().optional()),mostRecentOptimizationAt:m8.property("most_recent_optimization_at",m8.date().optional()),lastCreatedOptimizationAt:m8.property("last_created_optimization_at",m8.date().optional()),status:wJ.optional(),latestVersion:m8.property("latest_version",wY.optional())}),w0=m8.object({model:m8.string(),sampleCount:m8.property("sample_count",m8.number().optional()),preserveFields:m8.property("preserve_fields",m8.list(m8.string()).optional()),variationInstructions:m8.property("variation_instructions",m8.string().optional()),customPrompt:m8.property("custom_prompt",m8.string().optional())}),w1=m8.enum_(["manual","trace","span","sdk"]),w2=m8.object({id:m8.string().optional(),datasetItemId:m8.property("dataset_item_id",m8.string().optional()),traceId:m8.property("trace_id",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional()),source:w1,data:fU,tags:m8.list(m8.string()).optional(),experimentItems:m8.property("experiment_items",m8.list(yv).optional()),datasetId:m8.property("dataset_id",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),w3=m8.object({generatedSamples:m8.property("generated_samples",m8.list(w2).optional()),model:m8.string().optional(),totalGenerated:m8.property("total_generated",m8.number().optional()),generationTime:m8.property("generation_time",m8.date().optional())}),w6=m8.object({datasetName:m8.property("dataset_name",m8.string().optional()),datasetId:m8.property("dataset_id",m8.string().optional()),items:m8.list(w2),batchGroupId:m8.property("batch_group_id",m8.string().optional())}),w5=m8.record(m8.string(),m8.unknown()),w4=m8.enum_(["manual","trace","span","sdk"]),w8=m8.enum_(["default","hidden"]),w9=m8.enum_(["ui","sdk","online_scoring"]),w7=m8.enum_(["ui","sdk","online_scoring"]),De=m8.object({value:m8.number().optional(),reason:m8.string().optional(),categoryName:m8.property("category_name",m8.string().optional()),source:w7.optional(),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),spanType:m8.property("span_type",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional())}),Dt=m8.object({name:m8.string(),categoryName:m8.property("category_name",m8.string().optional()),value:m8.number(),reason:m8.string().optional(),source:w9,createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),valueByAuthor:m8.property("value_by_author",m8.record(m8.string(),De).optional())}),Dr=m8.undiscriminatedUnion([m8.record(m8.string(),m8.unknown()),m8.list(m8.record(m8.string(),m8.unknown())),m8.string()]),Do=m8.object({id:m8.string().optional(),experimentId:m8.property("experiment_id",m8.string()),datasetItemId:m8.property("dataset_item_id",m8.string()),traceId:m8.property("trace_id",m8.string()),input:Dr.optional(),output:Dr.optional(),feedbackScores:m8.property("feedback_scores",m8.list(Dt).optional()),comments:m8.list(wL).optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),duration:m8.number().optional(),usage:m8.record(m8.string(),m8.number()).optional(),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),traceVisibilityMode:m8.property("trace_visibility_mode",w8.optional())}),Dn=m8.object({id:m8.string().optional(),datasetItemId:m8.property("dataset_item_id",m8.string().optional()),traceId:m8.property("trace_id",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional()),source:w4,data:fU,tags:m8.list(m8.string()).optional(),experimentItems:m8.property("experiment_items",m8.list(Do).optional()),datasetId:m8.property("dataset_id",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),Di=m8.object({content:m8.list(Dn).optional(),page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),columns:m8.list(wB).optional(),sortableBy:m8.list(m8.string()).optional()}),Da=m8.enum_(["manual","trace","span","sdk"]),Ds=m8.enum_(["default","hidden"]),Dl=m8.object({id:m8.string().optional(),experimentId:m8.property("experiment_id",m8.string()),datasetItemId:m8.property("dataset_item_id",m8.string()),traceId:m8.property("trace_id",m8.string()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),traceVisibilityMode:m8.property("trace_visibility_mode",Ds.optional())}),Du=m8.object({id:m8.string().optional(),datasetItemId:m8.property("dataset_item_id",m8.string().optional()),traceId:m8.property("trace_id",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional()),source:Da,data:fU,tags:m8.list(m8.string()).optional(),experimentItems:m8.property("experiment_items",m8.list(Dl).optional()),datasetId:m8.property("dataset_id",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),Dp=m8.object({content:m8.list(Du).optional(),page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),columns:m8.list(wU).optional(),sortableBy:m8.list(m8.string()).optional()}),Dd=m8.enum_(["unknown","processing","completed","failed"]),Dc=m8.enum_(["private","public"]),Dh=m8.object({id:m8.string().optional(),versionHash:m8.property("version_hash",m8.string().optional()),versionName:m8.property("version_name",m8.string().optional()),changeDescription:m8.property("change_description",m8.string().optional()),tags:m8.list(m8.string()).optional()}),Dm=m8.object({id:m8.string().optional(),name:m8.string(),visibility:Dc.optional(),tags:m8.list(m8.string()).optional(),description:m8.string().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),experimentCount:m8.property("experiment_count",m8.number().optional()),datasetItemsCount:m8.property("dataset_items_count",m8.number().optional()),optimizationCount:m8.property("optimization_count",m8.number().optional()),mostRecentExperimentAt:m8.property("most_recent_experiment_at",m8.date().optional()),lastCreatedExperimentAt:m8.property("last_created_experiment_at",m8.date().optional()),mostRecentOptimizationAt:m8.property("most_recent_optimization_at",m8.date().optional()),lastCreatedOptimizationAt:m8.property("last_created_optimization_at",m8.date().optional()),status:Dd.optional(),latestVersion:m8.property("latest_version",Dh.optional())}),Dg=m8.object({content:m8.list(Dm).optional(),page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),sortableBy:m8.list(m8.string()).optional()}),Df=m8.object({itemsAdded:m8.number().optional(),itemsModified:m8.number().optional(),itemsDeleted:m8.number().optional(),itemsUnchanged:m8.number().optional()}),Dy=m8.object({fromVersion:m8.property("from_version",m8.string().optional()),toVersion:m8.property("to_version",m8.string().optional()),statistics:Df.optional()}),D_=m8.object({id:m8.string().optional(),datasetId:m8.property("dataset_id",m8.string().optional()),versionHash:m8.property("version_hash",m8.string().optional()),tags:m8.list(m8.string()).optional(),isLatest:m8.property("is_latest",m8.boolean().optional()),versionName:m8.property("version_name",m8.string().optional()),itemsTotal:m8.property("items_total",m8.number().optional()),itemsAdded:m8.property("items_added",m8.number().optional()),itemsModified:m8.property("items_modified",m8.number().optional()),itemsDeleted:m8.property("items_deleted",m8.number().optional()),changeDescription:m8.property("change_description",m8.string().optional()),metadata:m8.record(m8.string(),m8.string()).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),Dv=m8.object({content:m8.list(D_).optional(),page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional()}),Db=m8.enum_(["trace","span"]),Dw=m8.object({fileNames:m8.property("file_names",m8.list(m8.string())),entityType:m8.property("entity_type",Db),entityId:m8.property("entity_id",m8.string()),containerId:m8.property("container_id",m8.string())}),DD=m8.object({name:m8.string(),author:m8.string().optional()}),DC=m8.object({ids:m8.list(m8.string())}),DE=m8.object({count:m8.number().optional(),deviation:m8.number().optional(),deviationPercentage:m8.property("deviation_percentage",m8.number().optional())}),Dk=m8.object({count:m8.number().optional(),deviation:m8.number().optional(),deviationPercentage:m8.property("deviation_percentage",m8.number().optional())}),Dx=m8.object({exceptionType:m8.property("exception_type",m8.string()),message:m8.string().optional(),traceback:m8.string()}),DT=m8.object({code:m8.number().optional(),message:m8.string().optional(),details:m8.string().optional()}),DS=m8.object({code:m8.number().optional(),message:m8.string().optional(),details:m8.string().optional()}),DR=m8.object({errors:m8.list(m8.string()).optional()}),Dj=m8.object({code:m8.number().optional(),message:m8.string().optional(),details:m8.string().optional()}),DF=m8.enum_(["running","completed","cancelled"]),DP=m8.enum_(["regular","trial","mini-batch"]),DO=m8.object({id:m8.string(),commit:m8.string().optional(),promptId:m8.property("prompt_id",m8.string().optional()),promptName:m8.property("prompt_name",m8.string().optional())}),DI=m8.object({id:m8.string().optional(),datasetName:m8.property("dataset_name",m8.string()),datasetId:m8.property("dataset_id",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:m8.string().optional(),metadata:y_.optional(),tags:m8.list(m8.string()).optional(),type:DP.optional(),optimizationId:m8.property("optimization_id",m8.string().optional()),feedbackScores:m8.property("feedback_scores",m8.list(_J).optional()),comments:m8.list(yc).optional(),traceCount:m8.property("trace_count",m8.number().optional()),createdAt:m8.property("created_at",m8.date().optional()),duration:_Y.optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostAvg:m8.property("total_estimated_cost_avg",m8.number().optional()),usage:m8.record(m8.string(),m8.number()).optional(),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),status:DF.optional(),experimentScores:m8.property("experiment_scores",m8.list(f5).optional()),promptVersion:m8.property("prompt_version",DO.optional()),promptVersions:m8.property("prompt_versions",m8.list(DO).optional()),datasetVersionId:m8.property("dataset_version_id",m8.string().optional()),datasetVersionSummary:m8.property("dataset_version_summary",wY.optional())}),DA=m8.object({label:m8.string().optional(),aggregations:_Q.optional()}),DN=m8.object({content:m8.record(m8.string(),DA).optional()}),DB=m8.object({label:m8.string().optional()}),DM=m8.object({groupSorting:m8.property("group_sorting",m8.list(m8.string()).optional())}),DU=m8.object({groupsDetails:m8.property("groups_details",m8.list(DM).optional())}),DL=m8.object({content:m8.record(m8.string(),DB).optional(),details:DU.optional()}),Dq=m8.enum_(["general","tool","llm","guardrail"]),D$=m8.object({id:m8.string().optional(),projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),traceId:m8.property("trace_id",m8.string().optional()),parentSpanId:m8.property("parent_span_id",m8.string().optional()),name:m8.string().optional(),type:Dq.optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:y_.optional(),output:y_.optional(),metadata:y_.optional(),model:m8.string().optional(),provider:m8.string().optional(),tags:m8.list(m8.string()).optional(),usage:m8.record(m8.string(),m8.number()).optional(),errorInfo:m8.property("error_info",_d.optional()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),feedbackScores:m8.property("feedback_scores",m8.list(yy).optional()),comments:m8.list(yc).optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostVersion:m8.property("total_estimated_cost_version",m8.string().optional()),duration:m8.number().optional()}),Dz=m8.object({spanId:m8.property("span_id",m8.string().optional()),checks:m8.list(wx).optional()}),DW=m8.enum_(["default","hidden"]),DV=m8.object({id:m8.string().optional(),projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:m8.string().optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:y_.optional(),output:y_.optional(),metadata:y_.optional(),tags:m8.list(m8.string()).optional(),errorInfo:m8.property("error_info",_d.optional()),usage:m8.record(m8.string(),m8.number()).optional(),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),feedbackScores:m8.property("feedback_scores",m8.list(yy).optional()),spanFeedbackScores:m8.property("span_feedback_scores",m8.list(yy).optional()),comments:m8.list(yc).optional(),guardrailsValidations:m8.property("guardrails_validations",m8.list(Dz).optional()),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),spanCount:m8.property("span_count",m8.number().optional()),duration:m8.number().optional(),threadId:m8.property("thread_id",m8.string().optional()),visibilityMode:m8.property("visibility_mode",DW.optional()),llmSpanCount:m8.property("llm_span_count",m8.number().optional()),hasToolSpans:m8.property("has_tool_spans",m8.boolean().optional()),providers:m8.list(m8.string()).optional()}),DK=m8.object({datasetItemId:m8.property("dataset_item_id",m8.string()),evaluateTaskResult:m8.property("evaluate_task_result",y_.optional()),trace:DV.optional(),spans:m8.list(D$).optional(),feedbackScores:m8.property("feedback_scores",m8.list(yy).optional())}),DG=m8.object({experimentName:m8.property("experiment_name",m8.string()),datasetName:m8.property("dataset_name",m8.string()),experimentId:m8.property("experiment_id",m8.string().optional()),items:m8.list(DK)}),DH=m8.enum_(["running","completed","cancelled"]),DZ=m8.enum_(["regular","trial","mini-batch"]),DJ=m8.object({name:m8.string(),value:m8.number()}),DY=m8.undiscriminatedUnion([m8.record(m8.string(),m8.unknown()),m8.list(m8.record(m8.string(),m8.unknown())),m8.string()]),DQ=m8.object({p50:m8.number().optional(),p90:m8.number().optional(),p99:m8.number().optional()}),DX=m8.object({id:m8.string(),commit:m8.string().optional(),promptId:m8.property("prompt_id",m8.string().optional()),promptName:m8.property("prompt_name",m8.string().optional())}),D0=m8.object({id:m8.string().optional(),datasetName:m8.property("dataset_name",m8.string()),datasetId:m8.property("dataset_id",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:m8.string().optional(),metadata:DY.optional(),tags:m8.list(m8.string()).optional(),type:DZ.optional(),optimizationId:m8.property("optimization_id",m8.string().optional()),feedbackScores:m8.property("feedback_scores",m8.list(v_).optional()),comments:m8.list(wq).optional(),traceCount:m8.property("trace_count",m8.number().optional()),createdAt:m8.property("created_at",m8.date().optional()),duration:DQ.optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostAvg:m8.property("total_estimated_cost_avg",m8.number().optional()),usage:m8.record(m8.string(),m8.number()).optional(),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),status:DH.optional(),experimentScores:m8.property("experiment_scores",m8.list(DJ).optional()),promptVersion:m8.property("prompt_version",DX.optional()),promptVersions:m8.property("prompt_versions",m8.list(DX).optional()),datasetVersionId:m8.property("dataset_version_id",m8.string().optional()),datasetVersionSummary:m8.property("dataset_version_summary",Dh.optional())}),D1=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(D0).optional(),sortableBy:m8.list(m8.string()).optional()}),D2=fU,D3=m8.object({max:m8.number(),min:m8.number()}),D6=m8.object({details:D3.optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),D5=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional(),createdAt:m8.date().optional(),createdBy:m8.string().optional(),lastUpdatedAt:m8.date().optional(),lastUpdatedBy:m8.string().optional()}),D4=m8.union("type",{numerical:D6.extend(D5),categorical:wd.extend(D5),boolean:wo.extend(D5)}).transform({transform:e=>e,untransform:e=>e}),D8=m8.object({max:m8.number(),min:m8.number()}),D9=m8.object({details:D8.optional()}),D7=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional()}),Ce=m8.union("type",{numerical:D9.extend(D7),categorical:wh.extend(D7),boolean:wi.extend(D7)}).transform({transform:e=>e,untransform:e=>e}),Ct=m8.object({max:m8.number(),min:m8.number()}),Cr=m8.object({details:Ct.optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),Co=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional(),createdAt:m8.date().optional(),createdBy:m8.string().optional(),lastUpdatedAt:m8.date().optional(),lastUpdatedBy:m8.string().optional()}),Cn=m8.union("type",{numerical:Cr.extend(Co),categorical:wg.extend(Co),boolean:ws.extend(Co)}).transform({transform:e=>e,untransform:e=>e}),Ci=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(Cn).optional()}),Ca=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional(),createdAt:m8.date().optional(),createdBy:m8.string().optional(),lastUpdatedAt:m8.date().optional(),lastUpdatedBy:m8.string().optional()}),Cs=m8.union("type",{numerical:Cr.extend(Ca),categorical:wg.extend(Ca),boolean:ws.extend(Ca)}).transform({transform:e=>e,untransform:e=>e}),Cl=m8.object({name:m8.string(),value:m8.number()}),Cu=m8.enum_(["ui","sdk","online_scoring"]),Cp=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:m8.string(),categoryName:m8.property("category_name",m8.string().optional()),value:m8.number(),reason:m8.string().optional(),source:Cu,author:m8.string().optional(),id:m8.string()}),Cd=m8.object({scores:m8.list(Cp)}),Cc=m8.object({name:m8.string().optional(),type:m8.string().optional()}),Ch=m8.object({scores:m8.list(Cc).optional()}),Cm=m8.enum_(["ui","sdk","online_scoring"]),Cg=m8.enum_(["ui","sdk","online_scoring"]),Cf=m8.object({value:m8.number().optional(),reason:m8.string().optional(),categoryName:m8.property("category_name",m8.string().optional()),source:Cg.optional(),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),spanType:m8.property("span_type",m8.string().optional()),spanId:m8.property("span_id",m8.string().optional())}),Cy=m8.object({name:m8.string(),categoryName:m8.property("category_name",m8.string().optional()),value:m8.number(),reason:m8.string().optional(),source:Cm,createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),valueByAuthor:m8.property("value_by_author",m8.record(m8.string(),Cf).optional())}),C_=m8.object({max:m8.number(),min:m8.number()}),Cv=m8.object({details:C_.optional()}),Cb=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional()}),Cw=m8.union("type",{numerical:Cv.extend(Cb),categorical:wy.extend(Cb),boolean:wu.extend(Cb)}).transform({transform:e=>e,untransform:e=>e}),CD=m8.enum_(["TOPIC","PII"]),CC=m8.enum_(["passed","failed"]),CE=m8.object({id:m8.string().optional(),entityId:m8.property("entity_id",m8.string()),secondaryId:m8.property("secondary_id",m8.string()),projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),name:CD,result:CC,config:fU,details:fU}),Ck=m8.object({guardrails:m8.list(CE)}),Cx=m8.object({spanId:m8.property("span_id",m8.string().optional()),checks:m8.list(wR).optional()}),CT=m8.object({ids:m8.list(m8.string())}),CS=m8.enum_(["INFO","WARN","ERROR","DEBUG","TRACE"]),CR=m8.object({timestamp:m8.date().optional(),ruleId:m8.property("rule_id",m8.string().optional()),level:CS.optional(),message:m8.string().optional(),markers:m8.record(m8.string(),m8.string()).optional()}),Cj=m8.object({content:m8.list(CR).optional(),page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional()}),CF=m8.enum_(["trace","thread","span"]),CP=m8.object({projectId:m8.property("project_id",m8.string()),entityIds:m8.property("entity_ids",m8.list(m8.string())),ruleIds:m8.property("rule_ids",m8.list(m8.string())),entityType:m8.property("entity_type",CF)}),CO=m8.object({entitiesQueued:m8.property("entities_queued",m8.number().optional()),rulesApplied:m8.property("rules_applied",m8.number().optional())}),CI=m8.enum_(["running","completed","cancelled","initialized","error"]),CA=m8.object({type:m8.string(),parameters:fU.optional()}),CN=m8.object({metrics:m8.list(CA)}),CB=m8.object({model:m8.string(),parameters:fU.optional()}),CM=m8.object({type:m8.string(),parameters:fU.optional()}),CU=m8.object({role:m8.string(),content:m8.string()}),CL=m8.object({messages:m8.list(CU)}),Cq=m8.object({datasetName:m8.property("dataset_name",m8.string()),prompt:CL,llmModel:m8.property("llm_model",CB),evaluation:CN,optimizer:CM}),C$=m8.object({id:m8.string().optional(),name:m8.string().optional(),datasetName:m8.property("dataset_name",m8.string()),objectiveName:m8.property("objective_name",m8.string()),status:CI,metadata:y_.optional(),studioConfig:m8.property("studio_config",Cq.optional()),datasetId:m8.property("dataset_id",m8.string().optional()),numTrials:m8.property("num_trials",m8.number().optional()),feedbackScores:m8.property("feedback_scores",m8.list(_J).optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),Cz=m8.enum_(["running","completed","cancelled","initialized","error"]),CW=m8.object({type:m8.string(),parameters:fk.optional()}),CV=m8.object({metrics:m8.list(CW)}),CK=m8.object({model:m8.string(),parameters:fk.optional()}),CG=m8.object({type:m8.string(),parameters:fk.optional()}),CH=m8.object({role:m8.string(),content:m8.string()}),CZ=m8.object({messages:m8.list(CH)}),CJ=m8.object({datasetName:m8.property("dataset_name",m8.string()),prompt:CZ,llmModel:m8.property("llm_model",CK),evaluation:CV,optimizer:CG}),CY=m8.object({id:m8.string().optional(),name:m8.string().optional(),datasetName:m8.property("dataset_name",m8.string()),objectiveName:m8.property("objective_name",m8.string()),status:Cz,metadata:DY.optional(),studioConfig:m8.property("studio_config",CJ.optional()),datasetId:m8.property("dataset_id",m8.string().optional()),numTrials:m8.property("num_trials",m8.number().optional()),feedbackScores:m8.property("feedback_scores",m8.list(v_).optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional())}),CQ=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(CY).optional(),sortableBy:m8.list(m8.string()).optional()}),CX=m8.object({type:m8.string(),parameters:fT.optional()}),C0=m8.object({metrics:m8.list(CX)}),C1=m8.object({model:m8.string(),parameters:fT.optional()}),C2=m8.object({type:m8.string(),parameters:fT.optional()}),C3=m8.object({role:m8.string(),content:m8.string()}),C6=m8.object({messages:m8.list(C3)}),C5=m8.object({datasetName:m8.property("dataset_name",m8.string()),prompt:C6,llmModel:m8.property("llm_model",C1),evaluation:C0,optimizer:C2}),C4=m8.object({url:m8.string().optional(),lastModified:m8.property("last_modified",m8.date().optional()),expiresAt:m8.property("expires_at",m8.date().optional())}),C8=m8.enum_(["running","completed","cancelled","initialized","error"]),C9=m8.object({id:m8.string().optional(),name:m8.string().optional(),datasetName:m8.property("dataset_name",m8.string()),objectiveName:m8.property("objective_name",m8.string()),status:C8,metadata:yE.optional(),studioConfig:m8.property("studio_config",C5.optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional())}),C7=m8.object({columns:m8.list(wA).optional()}),Ee=m8.object({value:DQ.optional()}),Et=m8.object({p50:m8.number().optional(),p90:m8.number().optional(),p99:m8.number().optional()}),Er=m8.enum_(["private","public"]),Eo=m8.object({id:m8.string().optional(),name:m8.string(),visibility:Er.optional(),description:m8.string().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),lastUpdatedTraceAt:m8.property("last_updated_trace_at",m8.date().optional()),feedbackScores:m8.property("feedback_scores",m8.list(_J).optional()),duration:_Y.optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostSum:m8.property("total_estimated_cost_sum",m8.number().optional()),usage:m8.record(m8.string(),m8.number()).optional(),traceCount:m8.property("trace_count",m8.number().optional()),threadCount:m8.property("thread_count",m8.number().optional()),guardrailsFailedCount:m8.property("guardrails_failed_count",m8.number().optional()),errorCount:m8.property("error_count",DE.optional())}),En=m8.enum_(["private","public"]),Ei=m8.object({id:m8.string().optional(),name:m8.string(),visibility:En.optional(),description:m8.string().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),lastUpdatedTraceAt:m8.property("last_updated_trace_at",m8.date().optional()),feedbackScores:m8.property("feedback_scores",m8.list(Cl).optional()),duration:Et.optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostSum:m8.property("total_estimated_cost_sum",m8.number().optional()),usage:m8.record(m8.string(),m8.number()).optional(),traceCount:m8.property("trace_count",m8.number().optional()),threadCount:m8.property("thread_count",m8.number().optional()),guardrailsFailedCount:m8.property("guardrails_failed_count",m8.number().optional()),errorCount:m8.property("error_count",Dk.optional())}),Ea=m8.enum_(["HOURLY","DAILY","WEEKLY"]),Es=m8.enum_(["FEEDBACK_SCORES","TRACE_COUNT","TOKEN_USAGE","DURATION","COST","GUARDRAILS_FAILED_COUNT","THREAD_COUNT","THREAD_DURATION","THREAD_FEEDBACK_SCORES","SPAN_FEEDBACK_SCORES","SPAN_COUNT","SPAN_DURATION","SPAN_TOKEN_USAGE"]),El=m8.object({name:m8.string().optional(),data:m8.list(wZ).optional()}),Eu=m8.object({projectId:m8.property("project_id",m8.string().optional()),metricType:m8.property("metric_type",Es.optional()),interval:Ea.optional(),results:m8.list(El).optional()}),Ep=m8.enum_(["private","public"]),Ed=m8.object({id:m8.string().optional(),name:m8.string(),visibility:Ep.optional(),description:m8.string().optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),lastUpdatedTraceAt:m8.property("last_updated_trace_at",m8.date().optional())}),Ec=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(Ed).optional(),sortableBy:m8.list(m8.string()).optional()}),Eh=m8.object({name:m8.string().optional()}),Em=m8.union("type",{PERCENTAGE:Ee.extend(Eh),COUNT:wV.extend(Eh),AVG:b8.extend(Eh)}).transform({transform:e=>e,untransform:e=>e}),Eg=m8.object({stats:m8.list(Em).optional()}),Ef=m8.object({projectId:m8.property("project_id",m8.string().optional()),feedbackScores:m8.property("feedback_scores",m8.list(_J).optional()),duration:_Y.optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostSum:m8.property("total_estimated_cost_sum",m8.number().optional()),usage:m8.record(m8.string(),m8.number()).optional(),traceCount:m8.property("trace_count",m8.number().optional()),threadCount:m8.property("thread_count",m8.number().optional()),guardrailsFailedCount:m8.property("guardrails_failed_count",m8.number().optional()),errorCount:m8.property("error_count",DE.optional())}),Ey=m8.object({content:m8.list(Ef).optional()}),E_=m8.enum_(["text","chat"]),Ev=m8.enum_(["mustache","jinja2"]),Eb=m8.enum_(["text","chat"]),Ew=m8.enum_(["mustache","jinja2"]),ED=m8.object({id:m8.string().optional(),promptId:m8.property("prompt_id",m8.string().optional()),commit:m8.string().optional(),template:m8.string(),metadata:fU.optional(),type:Ew.optional(),changeDescription:m8.property("change_description",m8.string().optional()),tags:m8.list(m8.string()).optional(),variables:m8.list(m8.string()).optional(),templateStructure:m8.property("template_structure",Eb.optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional())}),EC=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional(),template:m8.string().optional(),metadata:fU.optional(),changeDescription:m8.property("change_description",m8.string().optional()),type:Ev.optional(),templateStructure:m8.property("template_structure",E_.optional()),tags:m8.list(m8.string()).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),versionCount:m8.property("version_count",m8.number().optional()),latestVersion:m8.property("latest_version",ED.optional())}),EE=m8.enum_(["text","chat"]),Ek=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional(),templateStructure:m8.property("template_structure",EE.optional()),tags:m8.list(m8.string()).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),versionCount:m8.property("version_count",m8.number().optional()),latestVersion:m8.property("latest_version",_e.optional())}),Ex=m8.enum_(["text","chat"]),ET=m8.object({id:m8.string().optional(),name:m8.string(),description:m8.string().optional(),templateStructure:m8.property("template_structure",Ex.optional()),tags:m8.list(m8.string()).optional(),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),versionCount:m8.property("version_count",m8.number().optional())}),ES=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(ET).optional(),sortableBy:m8.list(m8.string()).optional()}),ER=m8.enum_(["text","chat"]),Ej=m8.enum_(["mustache","jinja2"]),EF=m8.object({id:m8.string().optional(),promptId:m8.property("prompt_id",m8.string().optional()),commit:m8.string().optional(),template:m8.string(),metadata:fk.optional(),type:Ej.optional(),changeDescription:m8.property("change_description",m8.string().optional()),tags:m8.list(m8.string()).optional(),templateStructure:m8.property("template_structure",ER.optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional())}),EP=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(EF).optional(),sortableBy:m8.list(m8.string()).optional()}),EO=m8.enum_(["openai","anthropic","gemini","openrouter","vertex-ai","bedrock","custom-llm","opik-free"]),EI=m8.object({id:m8.string().optional(),provider:EO,apiKey:m8.property("api_key",m8.string().optional()),name:m8.string().optional(),providerName:m8.property("provider_name",m8.string().optional()),headers:m8.record(m8.string(),m8.string()).optional(),configuration:m8.record(m8.string(),m8.string()).optional(),baseUrl:m8.property("base_url",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),readOnly:m8.property("read_only",m8.boolean().optional())}),EA=m8.enum_(["openai","anthropic","gemini","openrouter","vertex-ai","bedrock","custom-llm","opik-free"]),EN=m8.object({id:m8.string().optional(),provider:EA,apiKey:m8.property("api_key",m8.string().optional()),name:m8.string().optional(),providerName:m8.property("provider_name",m8.string().optional()),headers:m8.record(m8.string(),m8.string()).optional(),configuration:m8.record(m8.string(),m8.string()).optional(),baseUrl:m8.property("base_url",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),readOnly:m8.property("read_only",m8.boolean().optional())}),EB=m8.object({size:m8.number().optional(),total:m8.number().optional(),content:m8.list(EN).optional(),sortableBy:m8.list(m8.string()).optional()}),EM=m8.object({name:m8.string().optional(),current:m8.number().optional(),previous:m8.number().optional()}),EU=m8.object({pythonEvaluatorEnabled:m8.boolean(),traceThreadPythonEvaluatorEnabled:m8.boolean(),spanLlmAsJudgeEnabled:m8.boolean(),spanUserDefinedMetricPythonEnabled:m8.boolean(),guardrailsEnabled:m8.boolean(),opikAiEnabled:m8.property("opikAIEnabled",m8.boolean()),alertsEnabled:m8.boolean(),welcomeWizardEnabled:m8.boolean(),csvUploadEnabled:m8.boolean(),exportEnabled:m8.boolean(),optimizationStudioEnabled:m8.boolean(),datasetVersioningEnabled:m8.boolean(),datasetExportEnabled:m8.boolean(),openaiProviderEnabled:m8.boolean(),anthropicProviderEnabled:m8.boolean(),geminiProviderEnabled:m8.boolean(),openrouterProviderEnabled:m8.boolean(),vertexaiProviderEnabled:m8.boolean(),bedrockProviderEnabled:m8.boolean(),customllmProviderEnabled:m8.boolean(),collaboratorsTabEnabled:m8.boolean()}),EL=m8.object({spans:m8.list(D$)}),Eq=m8.enum_(["general","tool","llm","guardrail"]),E$=m8.object({id:m8.string().optional(),projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),traceId:m8.property("trace_id",m8.string().optional()),parentSpanId:m8.property("parent_span_id",m8.string().optional()),name:m8.string().optional(),type:Eq.optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:DY.optional(),output:DY.optional(),metadata:DY.optional(),model:m8.string().optional(),provider:m8.string().optional(),tags:m8.list(m8.string()).optional(),usage:m8.record(m8.string(),m8.number()).optional(),errorInfo:m8.property("error_info",Dx.optional()),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),feedbackScores:m8.property("feedback_scores",m8.list(Cy).optional()),comments:m8.list(wq).optional(),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),totalEstimatedCostVersion:m8.property("total_estimated_cost_version",m8.string().optional()),duration:m8.number().optional()}),Ez=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(E$).optional(),sortableBy:m8.list(m8.string()).optional()}),EW=m8.object({workspace:m8.string().optional(),spanCount:m8.property("span_count",m8.number().optional())}),EV=m8.object({workspacesSpansCount:m8.property("workspaces_spans_count",m8.list(EW).optional())}),EK=m8.object({uploadId:m8.property("upload_id",m8.string()),preSignUrls:m8.property("pre_sign_urls",m8.list(m8.string()))}),EG=m8.object({traces:m8.list(DV)}),EH=m8.object({workspace:m8.string().optional(),traceCount:m8.property("trace_count",m8.number().optional())}),EZ=m8.object({workspacesTracesCount:m8.property("workspaces_traces_count",m8.list(EH).optional())}),EJ=m8.enum_(["default","hidden"]),EY=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string().optional()),name:m8.string().optional(),startTime:m8.property("start_time",m8.date()),endTime:m8.property("end_time",m8.date().optional()),input:DY.optional(),output:DY.optional(),metadata:DY.optional(),tags:m8.list(m8.string()).optional(),errorInfo:m8.property("error_info",Dx.optional()),usage:m8.record(m8.string(),m8.number()).optional(),createdAt:m8.property("created_at",m8.date().optional()),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),createdBy:m8.property("created_by",m8.string().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),feedbackScores:m8.property("feedback_scores",m8.list(Cy).optional()),spanFeedbackScores:m8.property("span_feedback_scores",m8.list(Cy).optional()),comments:m8.list(wq).optional(),guardrailsValidations:m8.property("guardrails_validations",m8.list(Cx).optional()),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),spanCount:m8.property("span_count",m8.number().optional()),duration:m8.number().optional(),threadId:m8.property("thread_id",m8.string().optional()),visibilityMode:m8.property("visibility_mode",EJ.optional()),llmSpanCount:m8.property("llm_span_count",m8.number().optional()),hasToolSpans:m8.property("has_tool_spans",m8.boolean().optional()),providers:m8.list(m8.string()).optional()}),EQ=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(EY).optional(),sortableBy:m8.list(m8.string()).optional()}),EX=m8.enum_(["active","inactive"]),E0=m8.object({id:m8.string().optional(),projectId:m8.property("project_id",m8.string().optional()),threadModelId:m8.property("thread_model_id",m8.string().optional()),startTime:m8.property("start_time",m8.date().optional()),endTime:m8.property("end_time",m8.date().optional()),duration:m8.number().optional(),firstMessage:m8.property("first_message",y_.optional()),lastMessage:m8.property("last_message",y_.optional()),feedbackScores:m8.property("feedback_scores",m8.list(yy).optional()),status:EX.optional(),numberOfMessages:m8.property("number_of_messages",m8.number().optional()),totalEstimatedCost:m8.property("total_estimated_cost",m8.number().optional()),usage:m8.record(m8.string(),m8.number()).optional(),comments:m8.list(yc).optional(),tags:m8.list(m8.string()).optional(),lastUpdatedAt:m8.property("last_updated_at",m8.date().optional()),lastUpdatedBy:m8.property("last_updated_by",m8.string().optional()),createdBy:m8.property("created_by",m8.string().optional()),createdAt:m8.property("created_at",m8.date().optional())}),E1=m8.object({projectName:m8.property("project_name",m8.string().optional()),projectId:m8.property("project_id",m8.string().optional()),threadId:m8.property("thread_id",m8.string()),truncate:m8.boolean().optional()}),E2=m8.object({page:m8.number().optional(),size:m8.number().optional(),total:m8.number().optional(),content:m8.list(E0).optional(),sortableBy:m8.list(m8.string()).optional()}),E3=m8.object({responseExamples:m8.property("response_examples",m8.record(m8.string(),m8.record(m8.string(),m8.unknown())).optional())}),E6=m8.enum_(["success","failure"]),E5=m8.object({status:E6.optional(),statusCode:m8.property("status_code",m8.number().optional()),requestBody:m8.property("request_body",m8.string().optional()),errorMessage:m8.property("error_message",m8.string().optional())}),E4=m8.object({completed:m8.boolean().optional()}),E8=m8.object({timeoutToMarkThreadAsInactive:m8.property("timeout_to_mark_thread_as_inactive",m8.string().optional()),truncationOnTables:m8.property("truncation_on_tables",m8.boolean().optional())}),E9=m8.object({projectIds:m8.property("project_ids",m8.list(m8.string()).optional()),name:m8.string().optional(),intervalStart:m8.property("interval_start",m8.date()),intervalEnd:m8.property("interval_end",m8.date()),startBeforeEnd:m8.property("start_before_end",m8.boolean().optional())}),E7=m8.object({results:m8.list(EM).optional()}),ke=m8.object({projectIds:m8.property("project_ids",m8.list(m8.string()).optional()),intervalStart:m8.property("interval_start",m8.date()),intervalEnd:m8.property("interval_end",m8.date()),startBeforeEnd:m8.property("start_before_end",m8.boolean().optional())}),kt=m8.object({results:m8.list(EM).optional()}),kr=m8.object({workspaceName:m8.property("workspace_name",m8.string().optional())}),ko=class{constructor(e={}){this._options=g5(e)}findAlerts(e={},t){return mL.fromPromise(this.__findAlerts(e,t))}async __findAlerts(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,sorting:g,filters:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/alerts"),method:"GET",headers:y,queryParameters:{page:h,size:m,sorting:g,filters:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:vo.parseOrThrow(_.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:_.rawResponse};if("status-code"===_.error.reason)throw new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse});return g8(_.error,_.rawResponse,"GET","/v1/private/alerts")}createAlert(e,t){return mL.fromPromise(this.__createAlert(e,t))}async __createAlert(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/alerts"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:vp.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 409:throw new dz(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/alerts")}deleteAlertBatch(e,t){return mL.fromPromise(this.__deleteAlertBatch(e,t))}async __deleteAlertBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/alerts/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/alerts/delete")}getAlertById(e,t={},r){return mL.fromPromise(this.__getAlertById(e,t,r))}async __getAlertById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/alerts/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:vr.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/alerts/{id}")}updateAlert(e,t,r){return mL.fromPromise(this.__updateAlert(e,t,r))}async __updateAlert(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/alerts/${gX.encodePathParam(e)}`),method:"PUT",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:vp.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)switch(f.error.statusCode){case 400:throw new d$(f.error.body,f.rawResponse);case 409:throw new dz(f.error.body,f.rawResponse);case 422:throw new dH(f.error.body,f.rawResponse);default:throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse})}return g8(f.error,f.rawResponse,"PUT","/v1/private/alerts/{id}")}getWebhookExamples(e={},t){return mL.fromPromise(this.__getWebhookExamples(e,t))}async __getWebhookExamples(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{alertType:h}=e,m={alert_type:null!=h?fe.jsonOrThrow(h,{unrecognizedObjectKeys:"strip",omitUndefined:!0}):void 0},g=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),f=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/alerts/webhooks/examples"),method:"GET",headers:g,queryParameters:{...m,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(f.ok)return{data:E3.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/alerts/webhooks/examples")}testWebhook(e,t){return mL.fromPromise(this.__testWebhook(e,t))}async __testWebhook(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/alerts/webhooks/tests"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:vp.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:E5.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 422===m.error.statusCode?new dH(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/alerts/webhooks/tests")}},kn=class{constructor(e={}){this._options=g5(e)}addItemsToAnnotationQueue(e,t,r){return mL.fromPromise(this.__addItemsToAnnotationQueue(e,t,r))}async __addItemsToAnnotationQueue(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/annotation-queues/${gX.encodePathParam(e)}/items/add`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:vg.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/annotation-queues/{id}/items/add")}findAnnotationQueues(e={},t){return mL.fromPromise(this.__findAnnotationQueues(e,t))}async __findAnnotationQueues(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,name:g,filters:f,sorting:y}=e,_=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),v=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/annotation-queues"),method:"GET",headers:_,queryParameters:{page:h,size:m,name:g,filters:f,sorting:y,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(v.ok)return{data:vb.parseOrThrow(v.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:v.rawResponse};if("status-code"===v.error.reason)throw new dL({statusCode:v.error.statusCode,body:v.error.body,rawResponse:v.rawResponse});return g8(v.error,v.rawResponse,"GET","/v1/private/annotation-queues")}createAnnotationQueue(e,t){return mL.fromPromise(this.__createAnnotationQueue(e,t))}async __createAnnotationQueue(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/annotation-queues"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fr.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/annotation-queues")}createAnnotationQueueBatch(e,t){return mL.fromPromise(this.__createAnnotationQueueBatch(e,t))}async __createAnnotationQueueBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/annotation-queues/batch"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fo.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 409:throw new dz(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/annotation-queues/batch")}deleteAnnotationQueueBatch(e,t){return mL.fromPromise(this.__deleteAnnotationQueueBatch(e,t))}async __deleteAnnotationQueueBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/annotation-queues/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/annotation-queues/delete")}getAnnotationQueueById(e,t={},r){return mL.fromPromise(this.__getAnnotationQueueById(e,t,r))}async __getAnnotationQueueById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/annotation-queues/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:vv.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/annotation-queues/{id}")}updateAnnotationQueue(e,t={},r){return mL.fromPromise(this.__updateAnnotationQueue(e,t,r))}async __updateAnnotationQueue(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/annotation-queues/${gX.encodePathParam(e)}`),method:"PATCH",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fn.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 400===g.error.statusCode?new d$(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"PATCH","/v1/private/annotation-queues/{id}")}removeItemsFromAnnotationQueue(e,t,r){return mL.fromPromise(this.__removeItemsFromAnnotationQueue(e,t,r))}async __removeItemsFromAnnotationQueue(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/annotation-queues/${gX.encodePathParam(e)}/items/delete`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:vg.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/annotation-queues/{id}/items/delete")}},ki=class{constructor(e={}){this._options=g5(e)}attachmentList(e,t){return mL.fromPromise(this.__attachmentList(e,t))}async __attachmentList(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,projectId:g,entityType:f,entityId:y,path:_}=e,v={page:h,size:m,project_id:g,entity_type:fd.jsonOrThrow(f,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),entity_id:y,path:_},b=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),w=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/attachment/list"),method:"GET",headers:b,queryParameters:{...v,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(w.ok)return{data:vx.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if("status-code"===w.error.reason)switch(w.error.statusCode){case 401:throw new dG(w.error.body,w.rawResponse);case 403:throw new dW(DT.parseOrThrow(w.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),w.rawResponse);default:throw new dL({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}return g8(w.error,w.rawResponse,"GET","/v1/private/attachment/list")}completeMultiPartUpload(e,t){return mL.fromPromise(this.__completeMultiPartUpload(e,t))}async __completeMultiPartUpload(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/attachment/upload-complete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:wW.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 401:throw new dG(m.error.body,m.rawResponse);case 403:throw new dW(DT.parseOrThrow(m.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/attachment/upload-complete")}deleteAttachments(e,t){return mL.fromPromise(this.__deleteAttachments(e,t))}async __deleteAttachments(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/attachment/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:wW.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 401:throw new dG(m.error.body,m.rawResponse);case 403:throw new dW(DT.parseOrThrow(m.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/attachment/delete")}downloadAttachment(e,t){return mL.fromPromise(this.__downloadAttachment(e,t))}async __downloadAttachment(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{workspaceName:h,containerId:m,entityType:g,entityId:f,fileName:y,mimeType:_}=e,v={workspace_name:h,container_id:m,entity_type:fc.jsonOrThrow(g,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),entity_id:f,file_name:y,mime_type:_},b=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),w=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/attachment/download"),method:"GET",headers:b,queryParameters:{...v,...null==t?void 0:t.queryParams},responseType:"streaming",timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(w.ok)return{data:w.body,rawResponse:w.rawResponse};if("status-code"===w.error.reason)switch(w.error.statusCode){case 401:throw new dG(w.error.body,w.rawResponse);case 403:throw new dW(DT.parseOrThrow(w.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),w.rawResponse);default:throw new dL({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}return g8(w.error,w.rawResponse,"GET","/v1/private/attachment/download")}startMultiPartUpload(e,t){return mL.fromPromise(this.__startMultiPartUpload(e,t))}async __startMultiPartUpload(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/attachment/upload-start"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fs.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:EK.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 401:throw new dG(m.error.body,m.rawResponse);case 403:throw new dW(DT.parseOrThrow(m.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/attachment/upload-start")}uploadAttachment(e,t){return mL.fromPromise(this.__uploadAttachment(e,t))}async __uploadAttachment(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{fileName:h,projectName:m,mimeType:g,entityType:f,entityId:y,body:_}=e,v={file_name:h,project_name:m,mime_type:g,entity_type:fh.jsonOrThrow(f,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),entity_id:y},b=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),w=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/attachment/upload"),method:"PUT",headers:b,contentType:"application/json",queryParameters:{...v,...null==t?void 0:t.queryParams},requestType:"json",body:fl.uploadAttachment.Request.jsonOrThrow(_,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(w.ok)return{data:void 0,rawResponse:w.rawResponse};if("status-code"===w.error.reason)switch(w.error.statusCode){case 401:throw new dG(w.error.body,w.rawResponse);case 403:throw new dW(DT.parseOrThrow(w.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),w.rawResponse);default:throw new dL({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse})}return g8(w.error,w.rawResponse,"PUT","/v1/private/attachment/upload")}},ka=class{constructor(e={}){this._options=g5(e)}findEvaluators(e={},t){return mL.fromPromise(this.__findEvaluators(e,t))}async __findEvaluators(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h,id:m,name:g,filters:f,sorting:y,page:_,size:v}=e,b=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),w=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/automations/evaluators"),method:"GET",headers:b,queryParameters:{project_id:h,id:m,name:g,filters:f,sorting:y,page:_,size:v,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(w.ok)return{data:bF.parseOrThrow(w.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:w.rawResponse};if("status-code"===w.error.reason)throw new dL({statusCode:w.error.statusCode,body:w.error.body,rawResponse:w.rawResponse});return g8(w.error,w.rawResponse,"GET","/v1/private/automations/evaluators")}createAutomationRuleEvaluator(e,t){return mL.fromPromise(this.__createAutomationRuleEvaluator(e,t))}async __createAutomationRuleEvaluator(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/automations/evaluators"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b4.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/automations/evaluators")}deleteAutomationRuleEvaluatorBatch(e,t){return mL.fromPromise(this.__deleteAutomationRuleEvaluatorBatch(e,t))}async __deleteAutomationRuleEvaluatorBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h,body:m}=e,g=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),f=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/automations/evaluators/delete"),method:"POST",headers:g,contentType:"application/json",queryParameters:{project_id:h,...null==t?void 0:t.queryParams},requestType:"json",body:b9.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/automations/evaluators/delete")}getEvaluatorById(e,t={},r){return mL.fromPromise(this.__getEvaluatorById(e,t,r))}async __getEvaluatorById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{projectId:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/automations/evaluators/${gX.encodePathParam(e)}`),method:"GET",headers:g,queryParameters:{project_id:m,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:bI.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/automations/evaluators/{id}")}updateAutomationRuleEvaluator(e,t,r){return mL.fromPromise(this.__updateAutomationRuleEvaluator(e,t,r))}async __updateAutomationRuleEvaluator(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/automations/evaluators/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:b1.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/automations/evaluators/{id}")}getEvaluatorLogsById(e,t={},r){return mL.fromPromise(this.__getEvaluatorLogsById(e,t,r))}async __getEvaluatorLogsById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{size:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/automations/evaluators/${gX.encodePathParam(e)}/logs`),method:"GET",headers:g,queryParameters:{size:m,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:Cj.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/automations/evaluators/{id}/logs")}},ks=class{constructor(e={}){this._options=g5(e)}createChatCompletions(e={},t){return mL.fromPromise(this.__createChatCompletions(e,t))}async __createChatCompletions(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/chat/completions"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fC.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:wC.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/chat/completions")}},kl=class{constructor(e={}){this._options=g5(e)}access(e,t){return mL.fromPromise(this.__access(e,t))}async __access(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/auth"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:vj.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 401:throw new dG(m.error.body,m.rawResponse);case 403:throw new dW(DT.parseOrThrow(m.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/auth")}getWorkspaceName(e){return mL.fromPromise(this.__getWorkspaceName(e))}async __getWorkspaceName(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/auth/workspace"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:kr.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)switch(h.error.statusCode){case 401:throw new dG(h.error.body,h.rawResponse);case 403:throw new dW(DT.parseOrThrow(h.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),h.rawResponse);default:throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse})}return g8(h.error,h.rawResponse,"GET","/v1/private/auth/workspace")}},ku=class{constructor(e={}){this._options=g5(e)}findDashboards(e={},t){return mL.fromPromise(this.__findDashboards(e,t))}async __findDashboards(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,name:g,sorting:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/dashboards"),method:"GET",headers:y,queryParameters:{page:h,size:m,name:g,sorting:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:wG.parseOrThrow(_.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:_.rawResponse};if("status-code"===_.error.reason)throw new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse});return g8(_.error,_.rawResponse,"GET","/v1/private/dashboards")}createDashboard(e,t){return mL.fromPromise(this.__createDashboard(e,t))}async __createDashboard(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/dashboards"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fS.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:wK.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/dashboards")}getDashboardById(e,t={},r){return mL.fromPromise(this.__getDashboardById(e,t,r))}async __getDashboardById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/dashboards/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:wK.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/dashboards/{dashboardId}")}deleteDashboard(e,t={},r){return mL.fromPromise(this.__deleteDashboard(e,t,r))}async __deleteDashboard(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/dashboards/${gX.encodePathParam(e)}`),method:"DELETE",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"DELETE","/v1/private/dashboards/{dashboardId}")}updateDashboard(e,t={},r){return mL.fromPromise(this.__updateDashboard(e,t,r))}async __updateDashboard(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/dashboards/${gX.encodePathParam(e)}`),method:"PATCH",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fx.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:wK.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)switch(g.error.statusCode){case 404:throw new dV(g.error.body,g.rawResponse);case 409:throw new dz(g.error.body,g.rawResponse);default:throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse})}return g8(g.error,g.rawResponse,"PATCH","/v1/private/dashboards/{dashboardId}")}deleteDashboardsBatch(e,t){return mL.fromPromise(this.__deleteDashboardsBatch(e,t))}async __deleteDashboardsBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/dashboards/delete-batch"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/dashboards/delete-batch")}},kp=class{constructor(e={}){this._options=g5(e)}applyDatasetItemChanges(e,t,r){return mL.fromPromise(this.__applyDatasetItemChanges(e,t,r))}async __applyDatasetItemChanges(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{override:m,body:g}=t,f=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),y=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/items/changes`),method:"POST",headers:f,contentType:"application/json",queryParameters:{override:m,...null==r?void 0:r.queryParams},requestType:"json",body:w5.jsonOrThrow(g,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(y.ok)return{data:D_.parseOrThrow(y.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:y.rawResponse};if("status-code"===y.error.reason)switch(y.error.statusCode){case 400:throw new d$(y.error.body,y.rawResponse);case 404:throw new dV(y.error.body,y.rawResponse);case 409:throw new dz(y.error.body,y.rawResponse);default:throw new dL({statusCode:y.error.statusCode,body:y.error.body,rawResponse:y.rawResponse})}return g8(y.error,y.rawResponse,"POST","/v1/private/datasets/{id}/items/changes")}batchUpdateDatasetItems(e,t){return mL.fromPromise(this.__batchUpdateDatasetItems(e,t))}async __batchUpdateDatasetItems(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/items/batch"),method:"PATCH",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fq.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PATCH","/v1/private/datasets/items/batch")}findDatasets(e={},t){return mL.fromPromise(this.__findDatasets(e,t))}async __findDatasets(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,withExperimentsOnly:g,withOptimizationsOnly:f,promptId:y,name:_,sorting:v,filters:b}=e,w=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),D=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets"),method:"GET",headers:w,queryParameters:{page:h,size:m,with_experiments_only:g,with_optimizations_only:f,prompt_id:y,name:_,sorting:v,filters:b,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(D.ok)return{data:Dg.parseOrThrow(D.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:D.rawResponse};if("status-code"===D.error.reason)throw new dL({statusCode:D.error.statusCode,body:D.error.body,rawResponse:D.rawResponse});return g8(D.error,D.rawResponse,"GET","/v1/private/datasets")}createDataset(e,t){return mL.fromPromise(this.__createDataset(e,t))}async __createDataset(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fX.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/datasets")}createOrUpdateDatasetItems(e,t){return mL.fromPromise(this.__createOrUpdateDatasetItems(e,t))}async __createOrUpdateDatasetItems(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/items"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fW.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PUT","/v1/private/datasets/items")}createDatasetItemsFromCsv(e,t){return mL.fromPromise(this.__createDatasetItemsFromCsv(e,t))}async __createDatasetItemsFromCsv(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h,m,g=await m1();g.append("file",JSON.stringify(e.file,h,m)),g.append("dataset_id",e.datasetId);let f=await g.getRequest(),y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName,...f.headers}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/items/from-csv"),method:"POST",headers:y,queryParameters:null==t?void 0:t.queryParams,requestType:"file",duplex:f.duplex,body:f.body,timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:void 0,rawResponse:_.rawResponse};if("status-code"===_.error.reason)switch(_.error.statusCode){case 400:throw new d$(_.error.body,_.rawResponse);case 404:throw new dV(_.error.body,_.rawResponse);default:throw new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse})}return g8(_.error,_.rawResponse,"POST","/v1/private/datasets/items/from-csv")}createDatasetItemsFromSpans(e,t,r){return mL.fromPromise(this.__createDatasetItemsFromSpans(e,t,r))}async __createDatasetItemsFromSpans(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/items/from-spans`),method:"POST",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fF.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"POST","/v1/private/datasets/{dataset_id}/items/from-spans")}createDatasetItemsFromTraces(e,t,r){return mL.fromPromise(this.__createDatasetItemsFromTraces(e,t,r))}async __createDatasetItemsFromTraces(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/items/from-traces`),method:"POST",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fO.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"POST","/v1/private/datasets/{dataset_id}/items/from-traces")}getDatasetById(e,t={},r){return mL.fromPromise(this.__getDatasetById(e,t,r))}async __getDatasetById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Dm.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/datasets/{id}")}updateDataset(e,t,r){return mL.fromPromise(this.__updateDataset(e,t,r))}async __updateDataset(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}`),method:"PUT",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fH.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"PUT","/v1/private/datasets/{id}")}deleteDataset(e,t={},r){return mL.fromPromise(this.__deleteDataset(e,t,r))}async __deleteDataset(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}`),method:"DELETE",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"DELETE","/v1/private/datasets/{id}")}deleteDatasetByName(e,t){return mL.fromPromise(this.__deleteDatasetByName(e,t))}async __deleteDatasetByName(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fA.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/datasets/delete")}deleteDatasetItems(e={},t){return mL.fromPromise(this.__deleteDatasetItems(e,t))}async __deleteDatasetItems(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/items/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fK.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/datasets/items/delete")}deleteDatasetsBatch(e,t){return mL.fromPromise(this.__deleteDatasetsBatch(e,t))}async __deleteDatasetsBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/delete-batch"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/datasets/delete-batch")}downloadDatasetExport(e,t={},r){return mL.fromPromise(this.__downloadDatasetExport(e,t,r))}async __downloadDatasetExport(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/export-jobs/${gX.encodePathParam(e)}/download`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,responseType:"streaming",timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:g.body,rawResponse:g.rawResponse};if("status-code"===g.error.reason)switch(g.error.statusCode){case 400:throw new d$(g.error.body,g.rawResponse);case 404:throw new dV(g.error.body,g.rawResponse);default:throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse})}return g8(g.error,g.rawResponse,"GET","/v1/private/datasets/export-jobs/{jobId}/download")}expandDataset(e,t,r){return mL.fromPromise(this.__expandDataset(e,t,r))}async __expandDataset(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/expansions`),method:"POST",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fI.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:w3.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"POST","/v1/private/datasets/{id}/expansions")}findDatasetItemsWithExperimentItems(e,t,r){return mL.fromPromise(this.__findDatasetItemsWithExperimentItems(e,t,r))}async __findDatasetItemsWithExperimentItems(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{page:m,size:g,experimentIds:f,filters:y,sorting:_,search:v,truncate:b}=t,w=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),D=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/items/experiments/items`),method:"GET",headers:w,queryParameters:{page:m,size:g,experiment_ids:f,filters:y,sorting:_,search:v,truncate:b,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(D.ok)return{data:Di.parseOrThrow(D.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:D.rawResponse};if("status-code"===D.error.reason)throw new dL({statusCode:D.error.statusCode,body:D.error.body,rawResponse:D.rawResponse});return g8(D.error,D.rawResponse,"GET","/v1/private/datasets/{id}/items/experiments/items")}getDatasetByIdentifier(e,t){return mL.fromPromise(this.__getDatasetByIdentifier(e,t))}async __getDatasetByIdentifier(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/retrieve"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fN.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:Dm.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/datasets/retrieve")}getDatasetExperimentItemsStats(e,t,r){return mL.fromPromise(this.__getDatasetExperimentItemsStats(e,t,r))}async __getDatasetExperimentItemsStats(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{experimentIds:m,filters:g}=t,f=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),y=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/items/experiments/items/stats`),method:"GET",headers:f,queryParameters:{experiment_ids:m,filters:g,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(y.ok)return{data:Eg.parseOrThrow(y.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:y.rawResponse};if("status-code"===y.error.reason)throw new dL({statusCode:y.error.statusCode,body:y.error.body,rawResponse:y.rawResponse});return g8(y.error,y.rawResponse,"GET","/v1/private/datasets/{id}/items/experiments/items/stats")}getDatasetExportJob(e,t={},r){return mL.fromPromise(this.__getDatasetExportJob(e,t,r))}async __getDatasetExportJob(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/export-jobs/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:f3.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/datasets/export-jobs/{jobId}")}getDatasetExportJobs(e){return mL.fromPromise(this.__getDatasetExportJobs(e))}async __getDatasetExportJobs(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/datasets/export-jobs"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:f0.getDatasetExportJobs.Response.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/private/datasets/export-jobs")}getDatasetItemById(e,t={},r){return mL.fromPromise(this.__getDatasetItemById(e,t,r))}async __getDatasetItemById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/items/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Du.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/datasets/items/{itemId}")}patchDatasetItem(e,t,r){return mL.fromPromise(this.__patchDatasetItem(e,t,r))}async __patchDatasetItem(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/items/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fz.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/datasets/items/{itemId}")}getDatasetItems(e,t={},r){return mL.fromPromise(this.__getDatasetItems(e,t,r))}async __getDatasetItems(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{page:m,size:g,version:f,filters:y,truncate:_}=t,v=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),b=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/items`),method:"GET",headers:v,queryParameters:{page:m,size:g,version:f,filters:y,truncate:_,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(b.ok)return{data:Dp.parseOrThrow(b.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:b.rawResponse};if("status-code"===b.error.reason)throw new dL({statusCode:b.error.statusCode,body:b.error.body,rawResponse:b.rawResponse});return g8(b.error,b.rawResponse,"GET","/v1/private/datasets/{id}/items")}getDatasetItemsOutputColumns(e,t={},r){return mL.fromPromise(this.__getDatasetItemsOutputColumns(e,t,r))}async __getDatasetItemsOutputColumns(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{experimentIds:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/items/experiments/items/output/columns`),method:"GET",headers:g,queryParameters:{experiment_ids:m,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:C7.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/datasets/{id}/items/experiments/items/output/columns")}markDatasetExportJobViewed(e,t={},r){return mL.fromPromise(this.__markDatasetExportJobViewed(e,t,r))}async __markDatasetExportJobViewed(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/export-jobs/${gX.encodePathParam(e)}/mark-viewed`),method:"PUT",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"PUT","/v1/private/datasets/export-jobs/{jobId}/mark-viewed")}startDatasetExport(e,t={},r){return mL.fromPromise(this.__startDatasetExport(e,t,r))}async __startDatasetExport(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/export`),method:"POST",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:f3.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"POST","/v1/private/datasets/{id}/export")}streamDatasetItems(e,t){return mL.fromPromise(this.__streamDatasetItems(e,t))}async __streamDatasetItems(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/datasets/items/stream"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:fV.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),responseType:"streaming",timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:m.body,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/datasets/items/stream")}compareDatasetVersions(e,t={},r){return mL.fromPromise(this.__compareDatasetVersions(e,t,r))}async __compareDatasetVersions(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/versions/diff`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Dy.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/datasets/{id}/versions/diff")}createVersionTag(e,t,r,o){return mL.fromPromise(this.__createVersionTag(e,t,r,o))}async __createVersionTag(e,t,r,o){var n,i,a,s,l,u,p,d,c,h,m;let g=mh(null==(n=this._options)?void 0:n.headers,mm({"Comet-Workspace":null!=(a=null==o?void 0:o.workspaceName)?a:null==(i=this._options)?void 0:i.workspaceName}),null==o?void 0:o.headers),f=await mU({url:gX.join(null!=(l=null!=(s=await mq(this._options.baseUrl))?s:await mq(this._options.environment))?l:g4,`v1/private/datasets/${gX.encodePathParam(e)}/versions/hash/${gX.encodePathParam(t)}/tags`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==o?void 0:o.queryParams,requestType:"json",body:fJ.jsonOrThrow(r,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(d=null!=(p=null==o?void 0:o.timeoutInSeconds)?p:null==(u=this._options)?void 0:u.timeoutInSeconds)?d:60)*1e3,maxRetries:null!=(h=null==o?void 0:o.maxRetries)?h:null==(c=this._options)?void 0:c.maxRetries,withCredentials:!0,abortSignal:null==o?void 0:o.abortSignal,fetchFn:null==(m=this._options)?void 0:m.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)switch(f.error.statusCode){case 400:throw new d$(f.error.body,f.rawResponse);case 404:throw new dV(f.error.body,f.rawResponse);case 409:throw new dz(f.error.body,f.rawResponse);default:throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse})}return g8(f.error,f.rawResponse,"POST","/v1/private/datasets/{id}/versions/hash/{versionHash}/tags")}deleteVersionTag(e,t,r,o={},n){return mL.fromPromise(this.__deleteVersionTag(e,t,r,o,n))}async __deleteVersionTag(e,t,r,o={},n){var i,a,s,l,u,p,d,c,h,m,g;let f=mh(null==(i=this._options)?void 0:i.headers,mm({"Comet-Workspace":null!=(s=null==n?void 0:n.workspaceName)?s:null==(a=this._options)?void 0:a.workspaceName}),null==n?void 0:n.headers),y=await mU({url:gX.join(null!=(u=null!=(l=await mq(this._options.baseUrl))?l:await mq(this._options.environment))?u:g4,`v1/private/datasets/${gX.encodePathParam(e)}/versions/${gX.encodePathParam(t)}/tags/${gX.encodePathParam(r)}`),method:"DELETE",headers:f,queryParameters:null==n?void 0:n.queryParams,timeoutMs:(null!=(c=null!=(d=null==n?void 0:n.timeoutInSeconds)?d:null==(p=this._options)?void 0:p.timeoutInSeconds)?c:60)*1e3,maxRetries:null!=(m=null==n?void 0:n.maxRetries)?m:null==(h=this._options)?void 0:h.maxRetries,withCredentials:!0,abortSignal:null==n?void 0:n.abortSignal,fetchFn:null==(g=this._options)?void 0:g.fetch,logging:this._options.logging});if(y.ok)return{data:void 0,rawResponse:y.rawResponse};if("status-code"===y.error.reason)throw new dL({statusCode:y.error.statusCode,body:y.error.body,rawResponse:y.rawResponse});return g8(y.error,y.rawResponse,"DELETE","/v1/private/datasets/{id}/versions/{versionHash}/tags/{tag}")}listDatasetVersions(e,t={},r){return mL.fromPromise(this.__listDatasetVersions(e,t,r))}async __listDatasetVersions(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{page:m,size:g}=t,f=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),y=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/versions`),method:"GET",headers:f,queryParameters:{page:m,size:g,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(y.ok)return{data:Dv.parseOrThrow(y.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:y.rawResponse};if("status-code"===y.error.reason)throw 400===y.error.statusCode?new d$(y.error.body,y.rawResponse):new dL({statusCode:y.error.statusCode,body:y.error.body,rawResponse:y.rawResponse});return g8(y.error,y.rawResponse,"GET","/v1/private/datasets/{id}/versions")}restoreDatasetVersion(e,t,r){return mL.fromPromise(this.__restoreDatasetVersion(e,t,r))}async __restoreDatasetVersion(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/datasets/${gX.encodePathParam(e)}/versions/restore`),method:"POST",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:fZ.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:D_.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"POST","/v1/private/datasets/{id}/versions/restore")}updateDatasetVersion(e,t,r={},o){return mL.fromPromise(this.__updateDatasetVersion(e,t,r,o))}async __updateDatasetVersion(e,t,r={},o){var n,i,a,s,l,u,p,d,c,h,m;let g=mh(null==(n=this._options)?void 0:n.headers,mm({"Comet-Workspace":null!=(a=null==o?void 0:o.workspaceName)?a:null==(i=this._options)?void 0:i.workspaceName}),null==o?void 0:o.headers),f=await mU({url:gX.join(null!=(l=null!=(s=await mq(this._options.baseUrl))?s:await mq(this._options.environment))?l:g4,`v1/private/datasets/${gX.encodePathParam(e)}/versions/hash/${gX.encodePathParam(t)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==o?void 0:o.queryParams,requestType:"json",body:fY.jsonOrThrow(r,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(d=null!=(p=null==o?void 0:o.timeoutInSeconds)?p:null==(u=this._options)?void 0:u.timeoutInSeconds)?d:60)*1e3,maxRetries:null!=(h=null==o?void 0:o.maxRetries)?h:null==(c=this._options)?void 0:c.maxRetries,withCredentials:!0,abortSignal:null==o?void 0:o.abortSignal,fetchFn:null==(m=this._options)?void 0:m.fetch,logging:this._options.logging});if(f.ok)return{data:D_.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)switch(f.error.statusCode){case 400:throw new d$(f.error.body,f.rawResponse);case 404:throw new dV(f.error.body,f.rawResponse);case 409:throw new dz(f.error.body,f.rawResponse);default:throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse})}return g8(f.error,f.rawResponse,"PATCH","/v1/private/datasets/{id}/versions/hash/{versionHash}")}},kd=class{constructor(e={}){this._options=g5(e)}batchUpdateExperiments(e,t){return mL.fromPromise(this.__batchUpdateExperiments(e,t))}async __batchUpdateExperiments(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/batch"),method:"PATCH",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:f7.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PATCH","/v1/private/experiments/batch")}findExperiments(e={},t){return mL.fromPromise(this.__findExperiments(e,t))}async __findExperiments(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,datasetId:g,optimizationId:f,types:y,name:_,datasetDeleted:v,promptId:b,sorting:w,filters:D,experimentIds:C}=e,E=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),k=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments"),method:"GET",headers:E,queryParameters:{page:h,size:m,datasetId:g,optimization_id:f,types:y,name:_,dataset_deleted:v,prompt_id:b,sorting:w,filters:D,experiment_ids:C,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(k.ok)return{data:D1.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if("status-code"===k.error.reason)throw 400===k.error.statusCode?new d$(k.error.body,k.rawResponse):new dL({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse});return g8(k.error,k.rawResponse,"GET","/v1/private/experiments")}createExperiment(e,t){return mL.fromPromise(this.__createExperiment(e,t))}async __createExperiment(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yS.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/experiments")}createExperimentItems(e,t){return mL.fromPromise(this.__createExperimentItems(e,t))}async __createExperimentItems(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/items"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yb.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/experiments/items")}deleteExperimentItems(e,t){return mL.fromPromise(this.__deleteExperimentItems(e,t))}async __deleteExperimentItems(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/items/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yw.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/experiments/items/delete")}deleteExperimentsById(e,t){return mL.fromPromise(this.__deleteExperimentsById(e,t))}async __deleteExperimentsById(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:DC.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/experiments/delete")}experimentItemsBulk(e,t){return mL.fromPromise(this.__experimentItemsBulk(e,t))}async __experimentItemsBulk(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/items/bulk"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yp.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 409:throw new dz(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"PUT","/v1/private/experiments/items/bulk")}findFeedbackScoreNames(e={},t){return mL.fromPromise(this.__findFeedbackScoreNames(e,t))}async __findFeedbackScoreNames(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{experimentIds:h}=e,m=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),g=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/feedback-scores/names"),method:"GET",headers:m,queryParameters:{experiment_ids:h,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(g.ok)return{data:yR.findFeedbackScoreNames.Response.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/experiments/feedback-scores/names")}findExperimentGroups(e={},t){return mL.fromPromise(this.__findExperimentGroups(e,t))}async __findExperimentGroups(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{groups:h,types:m,name:g,filters:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/groups"),method:"GET",headers:y,queryParameters:{groups:h,types:m,name:g,filters:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:DL.parseOrThrow(_.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:_.rawResponse};if("status-code"===_.error.reason)throw 400===_.error.statusCode?new d$(_.error.body,_.rawResponse):new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse});return g8(_.error,_.rawResponse,"GET","/v1/private/experiments/groups")}findExperimentGroupsAggregations(e={},t){return mL.fromPromise(this.__findExperimentGroupsAggregations(e,t))}async __findExperimentGroupsAggregations(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{groups:h,types:m,name:g,filters:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/groups/aggregations"),method:"GET",headers:y,queryParameters:{groups:h,types:m,name:g,filters:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:DN.parseOrThrow(_.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:_.rawResponse};if("status-code"===_.error.reason)throw 400===_.error.statusCode?new d$(_.error.body,_.rawResponse):new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse});return g8(_.error,_.rawResponse,"GET","/v1/private/experiments/groups/aggregations")}finishExperiments(e,t){return mL.fromPromise(this.__finishExperiments(e,t))}async __finishExperiments(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/finish"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:DC.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/experiments/finish")}getExperimentById(e,t={},r){return mL.fromPromise(this.__getExperimentById(e,t,r))}async __getExperimentById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/experiments/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:D0.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/experiments/{id}")}updateExperiment(e,t,r){return mL.fromPromise(this.__updateExperiment(e,t,r))}async __updateExperiment(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/experiments/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:f9.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)switch(f.error.statusCode){case 400:throw new d$(f.error.body,f.rawResponse);case 404:throw new dV(f.error.body,f.rawResponse);default:throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse})}return g8(f.error,f.rawResponse,"PATCH","/v1/private/experiments/{id}")}getExperimentItemById(e,t={},r){return mL.fromPromise(this.__getExperimentItemById(e,t,r))}async __getExperimentItemById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/experiments/items/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Dl.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/experiments/items/{id}")}streamExperimentItems(e,t){return mL.fromPromise(this.__streamExperimentItems(e,t))}async __streamExperimentItems(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/items/stream"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yd.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),responseType:"streaming",timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:m.body,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/experiments/items/stream")}streamExperiments(e,t){return mL.fromPromise(this.__streamExperiments(e,t))}async __streamExperiments(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/experiments/stream"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yD.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),responseType:"streaming",timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:m.body,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/experiments/stream")}},kc=class{constructor(e={}){this._options=g5(e)}findFeedbackDefinitions(e={},t){return mL.fromPromise(this.__findFeedbackDefinitions(e,t))}async __findFeedbackDefinitions(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,name:g,type:f}=e,y={page:h,size:m,name:g,type:null!=f?yO.jsonOrThrow(f,{unrecognizedObjectKeys:"strip",omitUndefined:!0}):void 0},_=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),v=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/feedback-definitions"),method:"GET",headers:_,queryParameters:{...y,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(v.ok)return{data:Ci.parseOrThrow(v.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:v.rawResponse};if("status-code"===v.error.reason)throw new dL({statusCode:v.error.statusCode,body:v.error.body,rawResponse:v.rawResponse});return g8(v.error,v.rawResponse,"GET","/v1/private/feedback-definitions")}createFeedbackDefinition(e,t){return mL.fromPromise(this.__createFeedbackDefinition(e,t))}async __createFeedbackDefinition(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/feedback-definitions"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:Ce.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/feedback-definitions")}getFeedbackDefinitionById(e,t={},r){return mL.fromPromise(this.__getFeedbackDefinitionById(e,t,r))}async __getFeedbackDefinitionById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/feedback-definitions/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Cs.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/feedback-definitions/{id}")}updateFeedbackDefinition(e,t,r){return mL.fromPromise(this.__updateFeedbackDefinition(e,t,r))}async __updateFeedbackDefinition(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/feedback-definitions/${gX.encodePathParam(e)}`),method:"PUT",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:Cw.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PUT","/v1/private/feedback-definitions/{id}")}deleteFeedbackDefinitionById(e,t={},r){return mL.fromPromise(this.__deleteFeedbackDefinitionById(e,t,r))}async __deleteFeedbackDefinitionById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/feedback-definitions/${gX.encodePathParam(e)}`),method:"DELETE",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 409===g.error.statusCode?new dz(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"DELETE","/v1/private/feedback-definitions/{id}")}deleteFeedbackDefinitionsBatch(e,t){return mL.fromPromise(this.__deleteFeedbackDefinitionsBatch(e,t))}async __deleteFeedbackDefinitionsBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/feedback-definitions/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 409===m.error.statusCode?new dz(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/feedback-definitions/delete")}},kh=class{constructor(e={}){this._options=g5(e)}createGuardrails(e,t){return mL.fromPromise(this.__createGuardrails(e,t))}async __createGuardrails(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/guardrails"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yB.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/guardrails")}},km=class{constructor(e={}){this._options=g5(e)}deleteLlmProviderApiKeysBatch(e,t){return mL.fromPromise(this.__deleteLlmProviderApiKeysBatch(e,t))}async __deleteLlmProviderApiKeysBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/llm-provider-key/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/llm-provider-key/delete")}findLlmProviderKeys(e){return mL.fromPromise(this.__findLlmProviderKeys(e))}async __findLlmProviderKeys(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/llm-provider-key"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:EB.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/private/llm-provider-key")}storeLlmProviderApiKey(e,t){return mL.fromPromise(this.__storeLlmProviderApiKey(e,t))}async __storeLlmProviderApiKey(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/llm-provider-key"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:yq.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 401:throw new dG(m.error.body,m.rawResponse);case 403:throw new dW(DT.parseOrThrow(m.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/llm-provider-key")}getLlmProviderApiKeyById(e,t={},r){return mL.fromPromise(this.__getLlmProviderApiKeyById(e,t,r))}async __getLlmProviderApiKeyById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/llm-provider-key/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:EN.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/llm-provider-key/{id}")}updateLlmProviderApiKey(e,t={},r){return mL.fromPromise(this.__updateLlmProviderApiKey(e,t,r))}async __updateLlmProviderApiKey(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/llm-provider-key/${gX.encodePathParam(e)}`),method:"PATCH",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yU.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)switch(g.error.statusCode){case 401:throw new dG(g.error.body,g.rawResponse);case 403:throw new dW(DT.parseOrThrow(g.error.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),g.rawResponse);case 404:throw new dV(g.error.body,g.rawResponse);default:throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse})}return g8(g.error,g.rawResponse,"PATCH","/v1/private/llm-provider-key/{id}")}},kg=class{constructor(e={}){this._options=g5(e)}evaluateSpans(e,t){return mL.fromPromise(this.__evaluateSpans(e,t))}async __evaluateSpans(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/manual-evaluation/spans"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:CP.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:CO.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 404:throw new dV(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/manual-evaluation/spans")}evaluateThreads(e,t){return mL.fromPromise(this.__evaluateThreads(e,t))}async __evaluateThreads(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/manual-evaluation/threads"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:CP.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:CO.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 404:throw new dV(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/manual-evaluation/threads")}evaluateTraces(e,t){return mL.fromPromise(this.__evaluateTraces(e,t))}async __evaluateTraces(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/manual-evaluation/traces"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:CP.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:CO.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 404:throw new dV(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/manual-evaluation/traces")}},kf=class{constructor(e={}){this._options=g5(e)}receiveProtobufTraces(e){return mL.fromPromise(this.__receiveProtobufTraces(e))}async __receiveProtobufTraces(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/otel/v1/traces"),method:"POST",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:h.body,rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"POST","/v1/private/otel/v1/traces")}},ky=class{constructor(e={}){this._options=g5(e)}cancelStudioOptimizations(e,t={},r){return mL.fromPromise(this.__cancelStudioOptimizations(e,t,r))}async __cancelStudioOptimizations(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/optimizations/studio/${gX.encodePathParam(e)}/cancel`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 501===g.error.statusCode?new dK(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/optimizations/studio/{id}/cancel")}findOptimizations(e={},t){return mL.fromPromise(this.__findOptimizations(e,t))}async __findOptimizations(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,datasetId:g,name:f,datasetDeleted:y,filters:_}=e,v=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),b=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/optimizations"),method:"GET",headers:v,queryParameters:{page:h,size:m,dataset_id:g,name:f,dataset_deleted:y,filters:_,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(b.ok)return{data:CQ.parseOrThrow(b.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:b.rawResponse};if("status-code"===b.error.reason)throw 400===b.error.statusCode?new d$(b.error.body,b.rawResponse):new dL({statusCode:b.error.statusCode,body:b.error.body,rawResponse:b.rawResponse});return g8(b.error,b.rawResponse,"GET","/v1/private/optimizations")}createOptimization(e,t){return mL.fromPromise(this.__createOptimization(e,t))}async __createOptimization(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/optimizations"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:C9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/optimizations")}upsertOptimization(e,t){return mL.fromPromise(this.__upsertOptimization(e,t))}async __upsertOptimization(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/optimizations"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:C9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PUT","/v1/private/optimizations")}deleteOptimizationsById(e,t){return mL.fromPromise(this.__deleteOptimizationsById(e,t))}async __deleteOptimizationsById(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/optimizations/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:DC.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/optimizations/delete")}getOptimizationById(e,t={},r){return mL.fromPromise(this.__getOptimizationById(e,t,r))}async __getOptimizationById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/optimizations/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:CY.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/optimizations/{id}")}updateOptimizationsById(e,t={},r){return mL.fromPromise(this.__updateOptimizationsById(e,t,r))}async __updateOptimizationsById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/optimizations/${gX.encodePathParam(e)}`),method:"PUT",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yW.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"PUT","/v1/private/optimizations/{id}")}getStudioOptimizationLogs(e,t={},r){return mL.fromPromise(this.__getStudioOptimizationLogs(e,t,r))}async __getStudioOptimizationLogs(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/optimizations/studio/${gX.encodePathParam(e)}/logs`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:C4.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/optimizations/studio/{id}/logs")}},k_=class{constructor(e={}){this._options=g5(e)}findProjects(e={},t){return mL.fromPromise(this.__findProjects(e,t))}async __findProjects(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,name:g,sorting:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/projects"),method:"GET",headers:y,queryParameters:{page:h,size:m,name:g,sorting:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:Ec.parseOrThrow(_.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:_.rawResponse};if("status-code"===_.error.reason)throw new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse});return g8(_.error,_.rawResponse,"GET","/v1/private/projects")}createProject(e,t){return mL.fromPromise(this.__createProject(e,t))}async __createProject(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/projects"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:y5.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/projects")}getProjectById(e,t={},r){return mL.fromPromise(this.__getProjectById(e,t,r))}async __getProjectById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/projects/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Ed.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/projects/{id}")}deleteProjectById(e,t={},r){return mL.fromPromise(this.__deleteProjectById(e,t,r))}async __deleteProjectById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/projects/${gX.encodePathParam(e)}`),method:"DELETE",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 409===g.error.statusCode?new dz(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"DELETE","/v1/private/projects/{id}")}updateProject(e,t={},r){return mL.fromPromise(this.__updateProject(e,t,r))}async __updateProject(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/projects/${gX.encodePathParam(e)}`),method:"PATCH",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:y3.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)switch(g.error.statusCode){case 400:throw new d$(g.error.body,g.rawResponse);case 422:throw new dH(g.error.body,g.rawResponse);default:throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse})}return g8(g.error,g.rawResponse,"PATCH","/v1/private/projects/{id}")}deleteProjectsBatch(e,t){return mL.fromPromise(this.__deleteProjectsBatch(e,t))}async __deleteProjectsBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/projects/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/projects/delete")}findFeedbackScoreNamesByProjectIds(e={},t){return mL.fromPromise(this.__findFeedbackScoreNamesByProjectIds(e,t))}async __findFeedbackScoreNamesByProjectIds(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectIds:h}=e,m=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),g=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/projects/feedback-scores/names"),method:"GET",headers:m,queryParameters:{project_ids:h,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(g.ok)return{data:Ch.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/projects/feedback-scores/names")}getProjectMetrics(e,t={},r){return mL.fromPromise(this.__getProjectMetrics(e,t,r))}async __getProjectMetrics(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/projects/${gX.encodePathParam(e)}/metrics`),method:"POST",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:y0.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Eu.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)switch(g.error.statusCode){case 400:throw new d$(g.error.body,g.rawResponse);case 404:throw new dV(g.error.body,g.rawResponse);default:throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse})}return g8(g.error,g.rawResponse,"POST","/v1/private/projects/{id}/metrics")}getProjectStats(e={},t){return mL.fromPromise(this.__getProjectStats(e,t))}async __getProjectStats(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,name:g,sorting:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/projects/stats"),method:"GET",headers:y,queryParameters:{page:h,size:m,name:g,sorting:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:Ey.parseOrThrow(_.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:_.rawResponse};if("status-code"===_.error.reason)throw new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse});return g8(_.error,_.rawResponse,"GET","/v1/private/projects/stats")}retrieveProject(e,t){return mL.fromPromise(this.__retrieveProject(e,t))}async __retrieveProject(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/projects/retrieve"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:y1.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:Ei.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 404:throw new dV(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/projects/retrieve")}},kv=class{constructor(e={}){this._options=g5(e)}getPrompts(e={},t){return mL.fromPromise(this.__getPrompts(e,t))}async __getPrompts(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,name:g,sorting:f,filters:y}=e,_=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),v=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/prompts"),method:"GET",headers:_,queryParameters:{page:h,size:m,name:g,sorting:f,filters:y,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(v.ok)return{data:ES.parseOrThrow(v.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:v.rawResponse};if("status-code"===v.error.reason)throw new dL({statusCode:v.error.statusCode,body:v.error.body,rawResponse:v.rawResponse});return g8(v.error,v.rawResponse,"GET","/v1/private/prompts")}createPrompt(e,t){return mL.fromPromise(this.__createPrompt(e,t))}async __createPrompt(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/prompts"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_u.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 409:throw new dz(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/prompts")}createPromptVersion(e,t){return mL.fromPromise(this.__createPromptVersion(e,t))}async __createPromptVersion(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/prompts/versions"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_r.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:_e.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 409:throw new dz(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/prompts/versions")}updatePromptVersions(e,t){return mL.fromPromise(this.__updatePromptVersions(e,t))}async __updatePromptVersions(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/prompts/versions"),method:"PATCH",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_i.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PATCH","/v1/private/prompts/versions")}getPromptById(e,t={},r){return mL.fromPromise(this.__getPromptById(e,t,r))}async __getPromptById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/prompts/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:Ek.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/prompts/{id}")}updatePrompt(e,t,r){return mL.fromPromise(this.__updatePrompt(e,t,r))}async __updatePrompt(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/prompts/${gX.encodePathParam(e)}`),method:"PUT",headers:m,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:_o.jsonOrThrow(t,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)switch(g.error.statusCode){case 400:throw new d$(g.error.body,g.rawResponse);case 404:throw new dV(g.error.body,g.rawResponse);case 409:throw new dz(g.error.body,g.rawResponse);case 422:throw new dH(g.error.body,g.rawResponse);default:throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse})}return g8(g.error,g.rawResponse,"PUT","/v1/private/prompts/{id}")}deletePrompt(e,t={},r){return mL.fromPromise(this.__deletePrompt(e,t,r))}async __deletePrompt(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/prompts/${gX.encodePathParam(e)}`),method:"DELETE",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"DELETE","/v1/private/prompts/{id}")}deletePromptsBatch(e,t){return mL.fromPromise(this.__deletePromptsBatch(e,t))}async __deletePromptsBatch(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/prompts/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/prompts/delete")}getPromptVersionById(e,t={},r){return mL.fromPromise(this.__getPromptVersionById(e,t,r))}async __getPromptVersionById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/prompts/versions/${gX.encodePathParam(e)}`),method:"GET",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:_e.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 404===g.error.statusCode?new dV(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/prompts/versions/{versionId}")}getPromptVersions(e,t={},r){return mL.fromPromise(this.__getPromptVersions(e,t,r))}async __getPromptVersions(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{page:m,size:g,search:f,sorting:y,filters:_}=t,v=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),b=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/prompts/${gX.encodePathParam(e)}/versions`),method:"GET",headers:v,queryParameters:{page:m,size:g,search:f,sorting:y,filters:_,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(b.ok)return{data:EP.parseOrThrow(b.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:b.rawResponse};if("status-code"===b.error.reason)throw new dL({statusCode:b.error.statusCode,body:b.error.body,rawResponse:b.rawResponse});return g8(b.error,b.rawResponse,"GET","/v1/private/prompts/{id}/versions")}restorePromptVersion(e,t,r={},o){return mL.fromPromise(this.__restorePromptVersion(e,t,r,o))}async __restorePromptVersion(e,t,r={},o){var n,i,a,s,l,u,p,d,c,h,m;let g=mh(null==(n=this._options)?void 0:n.headers,mm({"Comet-Workspace":null!=(a=null==o?void 0:o.workspaceName)?a:null==(i=this._options)?void 0:i.workspaceName}),null==o?void 0:o.headers),f=await mU({url:gX.join(null!=(l=null!=(s=await mq(this._options.baseUrl))?s:await mq(this._options.environment))?l:g4,`v1/private/prompts/${gX.encodePathParam(e)}/versions/${gX.encodePathParam(t)}/restore`),method:"POST",headers:g,queryParameters:null==o?void 0:o.queryParams,timeoutMs:(null!=(d=null!=(p=null==o?void 0:o.timeoutInSeconds)?p:null==(u=this._options)?void 0:u.timeoutInSeconds)?d:60)*1e3,maxRetries:null!=(h=null==o?void 0:o.maxRetries)?h:null==(c=this._options)?void 0:c.maxRetries,withCredentials:!0,abortSignal:null==o?void 0:o.abortSignal,fetchFn:null==(m=this._options)?void 0:m.fetch,logging:this._options.logging});if(f.ok)return{data:_e.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)switch(f.error.statusCode){case 400:throw new d$(f.error.body,f.rawResponse);case 404:throw new dV(f.error.body,f.rawResponse);default:throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse})}return g8(f.error,f.rawResponse,"POST","/v1/private/prompts/{promptId}/versions/{versionId}/restore")}retrievePromptVersion(e,t){return mL.fromPromise(this.__retrievePromptVersion(e,t))}async __retrievePromptVersion(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/prompts/versions/retrieve"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_a.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:_e.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 404:throw new dV(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/prompts/versions/retrieve")}},kb=class{constructor(e={}){this._options=g5(e)}datasetsRedirect(e,t){return mL.fromPromise(this.__datasetsRedirect(e,t))}async __datasetsRedirect(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{datasetId:h,workspaceName:m,path:g}=e,f=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),y=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/session/redirect/datasets"),method:"GET",headers:f,queryParameters:{dataset_id:h,workspace_name:m,path:g,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(y.ok)return{data:void 0,rawResponse:y.rawResponse};if("status-code"===y.error.reason)switch(y.error.statusCode){case 400:throw new d$(y.error.body,y.rawResponse);case 404:throw new dV(y.error.body,y.rawResponse);default:throw new dL({statusCode:y.error.statusCode,body:y.error.body,rawResponse:y.rawResponse})}return g8(y.error,y.rawResponse,"GET","/v1/session/redirect/datasets")}experimentsRedirect(e,t){return mL.fromPromise(this.__experimentsRedirect(e,t))}async __experimentsRedirect(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{datasetId:h,experimentId:m,workspaceName:g,path:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/session/redirect/experiments"),method:"GET",headers:y,queryParameters:{dataset_id:h,experiment_id:m,workspace_name:g,path:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:void 0,rawResponse:_.rawResponse};if("status-code"===_.error.reason)switch(_.error.statusCode){case 400:throw new d$(_.error.body,_.rawResponse);case 404:throw new dV(_.error.body,_.rawResponse);default:throw new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse})}return g8(_.error,_.rawResponse,"GET","/v1/session/redirect/experiments")}optimizationsRedirect(e,t){return mL.fromPromise(this.__optimizationsRedirect(e,t))}async __optimizationsRedirect(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{datasetId:h,optimizationId:m,workspaceName:g,path:f}=e,y=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),_=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/session/redirect/optimizations"),method:"GET",headers:y,queryParameters:{dataset_id:h,optimization_id:m,workspace_name:g,path:f,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(_.ok)return{data:void 0,rawResponse:_.rawResponse};if("status-code"===_.error.reason)switch(_.error.statusCode){case 400:throw new d$(_.error.body,_.rawResponse);case 404:throw new dV(_.error.body,_.rawResponse);default:throw new dL({statusCode:_.error.statusCode,body:_.error.body,rawResponse:_.rawResponse})}return g8(_.error,_.rawResponse,"GET","/v1/session/redirect/optimizations")}projectsRedirect(e,t){return mL.fromPromise(this.__projectsRedirect(e,t))}async __projectsRedirect(e,t){var r,o,n,i,a,s,l,u,p,d,c;let{traceId:h,workspaceName:m,path:g}=e,f=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),y=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/session/redirect/projects"),method:"GET",headers:f,queryParameters:{trace_id:h,workspace_name:m,path:g,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(y.ok)return{data:void 0,rawResponse:y.rawResponse};if("status-code"===y.error.reason)switch(y.error.statusCode){case 400:throw new d$(y.error.body,y.rawResponse);case 404:throw new dV(y.error.body,y.rawResponse);default:throw new dL({statusCode:y.error.statusCode,body:y.error.body,rawResponse:y.rawResponse})}return g8(y.error,y.rawResponse,"GET","/v1/session/redirect/projects")}},kw=class{constructor(e={}){this._options=g5(e)}getServiceToggles(e){return mL.fromPromise(this.__getServiceToggles(e))}async __getServiceToggles(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/toggles"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:EU.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/private/toggles")}},kD=class{constructor(e={}){this._options=g5(e)}addSpanComment(e,t,r){return mL.fromPromise(this.__addSpanComment(e,t,r))}async __addSpanComment(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/spans/${gX.encodePathParam(e)}/comments`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yc.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/spans/{id}/comments")}addSpanFeedbackScore(e,t,r){return mL.fromPromise(this.__addSpanFeedbackScore(e,t,r))}async __addSpanFeedbackScore(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/spans/${gX.encodePathParam(e)}/feedback-scores`),method:"PUT",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yy.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PUT","/v1/private/spans/{id}/feedback-scores")}createSpans(e,t){return mL.fromPromise(this.__createSpans(e,t))}async __createSpans(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans/batch"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:__.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/spans/batch")}batchUpdateSpans(e,t){return mL.fromPromise(this.__batchUpdateSpans(e,t))}async __batchUpdateSpans(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans/batch"),method:"PATCH",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_m.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PATCH","/v1/private/spans/batch")}getSpansByProject(e={},t){return mL.fromPromise(this.__getSpansByProject(e,t))}async __getSpansByProject(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,projectName:g,projectId:f,traceId:y,type:_,filters:v,truncate:b,stripAttachments:w,sorting:D,exclude:C,fromTime:E,toTime:k}=e,x={page:h,size:m,project_name:g,project_id:f,trace_id:y,type:null!=_?_x.jsonOrThrow(_,{unrecognizedObjectKeys:"strip",omitUndefined:!0}):void 0,filters:v,truncate:b,strip_attachments:w,sorting:D,exclude:C,from_time:null==E?void 0:E.toISOString(),to_time:null==k?void 0:k.toISOString()},T=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),S=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans"),method:"GET",headers:T,queryParameters:{...x,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(S.ok)return{data:Ez.parseOrThrow(S.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:S.rawResponse};if("status-code"===S.error.reason)throw new dL({statusCode:S.error.statusCode,body:S.error.body,rawResponse:S.rawResponse});return g8(S.error,S.rawResponse,"GET","/v1/private/spans")}createSpan(e,t){return mL.fromPromise(this.__createSpan(e,t))}async __createSpan(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_y.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 409===m.error.statusCode?new dz(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/spans")}getSpanById(e,t={},r){return mL.fromPromise(this.__getSpanById(e,t,r))}async __getSpanById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{stripAttachments:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/spans/${gX.encodePathParam(e)}`),method:"GET",headers:g,queryParameters:{strip_attachments:m,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:E$.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/spans/{id}")}deleteSpanById(e,t={},r){return mL.fromPromise(this.__deleteSpanById(e,t,r))}async __deleteSpanById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/spans/${gX.encodePathParam(e)}`),method:"DELETE",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw 501===g.error.statusCode?new dK(g.error.body,g.rawResponse):new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"DELETE","/v1/private/spans/{id}")}updateSpan(e,t,r){return mL.fromPromise(this.__updateSpan(e,t,r))}async __updateSpan(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/spans/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:_h.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/spans/{id}")}deleteSpanComments(e,t){return mL.fromPromise(this.__deleteSpanComments(e,t))}async __deleteSpanComments(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans/comments/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/spans/comments/delete")}deleteSpanFeedbackScore(e,t,r){return mL.fromPromise(this.__deleteSpanFeedbackScore(e,t,r))}async __deleteSpanFeedbackScore(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/spans/${gX.encodePathParam(e)}/feedback-scores/delete`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:DD.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/spans/{id}/feedback-scores/delete")}findFeedbackScoreNames1(e={},t){return mL.fromPromise(this.__findFeedbackScoreNames1(e,t))}async __findFeedbackScoreNames1(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h,type:m}=e,g={project_id:h,type:null!=m?_E.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}):void 0},f=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),y=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans/feedback-scores/names"),method:"GET",headers:f,queryParameters:{...g,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(y.ok)return{data:_w.findFeedbackScoreNames1.Response.parseOrThrow(y.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:y.rawResponse};if("status-code"===y.error.reason)throw new dL({statusCode:y.error.statusCode,body:y.error.body,rawResponse:y.rawResponse});return g8(y.error,y.rawResponse,"GET","/v1/private/spans/feedback-scores/names")}getSpanComment(e,t,r={},o){return mL.fromPromise(this.__getSpanComment(e,t,r,o))}async __getSpanComment(e,t,r={},o){var n,i,a,s,l,u,p,d,c,h,m;let g=mh(null==(n=this._options)?void 0:n.headers,mm({"Comet-Workspace":null!=(a=null==o?void 0:o.workspaceName)?a:null==(i=this._options)?void 0:i.workspaceName}),null==o?void 0:o.headers),f=await mU({url:gX.join(null!=(l=null!=(s=await mq(this._options.baseUrl))?s:await mq(this._options.environment))?l:g4,`v1/private/spans/${gX.encodePathParam(e)}/comments/${gX.encodePathParam(t)}`),method:"GET",headers:g,queryParameters:null==o?void 0:o.queryParams,timeoutMs:(null!=(d=null!=(p=null==o?void 0:o.timeoutInSeconds)?p:null==(u=this._options)?void 0:u.timeoutInSeconds)?d:60)*1e3,maxRetries:null!=(h=null==o?void 0:o.maxRetries)?h:null==(c=this._options)?void 0:c.maxRetries,withCredentials:!0,abortSignal:null==o?void 0:o.abortSignal,fetchFn:null==(m=this._options)?void 0:m.fetch,logging:this._options.logging});if(f.ok)return{data:yc.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/spans/{spanId}/comments/{commentId}")}getSpanStats(e={},t){return mL.fromPromise(this.__getSpanStats(e,t))}async __getSpanStats(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h,projectName:m,traceId:g,type:f,filters:y,fromTime:_,toTime:v}=e,b={project_id:h,project_name:m,trace_id:g,type:null!=f?_k.jsonOrThrow(f,{unrecognizedObjectKeys:"strip",omitUndefined:!0}):void 0,filters:y,from_time:null==_?void 0:_.toISOString(),to_time:null==v?void 0:v.toISOString()},w=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),D=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans/stats"),method:"GET",headers:w,queryParameters:{...b,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(D.ok)return{data:Eg.parseOrThrow(D.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:D.rawResponse};if("status-code"===D.error.reason)throw new dL({statusCode:D.error.statusCode,body:D.error.body,rawResponse:D.rawResponse});return g8(D.error,D.rawResponse,"GET","/v1/private/spans/stats")}scoreBatchOfSpans(e,t){return mL.fromPromise(this.__scoreBatchOfSpans(e,t))}async __scoreBatchOfSpans(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans/feedback-scores"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:Cd.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PUT","/v1/private/spans/feedback-scores")}searchSpans(e={},t){return mL.fromPromise(this.__searchSpans(e,t))}async __searchSpans(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/spans/search"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_b.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),responseType:"streaming",timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:m.body,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/spans/search")}updateSpanComment(e,t,r){return mL.fromPromise(this.__updateSpanComment(e,t,r))}async __updateSpanComment(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/spans/comments/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yc.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/spans/comments/{commentId}")}},kC=class{constructor(e={}){this._options=g5(e)}getDatasetBiInfo(e){return mL.fromPromise(this.__getDatasetBiInfo(e))}async __getDatasetBiInfo(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/internal/usage/bi-datasets"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:wt.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/internal/usage/bi-datasets")}getExperimentBiInfo(e){return mL.fromPromise(this.__getExperimentBiInfo(e))}async __getExperimentBiInfo(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/internal/usage/bi-experiments"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:wt.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/internal/usage/bi-experiments")}getSpansBiInfo(e){return mL.fromPromise(this.__getSpansBiInfo(e))}async __getSpansBiInfo(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/internal/usage/bi-spans"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:wt.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/internal/usage/bi-spans")}getSpansCountForWorkspaces(e){return mL.fromPromise(this.__getSpansCountForWorkspaces(e))}async __getSpansCountForWorkspaces(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/internal/usage/workspace-span-counts"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:EV.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/internal/usage/workspace-span-counts")}getTracesBiInfo(e){return mL.fromPromise(this.__getTracesBiInfo(e))}async __getTracesBiInfo(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/internal/usage/bi-traces"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:wt.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/internal/usage/bi-traces")}getTracesCountForWorkspaces(e){return mL.fromPromise(this.__getTracesCountForWorkspaces(e))}async __getTracesCountForWorkspaces(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/internal/usage/workspace-trace-counts"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:EZ.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/internal/usage/workspace-trace-counts")}},kE=class{constructor(e={}){this._options=g5(e)}addThreadComment(e,t,r){return mL.fromPromise(this.__addThreadComment(e,t,r))}async __addThreadComment(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/threads/${gX.encodePathParam(e)}/comments`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yc.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/traces/threads/{id}/comments")}addTraceComment(e,t,r){return mL.fromPromise(this.__addTraceComment(e,t,r))}async __addTraceComment(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/${gX.encodePathParam(e)}/comments`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yc.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/traces/{id}/comments")}addTraceFeedbackScore(e,t,r){return mL.fromPromise(this.__addTraceFeedbackScore(e,t,r))}async __addTraceFeedbackScore(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/${gX.encodePathParam(e)}/feedback-scores`),method:"PUT",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yy.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PUT","/v1/private/traces/{id}/feedback-scores")}createTraces(e,t){return mL.fromPromise(this.__createTraces(e,t))}async __createTraces(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/batch"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_A.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/batch")}batchUpdateTraces(e,t){return mL.fromPromise(this.__batchUpdateTraces(e,t))}async __batchUpdateTraces(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/batch"),method:"PATCH",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_O.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PATCH","/v1/private/traces/batch")}batchUpdateThreads(e,t){return mL.fromPromise(this.__batchUpdateThreads(e,t))}async __batchUpdateThreads(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/batch"),method:"PATCH",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_U.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PATCH","/v1/private/traces/threads/batch")}closeTraceThread(e={},t){return mL.fromPromise(this.__closeTraceThread(e,t))}async __closeTraceThread(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/close"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_B.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 404===m.error.statusCode?new dV(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PUT","/v1/private/traces/threads/close")}getTracesByProject(e={},t){return mL.fromPromise(this.__getTracesByProject(e,t))}async __getTracesByProject(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,projectName:g,projectId:f,filters:y,truncate:_,stripAttachments:v,sorting:b,exclude:w,fromTime:D,toTime:C}=e,E={page:h,size:m,project_name:g,project_id:f,filters:y,truncate:_,strip_attachments:v,sorting:b,exclude:w,from_time:null==D?void 0:D.toISOString(),to_time:null==C?void 0:C.toISOString()},k=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),x=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces"),method:"GET",headers:k,queryParameters:{...E,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(x.ok)return{data:EQ.parseOrThrow(x.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:x.rawResponse};if("status-code"===x.error.reason)throw new dL({statusCode:x.error.statusCode,body:x.error.body,rawResponse:x.rawResponse});return g8(x.error,x.rawResponse,"GET","/v1/private/traces")}createTrace(e,t){return mL.fromPromise(this.__createTrace(e,t))}async __createTrace(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_I.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces")}getTraceById(e,t={},r){return mL.fromPromise(this.__getTraceById(e,t,r))}async __getTraceById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let{stripAttachments:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/${gX.encodePathParam(e)}`),method:"GET",headers:g,queryParameters:{strip_attachments:m,...null==r?void 0:r.queryParams},timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:EY.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/traces/{id}")}deleteTraceById(e,t={},r){return mL.fromPromise(this.__deleteTraceById(e,t,r))}async __deleteTraceById(e,t={},r){var o,n,i,a,s,l,u,p,d,c,h;let m=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),g=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/${gX.encodePathParam(e)}`),method:"DELETE",headers:m,queryParameters:null==r?void 0:r.queryParams,timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(g.ok)return{data:void 0,rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"DELETE","/v1/private/traces/{id}")}updateTrace(e,t,r){return mL.fromPromise(this.__updateTrace(e,t,r))}async __updateTrace(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:_P.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/traces/{id}")}deleteThreadComments(e,t){return mL.fromPromise(this.__deleteThreadComments(e,t))}async __deleteThreadComments(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/comments/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/threads/comments/delete")}deleteThreadFeedbackScores(e,t){return mL.fromPromise(this.__deleteThreadFeedbackScores(e,t))}async __deleteThreadFeedbackScores(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/feedback-scores/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_T.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/threads/feedback-scores/delete")}deleteTraceComments(e,t){return mL.fromPromise(this.__deleteTraceComments(e,t))}async __deleteTraceComments(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/comments/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/comments/delete")}deleteTraceFeedbackScore(e,t,r){return mL.fromPromise(this.__deleteTraceFeedbackScore(e,t,r))}async __deleteTraceFeedbackScore(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/${gX.encodePathParam(e)}/feedback-scores/delete`),method:"POST",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:DD.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"POST","/v1/private/traces/{id}/feedback-scores/delete")}deleteTraceThreads(e,t){return mL.fromPromise(this.__deleteTraceThreads(e,t))}async __deleteTraceThreads(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_S.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/threads/delete")}deleteTraces(e,t){return mL.fromPromise(this.__deleteTraces(e,t))}async __deleteTraces(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/delete"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:b9.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/delete")}findFeedbackScoreNames2(e={},t){return mL.fromPromise(this.__findFeedbackScoreNames2(e,t))}async __findFeedbackScoreNames2(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h}=e,m=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),g=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/feedback-scores/names"),method:"GET",headers:m,queryParameters:{project_id:h,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(g.ok)return{data:_z.findFeedbackScoreNames2.Response.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/traces/feedback-scores/names")}findTraceThreadsFeedbackScoreNames(e={},t){return mL.fromPromise(this.__findTraceThreadsFeedbackScoreNames(e,t))}async __findTraceThreadsFeedbackScoreNames(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h}=e,m=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),g=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/feedback-scores/names"),method:"GET",headers:m,queryParameters:{project_id:h,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(g.ok)return{data:_z.findTraceThreadsFeedbackScoreNames.Response.parseOrThrow(g.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:g.rawResponse};if("status-code"===g.error.reason)throw new dL({statusCode:g.error.statusCode,body:g.error.body,rawResponse:g.rawResponse});return g8(g.error,g.rawResponse,"GET","/v1/private/traces/threads/feedback-scores/names")}getTraceStats(e={},t){return mL.fromPromise(this.__getTraceStats(e,t))}async __getTraceStats(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h,projectName:m,filters:g,fromTime:f,toTime:y}=e,_={project_id:h,project_name:m,filters:g,from_time:null==f?void 0:f.toISOString(),to_time:null==y?void 0:y.toISOString()},v=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),b=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/stats"),method:"GET",headers:v,queryParameters:{..._,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(b.ok)return{data:Eg.parseOrThrow(b.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:b.rawResponse};if("status-code"===b.error.reason)throw new dL({statusCode:b.error.statusCode,body:b.error.body,rawResponse:b.rawResponse});return g8(b.error,b.rawResponse,"GET","/v1/private/traces/stats")}getThreadComment(e,t,r={},o){return mL.fromPromise(this.__getThreadComment(e,t,r,o))}async __getThreadComment(e,t,r={},o){var n,i,a,s,l,u,p,d,c,h,m;let g=mh(null==(n=this._options)?void 0:n.headers,mm({"Comet-Workspace":null!=(a=null==o?void 0:o.workspaceName)?a:null==(i=this._options)?void 0:i.workspaceName}),null==o?void 0:o.headers),f=await mU({url:gX.join(null!=(l=null!=(s=await mq(this._options.baseUrl))?s:await mq(this._options.environment))?l:g4,`v1/private/traces/threads/${gX.encodePathParam(e)}/comments/${gX.encodePathParam(t)}`),method:"GET",headers:g,queryParameters:null==o?void 0:o.queryParams,timeoutMs:(null!=(d=null!=(p=null==o?void 0:o.timeoutInSeconds)?p:null==(u=this._options)?void 0:u.timeoutInSeconds)?d:60)*1e3,maxRetries:null!=(h=null==o?void 0:o.maxRetries)?h:null==(c=this._options)?void 0:c.maxRetries,withCredentials:!0,abortSignal:null==o?void 0:o.abortSignal,fetchFn:null==(m=this._options)?void 0:m.fetch,logging:this._options.logging});if(f.ok)return{data:yc.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/traces/threads/{threadId}/comments/{commentId}")}getTraceThreadStats(e={},t){return mL.fromPromise(this.__getTraceThreadStats(e,t))}async __getTraceThreadStats(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{projectId:h,projectName:m,filters:g,fromTime:f,toTime:y}=e,_={project_id:h,project_name:m,filters:g,from_time:null==f?void 0:f.toISOString(),to_time:null==y?void 0:y.toISOString()},v=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),b=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/stats"),method:"GET",headers:v,queryParameters:{..._,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(b.ok)return{data:Eg.parseOrThrow(b.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:b.rawResponse};if("status-code"===b.error.reason)throw new dL({statusCode:b.error.statusCode,body:b.error.body,rawResponse:b.rawResponse});return g8(b.error,b.rawResponse,"GET","/v1/private/traces/threads/stats")}getTraceComment(e,t,r={},o){return mL.fromPromise(this.__getTraceComment(e,t,r,o))}async __getTraceComment(e,t,r={},o){var n,i,a,s,l,u,p,d,c,h,m;let g=mh(null==(n=this._options)?void 0:n.headers,mm({"Comet-Workspace":null!=(a=null==o?void 0:o.workspaceName)?a:null==(i=this._options)?void 0:i.workspaceName}),null==o?void 0:o.headers),f=await mU({url:gX.join(null!=(l=null!=(s=await mq(this._options.baseUrl))?s:await mq(this._options.environment))?l:g4,`v1/private/traces/${gX.encodePathParam(e)}/comments/${gX.encodePathParam(t)}`),method:"GET",headers:g,queryParameters:null==o?void 0:o.queryParams,timeoutMs:(null!=(d=null!=(p=null==o?void 0:o.timeoutInSeconds)?p:null==(u=this._options)?void 0:u.timeoutInSeconds)?d:60)*1e3,maxRetries:null!=(h=null==o?void 0:o.maxRetries)?h:null==(c=this._options)?void 0:c.maxRetries,withCredentials:!0,abortSignal:null==o?void 0:o.abortSignal,fetchFn:null==(m=this._options)?void 0:m.fetch,logging:this._options.logging});if(f.ok)return{data:yc.parseOrThrow(f.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"GET","/v1/private/traces/{traceId}/comments/{commentId}")}getTraceThread(e,t){return mL.fromPromise(this.__getTraceThread(e,t))}async __getTraceThread(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/retrieve"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:E1.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:E0.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 404===m.error.statusCode?new dV(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/threads/retrieve")}getTraceThreads(e={},t){return mL.fromPromise(this.__getTraceThreads(e,t))}async __getTraceThreads(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let{page:h,size:m,projectName:g,projectId:f,truncate:y,stripAttachments:_,filters:v,sorting:b,fromTime:w,toTime:D}=e,C={page:h,size:m,project_name:g,project_id:f,truncate:y,strip_attachments:_,filters:v,sorting:b,from_time:null==w?void 0:w.toISOString(),to_time:null==D?void 0:D.toISOString()},E=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),k=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads"),method:"GET",headers:E,queryParameters:{...C,...null==t?void 0:t.queryParams},timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(k.ok)return{data:E2.parseOrThrow(k.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:k.rawResponse};if("status-code"===k.error.reason)throw new dL({statusCode:k.error.statusCode,body:k.error.body,rawResponse:k.rawResponse});return g8(k.error,k.rawResponse,"GET","/v1/private/traces/threads")}openTraceThread(e,t){return mL.fromPromise(this.__openTraceThread(e,t))}async __openTraceThread(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/open"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:E1.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PUT","/v1/private/traces/threads/open")}scoreBatchOfThreads(e,t){return mL.fromPromise(this.__scoreBatchOfThreads(e,t))}async __scoreBatchOfThreads(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/feedback-scores"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_F.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PUT","/v1/private/traces/threads/feedback-scores")}scoreBatchOfTraces(e,t){return mL.fromPromise(this.__scoreBatchOfTraces(e,t))}async __scoreBatchOfTraces(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/feedback-scores"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:Cd.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"PUT","/v1/private/traces/feedback-scores")}searchTraceThreads(e={},t){return mL.fromPromise(this.__searchTraceThreads(e,t))}async __searchTraceThreads(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/threads/search"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_$.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),responseType:"streaming",timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:m.body,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/traces/threads/search")}searchTraces(e={},t){return mL.fromPromise(this.__searchTraces(e,t))}async __searchTraces(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/traces/search"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_N.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),responseType:"streaming",timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:m.body,rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 401:throw new dG(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"POST","/v1/private/traces/search")}updateThread(e,t,r){return mL.fromPromise(this.__updateThread(e,t,r))}async __updateThread(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/threads/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:_M.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/traces/threads/{threadModelId}")}updateThreadComment(e,t,r){return mL.fromPromise(this.__updateThreadComment(e,t,r))}async __updateThreadComment(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/threads/comments/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yc.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/traces/threads/comments/{commentId}")}updateTraceComment(e,t,r){return mL.fromPromise(this.__updateTraceComment(e,t,r))}async __updateTraceComment(e,t,r){var o,n,i,a,s,l,u,p,d,c,h;let{body:m}=t,g=mh(null==(o=this._options)?void 0:o.headers,mm({"Comet-Workspace":null!=(i=null==r?void 0:r.workspaceName)?i:null==(n=this._options)?void 0:n.workspaceName}),null==r?void 0:r.headers),f=await mU({url:gX.join(null!=(s=null!=(a=await mq(this._options.baseUrl))?a:await mq(this._options.environment))?s:g4,`v1/private/traces/comments/${gX.encodePathParam(e)}`),method:"PATCH",headers:g,contentType:"application/json",queryParameters:null==r?void 0:r.queryParams,requestType:"json",body:yc.jsonOrThrow(m,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(p=null!=(u=null==r?void 0:r.timeoutInSeconds)?u:null==(l=this._options)?void 0:l.timeoutInSeconds)?p:60)*1e3,maxRetries:null!=(c=null==r?void 0:r.maxRetries)?c:null==(d=this._options)?void 0:d.maxRetries,withCredentials:!0,abortSignal:null==r?void 0:r.abortSignal,fetchFn:null==(h=this._options)?void 0:h.fetch,logging:this._options.logging});if(f.ok)return{data:void 0,rawResponse:f.rawResponse};if("status-code"===f.error.reason)throw 404===f.error.statusCode?new dV(f.error.body,f.rawResponse):new dL({statusCode:f.error.statusCode,body:f.error.body,rawResponse:f.rawResponse});return g8(f.error,f.rawResponse,"PATCH","/v1/private/traces/comments/{commentId}")}},kk=class{constructor(e={}){this._options=g5(e)}getWelcomeWizardStatus(e){return mL.fromPromise(this.__getWelcomeWizardStatus(e))}async __getWelcomeWizardStatus(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/welcome-wizard"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:E4.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/private/welcome-wizard")}submitWelcomeWizard(e={},t){return mL.fromPromise(this.__submitWelcomeWizard(e,t))}async __submitWelcomeWizard(e={},t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/welcome-wizard"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:_H.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:void 0,rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/welcome-wizard")}},kx=class{constructor(e={}){this._options=g5(e)}costsSummary(e,t){return mL.fromPromise(this.__costsSummary(e,t))}async __costsSummary(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/workspaces/costs/summaries"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:ke.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:EM.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/workspaces/costs/summaries")}getWorkspaceConfiguration(e){return mL.fromPromise(this.__getWorkspaceConfiguration(e))}async __getWorkspaceConfiguration(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/workspaces/configurations"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:E8.parseOrThrow(h.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw 404===h.error.statusCode?new dV(h.error.body,h.rawResponse):new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/v1/private/workspaces/configurations")}upsertWorkspaceConfiguration(e,t){return mL.fromPromise(this.__upsertWorkspaceConfiguration(e,t))}async __upsertWorkspaceConfiguration(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/workspaces/configurations"),method:"PUT",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:E8.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:E8.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)switch(m.error.statusCode){case 400:throw new d$(m.error.body,m.rawResponse);case 422:throw new dH(m.error.body,m.rawResponse);default:throw new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse})}return g8(m.error,m.rawResponse,"PUT","/v1/private/workspaces/configurations")}deleteWorkspaceConfiguration(e){return mL.fromPromise(this.__deleteWorkspaceConfiguration(e))}async __deleteWorkspaceConfiguration(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"v1/private/workspaces/configurations"),method:"DELETE",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:void 0,rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw 404===h.error.statusCode?new dV(h.error.body,h.rawResponse):new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"DELETE","/v1/private/workspaces/configurations")}getCost(e,t){return mL.fromPromise(this.__getCost(e,t))}async __getCost(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/workspaces/costs"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:ke.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:E7.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/workspaces/costs")}getMetric(e,t){return mL.fromPromise(this.__getMetric(e,t))}async __getMetric(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/workspaces/metrics"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:ke.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:E7.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/workspaces/metrics")}metricsSummary(e,t){return mL.fromPromise(this.__metricsSummary(e,t))}async __metricsSummary(e,t){var r,o,n,i,a,s,l,u,p,d,c;let h=mh(null==(r=this._options)?void 0:r.headers,mm({"Comet-Workspace":null!=(n=null==t?void 0:t.workspaceName)?n:null==(o=this._options)?void 0:o.workspaceName}),null==t?void 0:t.headers),m=await mU({url:gX.join(null!=(a=null!=(i=await mq(this._options.baseUrl))?i:await mq(this._options.environment))?a:g4,"v1/private/workspaces/metrics/summaries"),method:"POST",headers:h,contentType:"application/json",queryParameters:null==t?void 0:t.queryParams,requestType:"json",body:ke.jsonOrThrow(e,{unrecognizedObjectKeys:"strip",omitUndefined:!0}),timeoutMs:(null!=(u=null!=(l=null==t?void 0:t.timeoutInSeconds)?l:null==(s=this._options)?void 0:s.timeoutInSeconds)?u:60)*1e3,maxRetries:null!=(d=null==t?void 0:t.maxRetries)?d:null==(p=this._options)?void 0:p.maxRetries,withCredentials:!0,abortSignal:null==t?void 0:t.abortSignal,fetchFn:null==(c=this._options)?void 0:c.fetch,logging:this._options.logging});if(m.ok)return{data:kt.parseOrThrow(m.body,{unrecognizedObjectKeys:"passthrough",allowUnrecognizedUnionMembers:!0,allowUnrecognizedEnumValues:!0,skipValidation:!0,breadcrumbsPrefix:["response"]}),rawResponse:m.rawResponse};if("status-code"===m.error.reason)throw 400===m.error.statusCode?new d$(m.error.body,m.rawResponse):new dL({statusCode:m.error.statusCode,body:m.error.body,rawResponse:m.rawResponse});return g8(m.error,m.rawResponse,"POST","/v1/private/workspaces/metrics/summaries")}},kT=class{constructor(e={}){this._options=g5(e)}get systemUsage(){var e;return null!=(e=this._systemUsage)?e:this._systemUsage=new kC(this._options)}get alerts(){var e;return null!=(e=this._alerts)?e:this._alerts=new ko(this._options)}get annotationQueues(){var e;return null!=(e=this._annotationQueues)?e:this._annotationQueues=new kn(this._options)}get attachments(){var e;return null!=(e=this._attachments)?e:this._attachments=new ki(this._options)}get check(){var e;return null!=(e=this._check)?e:this._check=new kl(this._options)}get automationRuleEvaluators(){var e;return null!=(e=this._automationRuleEvaluators)?e:this._automationRuleEvaluators=new ka(this._options)}get chatCompletions(){var e;return null!=(e=this._chatCompletions)?e:this._chatCompletions=new ks(this._options)}get dashboards(){var e;return null!=(e=this._dashboards)?e:this._dashboards=new ku(this._options)}get datasets(){var e;return null!=(e=this._datasets)?e:this._datasets=new kp(this._options)}get experiments(){var e;return null!=(e=this._experiments)?e:this._experiments=new kd(this._options)}get feedbackDefinitions(){var e;return null!=(e=this._feedbackDefinitions)?e:this._feedbackDefinitions=new kc(this._options)}get guardrails(){var e;return null!=(e=this._guardrails)?e:this._guardrails=new kh(this._options)}get llmProviderKey(){var e;return null!=(e=this._llmProviderKey)?e:this._llmProviderKey=new km(this._options)}get manualEvaluation(){var e;return null!=(e=this._manualEvaluation)?e:this._manualEvaluation=new kg(this._options)}get openTelemetryIngestion(){var e;return null!=(e=this._openTelemetryIngestion)?e:this._openTelemetryIngestion=new kf(this._options)}get optimizations(){var e;return null!=(e=this._optimizations)?e:this._optimizations=new ky(this._options)}get projects(){var e;return null!=(e=this._projects)?e:this._projects=new k_(this._options)}get prompts(){var e;return null!=(e=this._prompts)?e:this._prompts=new kv(this._options)}get serviceToggles(){var e;return null!=(e=this._serviceToggles)?e:this._serviceToggles=new kw(this._options)}get spans(){var e;return null!=(e=this._spans)?e:this._spans=new kD(this._options)}get traces(){var e;return null!=(e=this._traces)?e:this._traces=new kE(this._options)}get welcomeWizard(){var e;return null!=(e=this._welcomeWizard)?e:this._welcomeWizard=new kk(this._options)}get workspaces(){var e;return null!=(e=this._workspaces)?e:this._workspaces=new kx(this._options)}get redirect(){var e;return null!=(e=this._redirect)?e:this._redirect=new kb(this._options)}isAlive(e){return mL.fromPromise(this.__isAlive(e))}async __isAlive(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"is-alive/ping"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:h.body,rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/is-alive/ping")}version(e){return mL.fromPromise(this.__version(e))}async __version(e){var t,r,o,n,i,a,s,l,u,p,d;let c=mh(null==(t=this._options)?void 0:t.headers,mm({"Comet-Workspace":null!=(o=null==e?void 0:e.workspaceName)?o:null==(r=this._options)?void 0:r.workspaceName}),null==e?void 0:e.headers),h=await mU({url:gX.join(null!=(i=null!=(n=await mq(this._options.baseUrl))?n:await mq(this._options.environment))?i:g4,"is-alive/ver"),method:"GET",headers:c,queryParameters:null==e?void 0:e.queryParams,timeoutMs:(null!=(l=null!=(s=null==e?void 0:e.timeoutInSeconds)?s:null==(a=this._options)?void 0:a.timeoutInSeconds)?l:60)*1e3,maxRetries:null!=(p=null==e?void 0:e.maxRetries)?p:null==(u=this._options)?void 0:u.maxRetries,withCredentials:!0,abortSignal:null==e?void 0:e.abortSignal,fetchFn:null==(d=this._options)?void 0:d.fetch,logging:this._options.logging});if(h.ok)return{data:h.body,rawResponse:h.rawResponse};if("status-code"===h.error.reason)throw new dL({statusCode:h.error.statusCode,body:h.error.body,rawResponse:h.rawResponse});return g8(h.error,h.rawResponse,"GET","/is-alive/ver")}};(s=em||(em={})).LogLevel=mf,s.ConsoleLogger=m_;var kS=class{static serializePromptToInfoDict(e){return{name:e.name,...e.id&&{id:e.id},version:{...e.versionId&&{id:e.versionId},...e.commit&&{commit:e.commit},template:e.prompt}}}static normalizeMetadata(e){if(!e)return{};if("object"==typeof e&&!Array.isArray(e))return e;if("string"==typeof e)try{let t=JSON.parse(e);if("object"==typeof t&&!Array.isArray(t))return t}catch{}return{}}static mergePromptsIntoMetadata(e,t,r){let o=r.map(e=>this.serializePromptToInfoDict(e)),n=this.normalizeMetadata(e),i=this.normalizeMetadata(t);return{...n,...i,opik_prompts:o}}static processTraceUpdate(e,t){let{prompts:r,...o}=e;if(!r||0===r.length)return o;let n=this.mergePromptsIntoMetadata(t,o.metadata,r);return{...o,metadata:n}}static processSpanUpdate(e,t){let{prompts:r,...o}=e;if(!r||0===r.length)return o;let n=this.mergePromptsIntoMetadata(t,o.metadata,r);return{...o,metadata:n}}},kR=class e{constructor(t,r){this.data=t,this.opik=r,this.childSpans=[],this.end=()=>this.update({endTime:new Date}),this.score=e=>{var t;this.opik.spanFeedbackScoresBatchQueue.create({...e,projectName:null!=(t=this.data.projectName)?t:this.opik.config.projectName,id:this.data.id,source:"sdk"})},this.update=e=>{var t;let r=kS.processSpanUpdate(e,this.data.metadata),o={parentSpanId:this.data.parentSpanId,projectName:null!=(t=this.data.projectName)?t:this.opik.config.projectName,traceId:this.data.traceId,...r};return this.opik.spanBatchQueue.update(this.data.id,o),this.data={...this.data,...e},this},this.span=t=>{var r;let o=null!=(r=this.data.projectName)?r:this.opik.config.projectName,n={id:tt(),startTime:new Date,...t,projectName:o,traceId:this.data.traceId,parentSpanId:this.data.id};this.opik.spanBatchQueue.create(n);let i=new e(n,this.opik);return this.childSpans.push(i),i}}},kj=class{constructor(e,t){this.data=e,this.opik=t,this.spans=[],this.end=()=>this.update({endTime:new Date}),this.score=e=>{var t;this.opik.traceFeedbackScoresBatchQueue.create({...e,projectName:null!=(t=this.data.projectName)?t:this.opik.config.projectName,id:this.data.id,source:"sdk"})},this.span=e=>{var t,r;let o=null!=(r=null!=(t=this.data.projectName)?t:e.projectName)?r:this.opik.config.projectName,n={id:tt(),startTime:new Date,...e,projectName:o,traceId:this.data.id};this.opik.spanBatchQueue.create(n);let i=new kR(n,this.opik);return this.spans.push(i),i},this.update=e=>{var t;let r=kS.processTraceUpdate(e,this.data.metadata),o={projectName:null!=(t=this.data.projectName)?t:this.opik.config.projectName,...r};return this.opik.traceBatchQueue.update(this.data.id,o),this.data={...this.data,...o},this}}},kF=(e,t,r)=>{let o=Object.entries(r).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&").replace(/%3A/g,":").replace(/%2F/g,"/").replace(/%26/g,"&").replace(/%3F/g,"?").replace(/%3D/g,"=");return new URL(`${t}?${o}`,e).toString()},kP=class{constructor({action:e,batchSize:t=100,delay:r,enableBatch:o,name:n="ActionQueue"}){this.timerId=null,this.promise=Promise.resolve(),this.queue=new Map,this.debounceFlush=()=>{this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(()=>this.flush(),this.delay)},this.add=(e,t)=>{(this.queue.set(e,t),!this.enableBatch||this.queue.size>=this.batchSize)?this.flush():this.debounceFlush()},this.update=(e,t)=>{let r=this.queue.get(e);r&&(this.queue.set(e,{...r,...t}),this.debounceFlush())},this.flush=async()=>{if(0===this.queue.size)return this.promise;let e=new Map(this.queue);this.queue.clear(),dN.debug(`Adding ${e.size} items to ${this.name} promise:`,e),this.promise=this.promise.finally(()=>(dN.debug(`Flushing ${this.name}:`,e),this.action(e))).catch(t=>{dN.error(`Failed to flush ${this.name}:`,t,e)}),await this.promise},this.action=e,this.batchSize=t,this.delay=r,this.enableBatch=o,this.name=n}},kO=class{constructor({delay:e=300,enableCreateBatch:t=!0,enableUpdateBatch:r=!1,enableDeleteBatch:o=!0,createBatchSize:n=100,updateBatchSize:i=100,deleteBatchSize:a=100,name:s="BatchQueue"}={}){this.create=e=>{let t=this.getId(e);this.createQueue.add(t,e)},this.get=async e=>this.createQueue.queue.get(e)||this.getEntity(e),this.update=(e,t)=>{this.createQueue.queue.get(e)?this.createQueue.update(e,t):this.updateQueue.add(e,t)},this.delete=e=>{this.createQueue.queue.has(e)?this.createQueue.queue.delete(e):this.deleteQueue.add(e)},this.flush=async()=>{await this.createQueue.flush(),await this.updateQueue.flush(),await this.deleteQueue.flush()},this.name=s,this.createQueue=new kP({action:async e=>{await this.createEntities(Array.from(e.values()))},delay:e,enableBatch:t,batchSize:n,name:`${s}:createQueue`}),this.updateQueue=new kP({action:async e=>{for(let[t,r]of(await this.createQueue.flush(),Array.from(e.entries())))await this.updateEntity(t,r)},delay:e,enableBatch:r,batchSize:i,name:`${s}:updateQueue`}),this.deleteQueue=new kP({action:async e=>{await this.createQueue.flush(),await this.updateQueue.flush(),await this.deleteEntities(Array.from(e.keys()))},delay:e,enableBatch:o,batchSize:a,name:`${s}:deleteQueue`})}},kI=class extends kO{constructor(e,t){super({delay:t,enableCreateBatch:!0,enableUpdateBatch:!0,enableDeleteBatch:!0,name:"SpanBatchQueue"}),this.api=e}getId(e){return e.id}async createEntities(e){await this.api.spans.createSpans({spans:e},this.api.requestOptions)}async getEntity(e){return await this.api.spans.getSpanById(e,{},this.api.requestOptions)}async updateEntity(e,t){await this.api.spans.updateSpan(e,{body:t},this.api.requestOptions)}async deleteEntities(e){for(let t of e)await this.api.spans.deleteSpanById(t,this.api.requestOptions)}},kA=class extends kO{constructor(e,t){super({delay:t,enableCreateBatch:!0,enableUpdateBatch:!0,enableDeleteBatch:!0,name:"SpanFeedbackScoresBatchQueue"}),this.api=e}getId(e){return{id:e.id,name:e.name}}async createEntities(e){await this.api.spans.scoreBatchOfSpans({scores:e},this.api.requestOptions)}async getEntity(){throw Error("Not implemented")}async updateEntity(){throw Error("Not implemented")}async deleteEntities(e){for(let t of e)await this.api.spans.deleteSpanFeedbackScore(t.id,{body:{name:t.name}},this.api.requestOptions)}},kN=class extends kO{constructor(e,t){super({delay:t,enableCreateBatch:!0,enableUpdateBatch:!0,enableDeleteBatch:!0,name:"TraceBatchQueue"}),this.api=e}getId(e){return e.id}async createEntities(e){await this.api.traces.createTraces({traces:e},this.api.requestOptions)}async getEntity(e){return await this.api.traces.getTraceById(e,{},this.api.requestOptions)}async updateEntity(e,t){await this.api.traces.updateTrace(e,{body:t},this.api.requestOptions)}async deleteEntities(e){await this.api.traces.deleteTraces({ids:e},this.api.requestOptions)}},kB=class extends kO{constructor(e,t){super({delay:t,enableCreateBatch:!0,enableUpdateBatch:!0,enableDeleteBatch:!0,name:"TraceFeedbackScoresBatchQueue"}),this.api=e}getId(e){return{id:e.id,name:e.name}}async createEntities(e){await this.api.traces.scoreBatchOfTraces({scores:e},this.api.requestOptions)}async getEntity(){throw Error("Not implemented")}async updateEntity(){throw Error("Not implemented")}async deleteEntities(e){for(let t of e)await this.api.traces.deleteTraceFeedbackScore(t.id,{body:{name:t.name}},this.api.requestOptions)}},kM=class extends kT{constructor(e){super(e),this.setHeaders=e=>{this.requestOptions.headers=e},this.requestOptions=(null==e?void 0:e.requestOptions)||{}}},kU=class extends kO{constructor(e,t){super({delay:t,enableCreateBatch:!0,enableUpdateBatch:!0,enableDeleteBatch:!0,name:"DatasetBatchQueue"}),this.api=e}getId(e){return e.id||""}async createEntities(e){for(let t of e)await this.api.datasets.createDataset(t,this.api.requestOptions)}async getEntity(e){try{return await this.api.datasets.getDatasetById(e,this.api.requestOptions)}catch{return}}async updateEntity(e,t){await this.api.datasets.updateDataset(e,{name:t.name||"",visibility:t.visibility,description:t.description},this.api.requestOptions)}async deleteEntities(e){await this.api.datasets.deleteDatasetsBatch({ids:e},this.api.requestOptions)}},kL=null;async function kq(){return kL||(kL=await tn()),kL}var k$=class e{constructor(e){let{id:t,traceId:r,spanId:o,source:n,...i}=e;this.id=t||tt(),this.traceId=r,this.spanId=o,this.source=n||c7.Sdk,this.data={...i}}getContent(e=!1){return e?{...this.data,id:this.id}:{...this.data}}async contentHash(){let e=this.getContent(),t=(0,tr.default)(e);return(await kq()).h32(t,43981).toString(16)}toApiModel(){return{id:this.id,traceId:this.traceId,spanId:this.spanId,source:this.source,data:this.getContent()}}static fromApiModel(t){return new e({id:t.id,traceId:t.traceId,spanId:t.spanId,source:t.source,...t.data})}};async function kz(e,t,r){var o;if(0===r)return[];let n=new ti.TextDecoder("utf-8"),i=[],a="",s=e.getReader();try{for(;;){let{done:e,value:l}=await s.read();if(e)break;let u=(a+=n.decode(l,{stream:!0})).split(`
`);for(let e of(a=null!=(o=u.pop())?o:"",u))if(!(!e.trim()||"{}"===e||"[]"===e||"null"===e))try{let o=JSON.parse(e),n=t.parse(o);if(n.ok){if(i.push(n.value),void 0!==r&&i.length>=r)return s.releaseLock(),i}else dN.error("Error parsing experiment item:",n.errors)}catch(e){dN.error("Error parsing JSON line:",e instanceof Error?e.message:String(e))}}if(a.trim()&&"{}"!==a&&"[]"!==a&&"null"!==a)try{let e=JSON.parse(a),r=t.parse(e);r.ok?i.push(r.value):dN.error("Error parsing experiment item:",r.errors)}catch(e){dN.error("Error parsing remaining buffer:",e instanceof Error?e.message:String(e))}}catch(e){dN.error("Error processing stream:",e instanceof Error?e.message:String(e))}finally{s.releaseLock()}return i}function kW(e,t){let r=[];for(let o=0;o<e.length;o+=t.maxBatchSize)r.push(e.slice(o,o+t.maxBatchSize));return r}var kV=class extends Error{constructor(e){var t;super(e.message),this.name=this.constructor.name,this.code=e.code,this.statusCode=e.statusCode,this.details=e.details,this.originalError=e.originalError,dN.error(this.message),null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}toJSON(){return{name:this.name,message:this.message,code:this.code,statusCode:this.statusCode,details:this.details,originalError:this.originalError,stack:this.stack}}},kK=class extends kV{constructor(e){let t;super({message:(t=e,`Item at index ${t} is missing an ID required for update`),code:"DATASET_ITEM_MISSING_ID"})}},kG=class extends kV{constructor(e){super({message:e,code:"SEARCH_TIMEOUT"})}},kH=class extends kV{constructor(e){super({message:"Failed to parse JSON input",code:"JSON_PARSE_ERROR",originalError:e instanceof Error?e:Error(String(e))})}},kZ=class extends kV{constructor(e){super({message:(e=>`JSON input must be an array of objects${e?` (${e})`:""}`)(e),code:"JSON_NOT_ARRAY"})}},kJ=class extends kV{constructor(e,t){let r,o;super({message:(r=e,o=t,`Item at position ${r} is not an object (${o})`),code:"JSON_ITEM_NOT_OBJECT"})}},kY=class{constructor({name:e,description:t,id:r},o){this.opik=o,this.idToHash=new Map,this.hashes=new Set,this.id=r||tt(),this.name=e,this.description=t}async insert(e){if(!e||0===e.length)return;await this.opik.datasetBatchQueue.flush(),await this.syncHashes();let t=await this.getDeduplicatedItems(e),r=kW(t,{maxBatchSize:1e3}),o=tt();try{let e=0;for(let n of r)await this.opik.api.datasets.createOrUpdateDatasetItems({datasetId:this.id,items:n,batchGroupId:o}),e+=n.length,dN.info(`Inserted ${Math.min(e,t.length)} of ${t.length} items into dataset ${this.id}`)}catch(e){throw dN.error(`Error inserting items into dataset: ${e instanceof Error?e.message:String(e)}`),e}}async update(e){if(!(!e||0===e.length)){for(let t=0;t<e.length;t++)if(!e[t].id)throw new kK(t);await this.insert(e)}}async delete(e){if(!e||0===e.length)return void dN.info("No item IDs provided for deletion");let t=kW(e,{maxBatchSize:100}),r=tt();for await(let e of t)for(let t of(dN.debug("Deleting dataset items batch",{batchSize:e.length,datasetId:this.id}),await this.opik.api.datasets.deleteDatasetItems({itemIds:e,batchGroupId:r}),e))if(this.idToHash.has(t)){let e=this.idToHash.get(t);this.hashes.delete(e),this.idToHash.delete(t)}}async clear(){let e=(await this.getItems()).map(e=>e.id).filter(Boolean);0!==e.length&&await this.delete(e)}async getItems(e,t){return(await this.getItemsAsDataclasses(e,t)).map(e=>e.getContent(!0))}async getItemsAsDataclasses(e,t){let r=e?Math.min(e,2e3):2e3,o=await this.opik.api.datasets.streamDatasetItems({datasetName:this.name,lastRetrievedId:t,steamLimit:r});return(await kz(o,g9.DatasetItemPublic,e)).map(e=>k$.fromApiModel(e))}async insertFromJson(e,t={},r=[]){let o;try{o=JSON.parse(e)}catch(e){throw new kH(e)}if(!Array.isArray(o))throw new kZ(typeof o);if(0===o.length)return;for(let e=0;e<o.length;e++){let t=o[e];if("object"!=typeof t||null===t)throw new kJ(e,typeof t)}let n=o.map(e=>{let o={};for(let[n,i]of Object.entries(e))r.includes(n)||(o[t[n]||n]=i);return o});await this.insert(n)}async toJson(e={}){let t=(await this.getItems()).map(t=>{let r={...t};if(Object.keys(e).length>0){for(let[t,o]of Object.entries(e))if(t in r){let e=r[t];delete r[t],r[o]=e}}return r});return(0,tr.default)(t)}async getDeduplicatedItems(e){let t=[];for(let r of e){let e=new k$(r),o=await e.contentHash();if(this.hashes.has(o)){dN.debug("Duplicate item found - skipping",{contentHash:o,datasetId:this.id});continue}t.push(e.toApiModel()),this.hashes.add(o),this.idToHash.set(e.id,o)}return t}clearHashState(){this.idToHash.clear(),this.hashes.clear()}async syncHashes(){dN.debug("Syncing dataset hashes with backend",{datasetId:this.id});try{let e=await this.getItemsAsDataclasses();for(let t of(this.clearHashState(),e)){let e=await t.contentHash();this.idToHash.set(t.id,e),this.hashes.add(e)}dN.debug("Dataset hash sync completed",{datasetId:this.id,itemCount:e.length})}catch(e){if(e instanceof dL&&404===e.statusCode){dN.debug("Dataset not found - starting with empty hash state",{datasetId:this.id}),this.clearHashState();return}throw e}}},kQ=class extends Error{constructor(e){super(e),this.name="DatasetError"}},kX=class extends kQ{constructor(e){super(`Dataset with name '${e}' not found`),this.name="DatasetNotFoundError"}},k0=class{constructor(e){if(!e.datasetItemId)throw Error("datasetItemId is required");if(!e.traceId)throw Error("traceId is required");this.datasetItemId=e.datasetItemId,this.traceId=e.traceId}},k1=class e{constructor(e){this.id=e.id,this.datasetItemId=e.datasetItemId,this.traceId=e.traceId,this.datasetItemData=e.datasetItemData,this.evaluationTaskOutput=e.evaluationTaskOutput,this.feedbackScores=[...e.feedbackScores]}static fromRestExperimentItemCompare(t){var r,o;let n=null!=(o=null==(r=t.feedbackScores)?void 0:r.map(e=>({categoryName:e.categoryName,name:e.name,reason:e.reason,value:e.value,source:e.source})))?o:[];return new e({id:t.id,traceId:t.traceId,datasetItemId:t.datasetItemId,datasetItemData:t.input,evaluationTaskOutput:t.output,feedbackScores:n})}},k2=class{constructor({id:e,name:t,datasetName:r,prompts:o},n){this.opik=n,this.id=e||tt(),this._name=t,this.datasetName=r,this.prompts=o}get name(){return this._name}async ensureNameLoaded(){if(void 0!==this._name)return this._name;let e=await this.opik.api.experiments.getExperimentById(this.id);if(this._name=e.name,!this._name)throw Error("Experiment name is not loaded");return this._name}async insert(e){if(0===e.length)return;let t=kW(e.map(e=>({id:tt(),experimentId:this.id,datasetItemId:e.datasetItemId,traceId:e.traceId})),{maxBatchSize:50});try{for(let e of t)await this.opik.api.experiments.createExperimentItems({experimentItems:e});dN.debug(`Inserted ${e.length} items into experiment ${this.id}`)}catch(e){throw dN.error(`Error inserting items into experiment: ${e instanceof Error?e.message:String(e)}`),e}}async getItems(e){let t=[],{maxResults:r,truncate:o=!1}=e||{},n,i=!0;try{for(;i&&!(void 0!==r&&t.length>=r);){let e=r?Math.min(r-t.length,2e3):2e3,a=await this.opik.api.experiments.streamExperimentItems({experimentName:this.name,limit:e,lastRetrievedId:n,truncate:o});try{let o=await kz(a,g9.ExperimentItemCompare,e);if(0===o.length){i=!1;break}for(let e of o){let o=k1.fromRestExperimentItemCompare(e);if(t.push(o),void 0!==r&&t.length>=r){i=!1;break}}n=o[o.length-1].id}catch(e){dN.error("Error parsing experiment item: "+(e instanceof Error?e.message:String(e))),i=!1;break}}}catch(e){throw dN.error("Error retrieving experiment items: "+(e instanceof Error?e.message:String(e))),e}return dN.info(`Retrieved ${t.length} items${r?` (limited by maxResults=${r})`:""}`),t}async getUrl(){let e=await this.opik.getDataset(this.datasetName),t=this.opik.config.apiUrl||dB.apiUrl;return(({datasetId:e,experimentId:t,baseUrl:r})=>kF(r,"api/v1/session/redirect/experiments/",{experiment_id:t,dataset_id:e,path:Buffer.from(r).toString("base64")}))({datasetId:e.id,experimentId:this.id,baseUrl:t})}},k3=class extends kV{constructor(e){let t;super({message:(t=e,`Experiment with name '${t}' not found`),code:"EXPERIMENT_NOT_FOUND"})}},k6=class e extends kV{constructor(e,t){super({message:e,code:t})}static invalidConfigType(t){let r;return new e((r=t,`experimentConfig must be a plain object, but ${r} was provided. Please provide a valid configuration object like { model: 'gpt-4', temperature: 0.7 }`),"INVALID_CONFIG_TYPE")}static promptsConflict(){return new e(`Cannot specify both 'prompts' parameter and 'experimentConfig.prompts'. Choose one approach:
  1. Use prompts parameter: buildMetadataAndPromptVersions(config, [prompt1, prompt2])
  2. Use config only: buildMetadataAndPromptVersions({ ...config, prompts: {...} })

The prompts parameter is recommended for prompt version tracking.`,"CONFIG_PROMPTS_CONFLICT")}},k5="mustache",k4="text",k8="chat",k9=class e extends Error{constructor(t){super(t),this.name="PromptValidationError",Object.setPrototypeOf(this,e.prototype)}},k7=class e extends Error{constructor(t,r,o){super(`Prompt '${t}' has template_structure='${r}' but attempted to access as '${o}'. Template structure is immutable after creation.`),this.name="PromptTemplateStructureMismatch",this.promptName=t,this.existingStructure=r,this.attemptedStructure=o,Object.setPrototypeOf(this,e.prototype)}};function xe(e,t,r){try{switch(function(e,t,r){if("mustache"!==r)return;let o=function(e){try{let t=tD.parse(e).filter(e=>{let t=e[0];return"name"===t||"#"===t||"&"===t||"^"===t}).map(e=>e[1].split(".")[0]);return new Set(t)}catch(e){throw new k9(`Invalid Mustache template syntax: ${e instanceof Error?e.message:String(e)}`)}}(e),n=new Set(Object.keys(t)),i=new Set([...o].filter(e=>!n.has(e)));if(i.size>0){let e=[];throw e.push(`Missing required variables: ${[...i].join(", ")}`),e.push(`Template placeholders: {${[...o].join(", ")}}`),e.push(`Provided variables: {${[...n].join(", ")}}`),new k9(`Template variables validation failed:
${e.join(`
`)}`)}}(e,t,r),r){case"mustache":return tD.render(e,t,{},{escape:e=>e});case"jinja2":return tE.default.renderString(e,t);default:return e}}catch(t){if(t instanceof k9)throw t;let e=t instanceof Error?t.message:String(t);throw new k9(`Failed to format prompt template: ${e}`)}}function xt(e,t,r,o=4){let n=Object.keys(e).filter(e=>!t.includes(e));if(n.length>0)for(let t of n.sort()){let n=e[t];r.push(`${" ".repeat(o)}${t}: ${xo(n)}`)}}function xr(e,t,r,o=4){let n=Object.keys(e).filter(e=>!t.includes(e));if(n.length>0)for(let t of n.sort()){let n=e[t];r.push(`${" ".repeat(o)}${t}: ${xo(n)}`)}}function xo(e){return null===e?"null":void 0===e?"undefined":"string"==typeof e?e:"number"==typeof e||"boolean"==typeof e?String(e):Array.isArray(e)||"object"==typeof e?JSON.stringify(e):String(e)}function xn(e,t=2){let r=" ".repeat(t);return e.split(`
`).map(e=>`${r}${e}`).join(`
`)}var xi=class e{constructor(e){this.id=e.versionId,this.name=e.name,this.prompt=e.prompt,this.commit=e.commit,this.type=e.type,this.metadata=e.metadata,this.changeDescription=e.changeDescription,this.tags=e.tags,this.createdAt=e.createdAt,this.createdBy=e.createdBy}format(e){return xe(this.prompt,e,this.type)}getVersionAge(){return this.createdAt?function(e,t){var r;return function(e,t,r){var o,n,i;let a,s,l,u=r?.locale??tI.locale??tO,p=tx(e,t);if(isNaN(p))throw RangeError("Invalid time value");let d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:p});p>0?(a=tk(t),s=tk(e)):(a=tk(e),s=tk(t));let c=(o=s,n=a,(i=void 0,e=>{let t=(i?Math[i]:Math.trunc)(e);return 0===t?0:t})((tk(o)-tk(n))/1e3)),h=Math.round((c-(tA(s)-tA(a))/1e3)/60);if(h<2)if(r?.includeSeconds)if(c<5)return u.formatDistance("lessThanXSeconds",5,d);else if(c<10)return u.formatDistance("lessThanXSeconds",10,d);else if(c<20)return u.formatDistance("lessThanXSeconds",20,d);else if(c<40)return u.formatDistance("halfAMinute",0,d);else if(c<60)return u.formatDistance("lessThanXMinutes",1,d);else return u.formatDistance("xMinutes",1,d);else if(0===h)return u.formatDistance("lessThanXMinutes",1,d);else return u.formatDistance("xMinutes",h,d);if(h<45)return u.formatDistance("xMinutes",h,d);if(h<90)return u.formatDistance("aboutXHours",1,d);if(h<1440){let e=Math.round(h/60);return u.formatDistance("aboutXHours",e,d)}if(h<2520)return u.formatDistance("xDays",1,d);else if(h<43200){let e=Math.round(h/1440);return u.formatDistance("xDays",e,d)}else if(h<86400)return l=Math.round(h/43200),u.formatDistance("aboutXMonths",l,d);if((l=function(e,t){let r,o,n,i=tk(e),a=tk(t),s=tx(i,a),l=Math.abs((o=tk(i),n=tk(a),12*(o.getFullYear()-n.getFullYear())+(o.getMonth()-n.getMonth())));if(l<1)r=0;else{var u;let t,o,n,p;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*l);let d=tx(i,a)===-s;u=tk(e),p=tk(u),+((t=tk(p)).setHours(23,59,59,999),t)==+(n=(o=tk(p)).getMonth(),o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o)&&1===l&&1===tx(e,a)&&(d=!1),r=s*(l-Number(d))}return 0===r?0:r}(s,a))<12){let e=Math.round(h/43200);return u.formatDistance("xMonths",e,d)}{let e=l%12,t=Math.trunc(l/12);return e<3?u.formatDistance("aboutXYears",t,d):e<9?u.formatDistance("overXYears",t,d):u.formatDistance("almostXYears",t+1,d)}}(e,(r=Date.now(),e instanceof Date?new e.constructor(r):new Date(r)),t)}(new Date(this.createdAt),{addSuffix:!0}):"Unknown"}getVersionInfo(){let e=[`[${this.commit}]`];if(this.createdAt){let t=new Date(this.createdAt);e.push(t.toISOString().split("T")[0])}return this.createdBy&&e.push(`by ${this.createdBy}`),this.changeDescription&&e.push(`- ${this.changeDescription}`),e.join(" ")}compareTo(e){let t=`Current version [${this.commit}]`,r=`Other version [${e.commit}]`,o=this.prompt,n=e.prompt;this.isChatPrompt(this.prompt)&&(o=this.formatChatPromptString(this.prompt)),this.isChatPrompt(e.prompt)&&(n=this.formatChatPromptString(e.prompt));let i=(0,tN.diffStringsUnified)(n,o,{aAnnotation:r,bAnnotation:t,includeChangeCounts:!0,contextLines:3,expand:!1});return dN.info(`
Prompt version comparison:
${i}`),i}isChatPrompt(e){try{let t=JSON.parse(e);return Array.isArray(t)&&t.length>0&&"object"==typeof t[0]&&"role"in t[0]&&"content"in t[0]}catch{return!1}}formatChatPromptString(e){try{let t=JSON.parse(e);return function(e){let t=[];for(let r=0;r<e.length;r++){let o=e[r];if(t.push(`Message ${r+1} [${o.role}]:`),"string"==typeof o.content)t.push(xn(o.content));else if(Array.isArray(o.content))for(let e=0;e<o.content.length;e++){let r=o.content[e];if(t.push(`  Part ${e+1}:`),t.push(`    Type: ${r.type}`),"text"===r.type&&"text"in r)t.push(xn(String(r.text),4)),xt(r,["type","text"],t,4);else if("image_url"===r.type&&"image_url"in r){let e=r.image_url;t.push(`    URL: ${e.url}`),xr(e,["url"],t,4),xt(r,["type","image_url"],t,4)}else if("video_url"===r.type&&"video_url"in r){let e=r.video_url;t.push(`    URL: ${e.url}`),xr(e,["url"],t,4),xt(r,["type","video_url"],t,4)}else t.push("    [Difference found in unrecognized content type]")}r<e.length-1&&t.push("")}return t.join(`
`)}(t)}catch{return e}}static fromApiResponse(t,r){var o;if(!r.template)throw new k9("Invalid API response: missing required field 'template'");if(!r.commit)throw new k9("Invalid API response: missing required field 'commit'");if(!r.promptId)throw new k9("Invalid API response: missing required field 'promptId'");if(!r.id)throw new k9("Invalid API response: missing required field 'id'");return new e({name:t,prompt:r.template,commit:r.commit,promptId:r.promptId,versionId:r.id,type:null!=(o=r.type)?o:k5,metadata:r.metadata,changeDescription:r.changeDescription,tags:r.tags,createdAt:r.createdAt?new Date(r.createdAt):void 0,createdBy:r.createdBy})}},xa=class{constructor(e,t){var r,o;this.id=e.promptId,this.versionId=e.versionId,this.commit=e.commit,this.type=null!=(r=e.type)?r:"mustache",this.changeDescription=e.changeDescription,this.templateStructure=null!=(o=e.templateStructure)?o:"text",this._name=e.name,this._description=e.description,this._tags=e.tags?[...e.tags]:[],this._metadata=e.metadata,this.opik=t}get name(){return this._name}get description(){return this._description}get tags(){return Object.freeze([...this._tags])}get metadata(){if(this._metadata)return structuredClone(this._metadata)}async updateProperties(e){var t,r,o,n;return await this.opik.api.prompts.updatePrompt(this.id,{name:null!=(t=e.name)?t:this._name,description:e.description,tags:e.tags},this.opik.api.requestOptions),this._name=null!=(r=e.name)?r:this._name,this._description=null!=(o=e.description)?o:this._description,this._tags=null!=(n=e.tags)?n:this._tags,this}async delete(){await this.opik.deletePrompts([this.id])}async getVersions(e){var t;dN.debug("Getting versions for prompt",{promptId:this.id,name:this.name});try{let r=[],o=1;for(;;){let n=null!=(t=(await this.opik.api.prompts.getPromptVersions(this.id,{page:o,size:100,search:null==e?void 0:e.search,sorting:null==e?void 0:e.sorting,filters:null==e?void 0:e.filters},this.opik.api.requestOptions)).content)?t:[];if(r.push(...n),n.length<100)break;o++}return dN.debug("Successfully retrieved prompt versions",{promptId:this.id,name:this.name,totalVersions:r.length}),r.map(e=>xi.fromApiResponse(this.name,e))}catch(e){throw dN.error("Failed to get prompt versions",{promptId:this.id,name:this.name,error:e}),e}}async restoreVersion(e){dN.debug("Restoring prompt version",{promptId:this.id,name:this.name,versionId:e.id,versionCommit:e.commit});try{let t=await this.opik.api.prompts.restorePromptVersion(this.id,e.id,this.opik.api.requestOptions);return dN.debug("Successfully restored prompt version",{promptId:this.id,name:this.name,restoredVersionId:t.id,restoredCommit:t.commit}),t}catch(t){throw dN.error("Failed to restore prompt version",{promptId:this.id,name:this.name,versionId:e.id,versionCommit:e.commit,error:t}),t}}async retrieveVersionByCommit(e){try{return await this.opik.api.prompts.retrievePromptVersion({name:this.name,commit:e},this.opik.api.requestOptions)}catch(t){if(t&&"object"==typeof t&&"statusCode"in t&&404===t.statusCode)return null;throw dN.error("Failed to retrieve prompt version",{promptName:this.name,commit:e,error:t}),t}}},xs=class e extends xa{constructor(e,t){super({...e,templateStructure:k4},t),this.prompt=e.prompt}get template(){return this.prompt}format(e){return xe(this.prompt,e,this.type)}static fromApiResponse(t,r,o){var n;if(!r.template)throw new k9("Invalid API response: missing required field 'template'");if(!r.commit)throw new k9("Invalid API response: missing required field 'commit'");if(!r.promptId)throw new k9("Invalid API response: missing required field 'promptId'");if(!r.id)throw new k9("Invalid API response: missing required field 'id' (version ID)");let i=null!=(n=r.type)?n:k5;if("mustache"!==i&&"jinja2"!==i)throw new k9(`Invalid API response: unknown prompt type '${i}'`);return new e({promptId:r.promptId,versionId:r.id,name:t.name,prompt:r.template,commit:r.commit,metadata:r.metadata,type:i,changeDescription:r.changeDescription,description:t.description,tags:t.tags},o)}async useVersion(t){var r;let o=await this.restoreVersion(t);return e.fromApiResponse({name:this.name,description:this.description,tags:Array.from(null!=(r=this.tags)?r:[])},o,this.opik)}async getVersion(t){var r;let o=await this.retrieveVersionByCommit(t);return o?e.fromApiResponse({name:this.name,description:this.description,tags:Array.from(null!=(r=this.tags)?r:[])},o,this.opik):null}},xl=class{constructor(e,t="mustache",r=!1){this.messages=e,this.templateType=t,this.validatePlaceholders=r}format(e,t){let r={vision:!0,video:!0,...t},o=[];for(let t of this.messages){let n=t.role;if(!n)continue;let i=t.content,a;if("string"==typeof i)a=xe(i,e,this.templateType);else if(Array.isArray(i))a=this.renderContentParts(i,e,r);else throw new k9(`Invalid message content type. Expected string or array of content parts, got: ${typeof i}`);o.push({role:n,content:a})}return o}renderContentParts(e,t,r){var o,n,i,a,s,l,u;let p=[],d=!1;for(let c of e)if(c&&"object"==typeof c)switch(c.type){case"text":{let e=xe(c.text||"",t,this.templateType);p.push({type:"text",text:e});break}case"image_url":if(!1===r.vision)d=!0,p.push({type:"text",text:"<<<image>>><<</image>>>"});else{let e=xe((null==(o=c.image_url)?void 0:o.url)||"",t,this.templateType);if(e){let t={type:"image_url",image_url:{url:e}};null!=(n=c.image_url)&&n.detail&&(t.image_url.detail=c.image_url.detail),p.push(t)}}break;case"video_url":if(!1===r.video)d=!0,p.push({type:"text",text:"<<<video>>><<</video>>>"});else{let e=xe((null==(i=c.video_url)?void 0:i.url)||"",t,this.templateType);if(e){let t={type:"video_url",video_url:{url:e}};null!=(a=c.video_url)&&a.mime_type&&(t.video_url.mime_type=c.video_url.mime_type),null!=(s=c.video_url)&&s.duration&&(t.video_url.duration=c.video_url.duration),null!=(l=c.video_url)&&l.format&&(t.video_url.format=c.video_url.format),null!=(u=c.video_url)&&u.detail&&(t.video_url.detail=c.video_url.detail),p.push(t)}}break;default:p.push(c)}if(d){let e=[];for(let t of p)if("text"===t.type){let r=t.text;r&&e.push(r)}else e.push(JSON.stringify(t));return e.join(`

`)}return 1===p.length&&"text"===p[0].type?p[0].text:p}},xu=class e extends xa{constructor(e,t){super({...e,templateStructure:k8},t),this.messages=e.messages,this.chatTemplate=new xl(e.messages,this.type)}get template(){return structuredClone(this.messages)}format(e,t){return this.chatTemplate.format(e,t)}static fromApiResponse(t,r,o){var n;let i;if(!r.template)throw new k9("Invalid API response: missing required field 'template'");if(!r.commit)throw new k9("Invalid API response: missing required field 'commit'");if(!r.promptId)throw new k9("Invalid API response: missing required field 'promptId'");if(!r.id)throw new k9("Invalid API response: missing required field 'id' (version ID)");try{if(i=JSON.parse(r.template),!Array.isArray(i))throw new k9("Invalid chat prompt template: expected array of messages")}catch(e){throw e instanceof k9?e:new k9(`Failed to parse chat prompt template: ${e instanceof Error?e.message:String(e)}`)}let a=null!=(n=r.type)?n:k5;if("mustache"!==a&&"jinja2"!==a)throw new k9(`Invalid API response: unknown prompt type '${a}'`);return new e({promptId:r.promptId,versionId:r.id,name:t.name,messages:i,commit:r.commit,metadata:r.metadata,type:a,changeDescription:r.changeDescription,description:t.description,tags:t.tags},o)}async useVersion(t){var r;let o=await this.restoreVersion(t);return e.fromApiResponse({name:this.name,description:this.description,tags:Array.from(null!=(r=this.tags)?r:[])},o,this.opik)}async getVersion(t){var r;let o=await this.retrieveVersionByCommit(t);return o?e.fromApiResponse({name:this.name,description:this.description,tags:Array.from(null!=(r=this.tags)?r:[])},o,this.opik):null}};async function xp(e,t,r){try{return await e.retrievePromptVersion({name:t},r)}catch(e){var o;if("object"==typeof(o=e)&&null!==o&&"statusCode"in o&&404===o.statusCode)return null;throw e}}var xd=class{constructor(e){this.input=e,this.cursor=0}getPosition(){return this.cursor}getRemainingInput(){return this.input.slice(this.cursor)}getFullInput(){return this.input}isAtEnd(){return this.cursor>=this.input.length}peekChar(){return this.input[this.cursor]}peekCharAt(e){return this.input[this.cursor+e]}consumeChar(){return this.input[this.cursor++]}advance(e=1){this.cursor+=e}skipWhitespace(){for(;this.cursor<this.input.length&&/\s/.test(this.input[this.cursor]);)this.cursor++}consumeWhile(e){let t=this.cursor;for(;this.cursor<this.input.length&&e(this.input[this.cursor]);)this.cursor++;return this.input.slice(t,this.cursor)}sliceFrom(e){return this.input.slice(e,this.cursor)}static isFieldChar(e){return/[a-zA-Z0-9_]/.test(e)}static isLetterChar(e){return/[a-zA-Z]/.test(e)}static isDigitChar(e){return/\d/.test(e)}static isWhitespaceChar(e){return/\s/.test(e)}static isQuoteChar(e){return'"'===e||"'"===e}},xc=["=","contains","not_contains","starts_with","ends_with","!=",">","<"],xh=["=","!=",">","<",">=","<="],xm=["=",">","<",">=","<="],xg=["=","contains","not_contains"],xf={id:"string",name:"string",status:"string",start_time:"date_time",end_time:"date_time",input:"string",output:"string",metadata:"dictionary",feedback_scores:"feedback_scores_number",tags:"list","usage.total_tokens":"number","usage.prompt_tokens":"number","usage.completion_tokens":"number",duration:"number",number_of_messages:"number",created_by:"string",thread_id:"string",total_estimated_cost:"number",type:"string",model:"string",provider:"string"},xy={id:xc,name:xc,status:xg,start_time:xm,end_time:xm,input:xg,output:xg,metadata:["=","contains",">","<"],feedback_scores:xh,tags:["contains"],"usage.total_tokens":xh,"usage.prompt_tokens":xh,"usage.completion_tokens":xh,duration:xh,number_of_messages:xh,created_by:xc,thread_id:xc,total_estimated_cost:xh,type:xc,model:xc,provider:xc},x_=["usage","metadata","feedback_scores"],xv=["total_tokens","prompt_tokens","completion_tokens"];function xb(e,t){let r=xy[e];if(!(null!=r&&r.includes(t))){let o=(null==r?void 0:r.join(", "))||"none";throw Error(`Operator ${t} is not supported for field ${e}, only the operators ${o} are supported.`)}}function xw(e,t,r){if(!e)throw Error(`Missing closing quote for: ${r}`)}var xD=class{static parse(e){e.skipWhitespace();let t=this.parseFieldName(e);return function(e){let t=x_.includes(e),r=Object.keys(xf).includes(e);if(!t&&!r){let t=Object.keys(xf).join(", ");throw Error(`Field ${e} is not supported, only the fields ${t} are supported.`)}}(t),"."===e.peekChar()?this.parseFieldWithKey(e,t):{type:"simple",field:t,columnType:xf[t]}}static parseFieldName(e){return e.consumeWhile(e=>xd.isFieldChar(e))}static parseFieldWithKey(e,t){e.advance();let r=this.parseKey(e);if(function(e,t){if(!x_.includes(e)){let r=Object.keys(xf).join(", ");throw Error(`Field ${e}.${t} is not supported, only the fields ${r} are supported.`)}if("usage"===e&&!xv.includes(t))throw Error(`When querying usage, ${t} is not supported, only usage.total_tokens, usage.prompt_tokens and usage.completion_tokens are supported.`)}(t,r),"usage"===t){let e=`usage.${r}`;return{type:"simple",field:e,columnType:xf[e]}}return{type:"nested",field:t,key:r,columnType:xf[t]}}static parseKey(e){let t=e.peekChar();return xd.isQuoteChar(t)?this.parseQuotedKey(e,t):this.parseUnquotedKey(e)}static parseUnquotedKey(e){return e.consumeWhile(e=>xd.isFieldChar(e))}static parseQuotedKey(e,t){let r=e.getPosition();e.advance();let o="",n=!1;for(;!e.isAtEnd();){let r=e.peekChar();if(r===t){if(e.peekCharAt(1)===t){o+=t,e.advance(2);continue}n=!0,e.advance();break}o+=r,e.advance()}let i=e.getFullInput().slice(r);return xw(n,r,i),o}},xC=class{static parse(e,t){e.skipWhitespace();let r=e.peekChar(),o=this.tryParseSymbolicOperator(e,r);if(o)return xb(t,o),{operator:o};let n=this.parseWordOperator(e);return xb(t,n),{operator:n}}static tryParseSymbolicOperator(e,t){return"="===t?(e.advance(),"="):"<"===t||">"===t?(e.advance(),"="===e.peekChar()?(e.advance(),t+"="):t):"!"===t&&"="===e.peekCharAt(1)?(e.advance(2),"!="):null}static parseWordOperator(e){return e.consumeWhile(e=>!xd.isWhitespaceChar(e))}},xE=class{static parse(e){e.skipWhitespace();let t=e.getPosition(),r=e.peekChar();if('"'===r)return this.parseQuotedString(e,t);if(xd.isDigitChar(r)||"-"===r)return this.parseNumber(e);let o=e.getRemainingInput();throw Error(`Invalid value ${o.slice(0,20)}, expected a string in double quotes("value") or a number`)}static parseQuotedString(e,t){e.advance();let r=e.getPosition(),o=!1;for(;!e.isAtEnd();){if('"'===e.peekChar()){o=!0;break}e.advance()}xw(o,t,`value starting at position ${t}`);let n=e.sliceFrom(r);return e.advance(),{value:n}}static parseNumber(e){let t="";return"-"===e.peekChar()&&(t+=e.consumeChar()),t+=this.parseDigits(e),"."===e.peekChar()&&(t+=e.consumeChar(),t+=this.parseDigits(e)),{value:t}}static parseDigits(e){return e.consumeWhile(e=>xd.isDigitChar(e))}},xk=class{constructor(e){let t=e||"";this.filterExpressions=t?this.parse(t):null,this.parsedFilters=this.filterExpressions?JSON.stringify(this.filterExpressions):null}getFilterExpressions(){return this.filterExpressions}parse(e){let t=new xd(e),r=[];for(;!t.isAtEnd();){let e=this.parseExpression(t);if(r.push(e),t.skipWhitespace(),!t.isAtEnd()&&!this.parseConnector(t))break}return r}parseExpression(e){let t=xD.parse(e),r=xC.parse(e,this.getFieldName(t)),o=xE.parse(e);return this.buildExpression(t,r,o)}getFieldName(e){return e.field}buildExpression(e,t,r){let o={field:e.field,operator:t.operator,value:r.value,type:e.columnType};return"nested"===e.type&&(o.key=e.key),o}parseConnector(e){let t=e.getPosition(),r=e.consumeWhile(e=>xd.isLetterChar(e));try{let e=r.toLowerCase();if("and"===e)return!0;throw"or"===e?Error("Invalid filter string, OR is not currently supported"):Error(`Invalid filter string, trailing characters ${r}`)}catch(r){if(r instanceof Error&&r.message.includes("trailing characters")){let r=e.getFullInput().slice(t);throw Error(`Invalid filter string, trailing characters ${r}`)}throw r}}};async function xx(e,t,r,o,n){let i=await e.traces.searchTraces({projectName:t,filters:null!=r?r:void 0,limit:o,truncate:n});return await kz(i,g9.TracePublic,o)}async function xT(e,t,r,o){let n=Date.now(),i=[];for(;;){if((i=await e()).length>=t||Date.now()-n>=r)return i;await new Promise(e=>setTimeout(e,o))}}var xS=[],xR=class{constructor(e){this.displayTraceLog=e=>{if(e===this.lastProjectNameLogged||!this.config.apiUrl)return;let t=(({projectName:e,workspaceName:t,apiUrl:r})=>kF(r.replace(/\/api$/,""),`${t}/redirect/projects`,{name:e}))({apiUrl:this.config.apiUrl,projectName:e,workspaceName:this.config.workspaceName});dN.info(`Started logging traces to the "${e}" project at ${dA(t)}`),this.lastProjectNameLogged=e},this.trace=e=>{var t;dN.debug("Creating new trace with data:",e);let r=null!=(t=e.projectName)?t:this.config.projectName,o=new kj({id:tt(),startTime:new Date,...e,projectName:r},this);return this.traceBatchQueue.create(o.data),dN.debug("Trace added to the queue with ID:",o.data.id),this.displayTraceLog(r),o},this.getDataset=async e=>{dN.debug(`Getting dataset with name "${e}"`);try{await this.datasetBatchQueue.flush();let t=await this.api.datasets.getDatasetByIdentifier({datasetName:e});return new kY(t,this)}catch(t){throw t instanceof dL&&404===t.statusCode?new kX(e):t}},this.createDataset=async(e,t)=>{dN.debug(`Creating dataset with name "${e}"`);let r=new kY({name:e,description:t},this);try{return this.datasetBatchQueue.create({name:r.name,description:r.description,id:r.id}),dN.debug("Dataset added to the queue with name:",r.name),r}catch(t){throw dN.error(`Failed to create dataset "${e}"`,{error:t}),Error(`Error creating dataset "${e}": ${t}`)}},this.getOrCreateDataset=async(e,t)=>{dN.debug(`Attempting to retrieve or create dataset with name: "${e}"`);try{return await this.getDataset(e)}catch(r){if(r instanceof kX)return dN.info(`Dataset "${e}" not found. Proceeding to create a new one.`),this.createDataset(e,t);throw dN.error(`Error retrieving dataset "${e}":`,r),r}},this.getDatasets=async(e=100)=>{dN.debug(`Getting all datasets (limit: ${e})`);try{await this.datasetBatchQueue.flush();let t=await this.api.datasets.findDatasets({size:e}),r=[];for(let e of t.content||[])r.push(new kY(e,this));return dN.info(`Retrieved ${r.length} datasets`),r}catch(e){throw dN.error("Failed to retrieve datasets",{error:e}),Error("Failed to retrieve datasets")}},this.deleteDataset=async e=>{dN.debug(`Deleting dataset with name "${e}"`);try{let t=await this.getDataset(e);if(!t.id)throw Error(`Cannot delete dataset "${e}": ID not available`);this.datasetBatchQueue.delete(t.id)}catch(t){throw dN.error(`Failed to delete dataset "${e}"`,{error:t}),Error(`Failed to delete dataset "${e}": ${t}`)}},this.createExperiment=async({datasetName:e,name:t,experimentConfig:r,prompts:o,type:n=hd.Regular,optimizationId:i})=>{if(dN.debug(`Creating experiment for dataset "${e}"`),!e)throw Error("Dataset name is required to create an experiment");let[a,s]=function(e,t){if(void 0!==e&&("object"!=typeof e||null===e||Array.isArray(e)))throw k6.invalidConfigType(typeof e);if(t&&t.length>0&&null!=e&&e.prompts)throw k6.promptsConflict();if(!e&&(!t||0===t.length))return[void 0,void 0];let r=e?structuredClone(e):{},o;if(t&&t.length>0){o=[];let e={};for(let r of t)o.push({id:r.versionId}),e[r.name]=r.prompt;r.prompts=e}return 0===Object.keys(r).length?[void 0,void 0]:[r,o]}(r,o),l=tt(),u=new k2({id:l,name:t,datasetName:e,prompts:o},this);try{return this.api.experiments.createExperiment({id:l,datasetName:e,name:t,metadata:a,promptVersions:s,type:n,optimizationId:i}),dN.debug("Experiment added to the queue with id:",l),u}catch(t){throw dN.error(`Failed to create experiment for dataset "${e}"`,{error:t}),Error(`Error creating experiment: ${t}`)}},this.updateExperiment=async(e,t)=>{if(!e)throw Error("id is required to update an experiment");let{name:r,experimentConfig:o}=t;if(!r&&!o)throw Error("At least one of 'name' or 'experimentConfig' must be provided to update an experiment");dN.debug(`Updating experiment with ID "${e}"`);let n={};void 0!==r&&(n.name=r),void 0!==o&&(n.metadata=o);try{await this.api.experiments.updateExperiment(e,{body:n})}catch(t){throw dN.error(`Failed to update experiment with ID "${e}"`,{error:t}),t}},this.getExperimentById=async e=>{dN.debug(`Getting experiment with ID "${e}"`);try{let t=await this.api.experiments.getExperimentById(e);return new k2({id:t.id,name:t.name,datasetName:t.datasetName},this)}catch(t){throw t instanceof dL&&404===t.statusCode?new k3(`No experiment found with ID '${e}'`):(dN.error(`Failed to get experiment with ID "${e}"`,{error:t}),t)}},this.getExperimentsByName=async e=>{dN.debug(`Getting experiments with name "${e}"`);try{let t=await this.api.experiments.streamExperiments({name:e});return(await kz(t,g9.ExperimentPublic)).map(e=>new k2({id:e.id,name:e.name,datasetName:e.datasetName},this))}catch(t){throw dN.error(`Failed to get experiments with name "${e}"`,{error:t}),t}},this.getExperiment=async e=>{dN.debug(`Getting experiment with name "${e}"`);let t=await this.getExperimentsByName(e);if(0===t.length)throw new k3(e);return t[0]},this.getDatasetExperiments=async(e,t=100)=>{var r;dN.debug(`Getting experiments for dataset "${e}"`);let o=await this.getDataset(e),n=Math.min(100,t),i=[];try{let e=1;for(;i.length<t;){let a=await this.api.experiments.findExperiments({page:e,size:n,datasetId:o.id}),s=null!=(r=null==a?void 0:a.content)?r:[];if(0===s.length)break;let l=t-i.length,u=Math.min(s.length,l);for(let e=0;e<u;e++){let t=s[e];i.push(new k2({id:t.id,name:t.name,datasetName:t.datasetName},this))}if(u<s.length)break;e+=1}return i}catch(t){throw dN.error(`Failed to get experiments for dataset "${e}"`,{error:t}),t}},this.deleteExperiment=async e=>{dN.debug(`Deleting experiment with ID "${e}"`);try{await this.api.experiments.deleteExperimentsById({ids:[e]})}catch(t){throw dN.error(`Failed to delete experiment with ID "${e}"`,{error:t}),t}},this.createPromptInternal=async(e,t,r,o,n,i,a)=>{var s,l,u,p;dN.debug(`Creating ${a}`,{name:e});try{let d=await xp(this.api.prompts,e,this.api.requestOptions);n(d);let c=null!=(s=o.type)?s:k5,h;if((l={prompt:t,metadata:o.metadata},d&&d.template===l.prompt&&(u=d.metadata,p=l.metadata,(0,tB.default)(null!=u?u:{},null!=p?p:{}))&&d.type===c)?(dN.debug(`Returning existing ${a} version`,{name:e}),h=d):(dN.debug(`Creating new ${a} version`,{name:e}),h=await this.api.prompts.createPromptVersion({name:e,version:{template:t,metadata:o.metadata,type:c},templateStructure:r},this.api.requestOptions)),!h.promptId)throw Error("Invalid API response: missing promptId");let m=await this.api.prompts.getPromptById(h.promptId,this.api.requestOptions),g=i(m,h);return dN.debug(`${a} created`,{name:e}),o.description||o.tags?await g.updateProperties({description:o.description,tags:o.tags}):g}catch(t){throw dN.error(`Failed to create ${a}`,{name:e,error:t}),t}},this.createPrompt=async e=>this.createPromptInternal(e.name,e.prompt,k4,e,()=>{},(e,t)=>xs.fromApiResponse(e,t,this),"prompt"),this.createChatPrompt=async e=>{let t=JSON.stringify(e.messages);return this.createPromptInternal(e.name,t,k8,e,t=>{if(t&&t.templateStructure&&t.templateStructure!==k8)throw new k7(e.name,t.templateStructure,k8)},(e,t)=>xu.fromApiResponse(e,t,this),"chat prompt")},this.getPrompt=async e=>{var t;dN.debug("Getting prompt",e);try{let r=null==(t=(await this.api.prompts.getPrompts({filters:JSON.stringify([{field:"name",operator:"=",value:e.name}]),size:1},this.api.requestOptions)).content)?void 0:t[0];if(!r)return dN.debug("Prompt not found",{name:e.name}),null;let o=await this.api.prompts.retrievePromptVersion(e,this.api.requestOptions),n=o.templateStructure;if(n&&n!==k4)throw new k7(e.name,n,k4);return xs.fromApiResponse(r,o,this)}catch(t){if(t instanceof dL&&404===t.statusCode)return null;throw dN.error("Failed to get prompt",{name:e.name,error:t}),t}},this.getChatPrompt=async e=>{var t;dN.debug("Getting chat prompt",e);try{let r=null==(t=(await this.api.prompts.getPrompts({filters:JSON.stringify([{field:"name",operator:"=",value:e.name}]),size:1},this.api.requestOptions)).content)?void 0:t[0];if(!r)return dN.debug("Chat prompt not found",{name:e.name}),null;let o=await this.api.prompts.retrievePromptVersion(e,this.api.requestOptions),n=o.templateStructure;if(!n||n!==k8)throw new k7(e.name,null!=n?n:"undefined",k8);return xu.fromApiResponse(r,o,this)}catch(t){if(t instanceof dL&&404===t.statusCode)return null;throw dN.error("Failed to get chat prompt",{name:e.name,error:t}),t}},this.searchPrompts=async e=>{var t;dN.debug("Searching prompts",{filterString:e});try{let r;if(e){let t=new xk(e).getFilterExpressions();r=t?JSON.stringify(t):void 0}let o=null!=(t=(await this.api.prompts.getPrompts({filters:r,size:1e3},this.api.requestOptions)).content)?t:[];return(await Promise.all(o.map(async e=>{if(!e.name)return null;try{let t=await this.api.prompts.retrievePromptVersion({name:e.name},this.api.requestOptions),r=t.templateStructure;return r&&r!==k4?r===k8?xu.fromApiResponse(e,t,this):null:xs.fromApiResponse(e,t,this)}catch(t){return dN.debug("Failed to get version for prompt",{name:e.name,error:t}),null}}))).filter(e=>null!==e)}catch(e){throw dN.error("Failed to search prompts",{error:e}),e}},this.deletePrompts=async e=>{dN.debug("Deleting prompts in batch",{count:e.length});try{await this.api.prompts.deletePromptsBatch({ids:e},this.api.requestOptions),dN.info("Successfully deleted prompts",{count:e.length})}catch(t){throw dN.error("Failed to delete prompts",{count:e.length,error:t}),t}},this.searchTraces=async e=>{let{projectName:t,filterString:r,maxResults:o=1e3,truncate:n=!0,waitForAtLeast:i,waitForTimeout:a=60}=null!=e?e:{};dN.debug("Searching traces",{projectName:t,filterString:r,maxResults:o,truncate:n,waitForAtLeast:i,waitForTimeout:a});let s=function(e){if(!e)return null;let t=new xk(e).getFilterExpressions();return t?t.map(e=>{let t={field:e.field,operator:e.operator,value:e.value};return e.key&&(t.key=e.key),t}):null}(r),l=null!=t?t:this.config.projectName,u=()=>xx(this.api,l,s,o,n);if(void 0===i)return await u();let p=await xT(u,i,1e3*a,5e3);if(p.length<i)throw new kG(`Timeout after ${a} seconds: expected ${i} traces, but only ${p.length} were found.`);return p},this.flush=async()=>{dN.debug("Starting flush operation");try{await this.traceBatchQueue.flush(),await this.spanBatchQueue.flush(),await this.traceFeedbackScoresBatchQueue.flush(),await this.spanFeedbackScoresBatchQueue.flush(),await this.datasetBatchQueue.flush(),dN.info("Successfully flushed all data to Opik")}catch(e){dN.error("Error during flush operation:",{error:e instanceof Error?e.message:e})}},this.updatePromptVersionTags=async(e,t)=>{var r;dN.debug("Updating prompt version tags",{count:e.length,options:t});try{await this.api.prompts.updatePromptVersions({ids:e,update:{tags:null!=(r=null==t?void 0:t.tags)?r:void 0},mergeTags:null==t?void 0:t.mergeTags},this.api.requestOptions),dN.debug("Successfully updated prompt version tags",{count:e.length})}catch(t){throw dN.error("Failed to update prompt version tags",{count:e.length,error:t}),t}},dN.debug("Initializing OpikClient with config:",e),this.config=function(e){let t=dM({apiKey:process.env.OPIK_API_KEY,apiUrl:process.env.OPIK_URL_OVERRIDE,projectName:process.env.OPIK_PROJECT_NAME,workspaceName:process.env.OPIK_WORKSPACE,batchDelayMs:process.env.OPIK_BATCH_DELAY_MS?Number(process.env.OPIK_BATCH_DELAY_MS):void 0,holdUntilFlush:void 0===process.env.OPIK_HOLD_UNTIL_FLUSH?void 0:["1","true","yes"].includes(String(process.env.OPIK_HOLD_UNTIL_FLUSH).toLowerCase())}),r=function(){let e=process.env.OPIK_CONFIG_PATH||"~/.opik.config";if(!e2.default.existsSync(e)){if(process.env.OPIK_CONFIG_PATH)throw Error(`Config file not found at ${e}`);return{}}try{let t=e3.default.parse(e2.default.readFileSync(e,"utf8"));return t.opik?dM({apiKey:t.opik.api_key,apiUrl:t.opik.url_override,projectName:t.opik.project_name,workspaceName:t.opik.workspace}):{}}catch(t){return dN.error(`Error loading config file ${e}: ${t}`),{}}}(),{headers:o,...n}=e||{};var i={...dB,...r,...t,...n};if(!i.apiUrl)throw Error("OPIK_URL_OVERRIDE is not set");let a=new URL(i.apiUrl).hostname.endsWith("comet.com");if(a&&!i.apiKey)throw Error("OPIK_API_KEY is not set");if(a&&!i.workspaceName)throw Error("OPIK_WORKSPACE is not set");return i}(e);let t={apiKey:this.config.apiKey,environment:this.config.apiUrl,workspaceName:this.config.workspaceName};null!=e&&e.headers&&(dN.debug("Initializing OpikClient with additional headers:",null==e?void 0:e.headers),t.requestOptions={headers:null==e?void 0:e.headers}),this.api=new kM(t);let r=this.config.holdUntilFlush?864e5:this.config.batchDelayMs;this.spanBatchQueue=new kI(this.api,r),this.traceBatchQueue=new kN(this.api,r),this.spanFeedbackScoresBatchQueue=new kA(this.api,r),this.traceFeedbackScoresBatchQueue=new kB(this.api,r),this.datasetBatchQueue=new kU(this.api,r),xS.push(this)}},xj=new tM.AsyncLocalStorage;function xF({result:e,span:t,trace:r,enrichSpan:o}){dN.debug("Recording successful execution:",{spanId:t.data.id,traceId:null==r?void 0:r.data.id});let n="object"==typeof e?e:{result:e},i=new Date,a={endTime:i,output:n};o&&Object.assign(a,o(e)),t.update(a),r&&r.update({endTime:i,output:n})}function xP({span:e,error:t,trace:r}){var o,n;dN.error("Recording execution error:",{spanId:e.data.id,traceId:null==r?void 0:r.data.id,error:t instanceof Error?{name:t.name,message:t.message,stack:t.stack}:t}),t instanceof Error&&e.update({errorInfo:{message:t.message,exceptionType:t.name,traceback:null!=(o=t.stack)?o:""}}),e.end(),r&&(r.update({errorInfo:{message:t.message,exceptionType:t.name,traceback:null!=(n=t.stack)?n:""}}),r.end())}function xO({name:e,projectName:t,type:r,enrichSpan:o}={},n){return function(...i){let a=xj.getStore(),{span:s,trace:l}=function({name:e,parentSpan:t,projectName:r,trace:o,type:n="llm"}){dN.debug("Creating new span:",{name:e,parentSpan:null==t?void 0:t.data.id,projectName:r,type:n});let i=o;i||(i=(null===xA&&(xA=new xR),xA).trace({name:e,projectName:r}));let a=i.span({name:e,parentSpanId:null==t?void 0:t.data.id,projectName:r,type:n});return dN.debug("Span created with ID:",a.data.id),{span:a,trace:i}}({name:null!=e?e:n.name||"track.decorator",parentSpan:null==a?void 0:a.span,projectName:t,trace:null==a?void 0:a.trace,type:r}),u=!a,p=this;return xj.run({span:s,trace:l},()=>{let e=u?l:void 0;try{!function({args:e,span:t,trace:r}){if(dN.debug("Starting span execution:",{spanId:t.data.id,traceId:null==r?void 0:r.data.id}),0===e.length)return;let o={arguments:e};dN.debug("Recording span input"),t.update({input:o}),r&&(dN.debug("Recording trace input"),r.update({input:o}))}({args:i,span:s,trace:e});let t=n.apply(p,i);return t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then?t.then(t=>(xF({span:s,result:t,trace:e,enrichSpan:o}),t),t=>{throw xP({span:s,error:t,trace:e}),t}):(xF({span:s,result:t,trace:e,enrichSpan:o}),t)}catch(t){throw xP({span:s,error:t,trace:e}),t}})}}function xI(e,t){return"function"==typeof e?xO({},e):t?xO(e,t):function(...t){if(2===t.length&&"object"==typeof t[1]&&null!==t[1]&&"kind"in t[1]){let[r,o]=t;if("method"!==o.kind)throw Error("track decorator is only applicable to methods");return xO(e,r)}let[,,r]=t;if(!r||"function"!=typeof r.value)throw Error("track decorator can only be applied to methods");let o=r.value;return r.value=xO(e,o),r}}var xA=null,xN=class{static calculateAverageScores(e){if(!e||0===e.length)return new Map;let t=new Map;for(let r of e)if(!(!r||!r.scoreResults||0===r.scoreResults.length))for(let e of r.scoreResults){if(!e||e.scoringFailed||"number"!=typeof e.value)continue;let r=t.get(e.name)||{sum:0,count:0};r.sum+=e.value,r.count+=1,t.set(e.name,r)}let r=new Map;return t.forEach((e,t)=>{r.set(t,e.count>0?e.sum/e.count:0)}),r}static formatScore(e){return e.toFixed(4)}static formatTime(e){let t=Math.floor(e/3600),r=Math.floor(e%3600/60),o=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}static async generateResultTable(e,t,r,o){if(0===e.length)return void dN.info(`
No test results available to display.`);if(0===r.size)return void dN.info(`
No metrics available to display.`);let n=[...r.keys()].sort(),i=this.formatTime(o),a=[t8.bold(`Total time:        ${i}`),t8.bold(`Number of samples: ${e.length}`),"",...n.map(e=>{let t=this.formatScore(r.get(e)||0);return t8.green(`${e}: ${t} (avg)`)})].join(`
`),s=await t.ensureNameLoaded(),l=function(e,t){if((t={padding:0,borderStyle:"single",dimBorder:!1,textAlignment:"left",float:"left",titleAlignment:"left",...t}).align&&(t.textAlignment=t.align),t.borderColor&&!rQ(t.borderColor))throw Error(`${t.borderColor} is not a valid borderColor`);if(t.backgroundColor&&!rQ(t.backgroundColor))throw Error(`${t.backgroundColor} is not a valid backgroundColor`);return t.padding=rJ(t.padding),t.margin=rJ(t.margin),t=((e,t)=>{let r=void 0!==(t=(e=>{if(e.fullscreen&&ey.default?.stdout){let t=[ey.default.stdout.columns,ey.default.stdout.rows];"function"==typeof e.fullscreen&&(t=e.fullscreen(...t)),e.width||=t[0],e.height||=t[1]}return e.width&&=Math.max(1,e.width-2*(e.borderStyle!==rH)),e.height&&=Math.max(1,e.height-2*(e.borderStyle!==rH)),e})(t)).width,o=rZ(),n=2*(t.borderStyle!==rH),i=o-t.margin.left-t.margin.right-n,a=rx(rG(e,o-n,{hard:!0,trim:!1}))+t.padding.left+t.padding.right;if(t.title&&r?(t.title=t.title.slice(0,Math.max(0,t.width-2)),t.title&&=rY(t.title,t.borderStyle)):t.title&&(t.title=t.title.slice(0,Math.max(0,i-2)),t.title&&(t.title=rY(t.title,t.borderStyle),ro(t.title)>a&&(t.width=ro(t.title)))),t.width||=a,!r){if(t.margin.left&&t.margin.right&&t.width>i){let e=(o-t.width-n)/(t.margin.left+t.margin.right);t.margin.left=Math.max(0,Math.floor(t.margin.left*e)),t.margin.right=Math.max(0,Math.floor(t.margin.right*e))}t.width=Math.min(t.width,o-n-t.margin.left-t.margin.right)}return t.width-(t.padding.left+t.padding.right)<=0&&(t.padding.left=0,t.padding.right=0),t.height&&t.height-(t.padding.top+t.padding.bottom)<=0&&(t.padding.top=0,t.padding.bottom=0),t})(e,t),((e,t,r)=>{let o=e=>{let t,o=r.borderColor?((t=r.borderColor).match(/^#(?:[0-f]{3}){1,2}$/i)?rk.hex(t):rk[t])(e):e;return r.dimBorder?rk.dim(o):o},n=(e=>{let t,r=["topLeft","topRight","bottomRight","bottomLeft","left","right","top","bottom"];if(e===rH)for(let t of(e={},r))e[t]="";if("string"==typeof e){if(!(t=rT.default[e]))throw TypeError(`Invalid border style: ${e}`)}else{for(let t of("string"==typeof e?.vertical&&(e.left=e.vertical,e.right=e.vertical),"string"==typeof e?.horizontal&&(e.top=e.horizontal,e.bottom=e.horizontal),r))if(null===e[t]||"string"!=typeof e[t])throw TypeError(`Invalid border style: ${t}`);t=e}return t})(r.borderStyle),i=rZ(),a=" ".repeat(r.margin.left);if("center"===r.float){let e=Math.max((i-t-2*(r.borderStyle!==rH))/2,0);a=" ".repeat(e)}else if("right"===r.float){let e=Math.max(i-t-r.margin.right-2*(r.borderStyle!==rH),0);a=" ".repeat(e)}let s="";return r.margin.top&&(s+="\n".repeat(r.margin.top)),(r.borderStyle!==rH||r.title)&&(s+=o(a+n.topLeft+(r.title?((e,t,r)=>{let o="",n=ro(e);switch(r){case"left":o=e+t.slice(n);break;case"right":o=t.slice(n)+e;break;default:o=(t=t.slice(n)).length%2==1?(t=t.slice(Math.floor(t.length/2))).slice(1)+e+t:(t=t.slice(t.length/2))+e+t}return o})(r.title,n.top.repeat(t),r.titleAlignment):n.top.repeat(t))+n.topRight)+"\n"),s+=e.split("\n").map(e=>{let t;return a+o(n.left)+(r.backgroundColor?((t=r.backgroundColor).match(/^#(?:[0-f]{3}){1,2}$/i)?rk.bgHex(t):rk[function(e,t){var r,o;if(!("string"==typeof e||Array.isArray(e)))throw TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";let n=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),i=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?rP.test(e)?"":t.pascalCase?i(e):n(e):(e!==n(e)&&(e=((e,t,r,o)=>{let n=!1,i=!1,a=!1,s=!1;for(let l=0;l<e.length;l++){let u=e[l];s=!(l>2)||"-"===e[l-3],n&&rS.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),n=!1,a=i,i=!0,l++):i&&a&&rR.test(u)&&(!s||o)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),a=i,i=!1,n=!0):(n=t(u)===u&&r(u)!==u,a=i,i=r(u)===u&&t(u)!==u)}return e})(e,n,i,t.preserveConsecutiveUppercase)),e=e.replace(rO,""),e=t.preserveConsecutiveUppercase?(r=e,rj.lastIndex=0,r.replaceAll(rj,e=>n(e))):n(e),t.pascalCase&&(e=i(e.charAt(0))+e.slice(1)),o=e,rI.lastIndex=0,rA.lastIndex=0,o.replaceAll(rA,(e,t,r)=>["_","-"].includes(o.charAt(r+e.length))?e:i(e)).replaceAll(rI,(e,t)=>i(t)))}(["bg",t])])(e):e)+o(n.right)}).join("\n"),r.borderStyle!==rH&&(s+="\n"+o(a+n.bottomLeft+n.bottom.repeat(t)+n.bottomRight)),r.margin.bottom&&(s+="\n".repeat(r.margin.bottom)),s})(e=((e,{padding:t,width:r,textAlignment:o,height:n})=>{let i=(e=(0,rN.default)(e,{align:o})).split("\n"),a=rx(e),s=r-t.left-t.right;if(a>s){let e=[];for(let t of i){let r=rG(t,s,{hard:!0}),n=(0,rN.default)(r,{align:o}).split("\n"),i=Math.max(...n.map(e=>ro(e)));for(let t of n){let r;switch(o){case"center":r=" ".repeat((s-i)/2)+t;break;case"right":r=" ".repeat(s-i)+t;break;default:r=t}e.push(r)}}i=e}"center"===o&&a<s?i=i.map(e=>" ".repeat((s-a)/2)+e):"right"===o&&a<s&&(i=i.map(e=>" ".repeat(s-a)+e));let l=" ".repeat(t.left),u=" ".repeat(t.right);return i=i.map(e=>{let t=l+e+u;return t+" ".repeat(r-ro(t))}),t.top>0&&(i=[...Array.from({length:t.top}).fill(" ".repeat(r)),...i]),t.bottom>0&&(i=[...i,...Array.from({length:t.bottom}).fill(" ".repeat(r))]),n&&i.length>n?i=i.slice(0,n):n&&i.length<n&&(i=[...i,...Array.from({length:n-i.length}).fill(" ".repeat(r))]),i.join("\n")})(e,t),t.width,t)}(a,{title:`${s} (${e.length} samples)`,titleAlignment:"left",padding:1,margin:0,borderColor:"cyan",borderStyle:"round"});dN.info(`
`+l+`
`),dN.info(t8.blue("Uploading results to Opik ... "))}static async displayExperimentLink(e){let t=await e.getUrl();dN.info(`View the results ${dA(t,"in your Opik dashboard")}`)}static async processResults(e,t,r=0){let o=this.calculateAverageScores(e);await this.generateResultTable(e,t,o,r),await this.displayExperimentLink(t);let n=await t.ensureNameLoaded();return{experimentId:t.id,experimentName:n,testResults:e}}};eg=[xI({name:"metrics_calculation",type:h6.General})];var xB=class{constructor(e,t,r){((e,t,r,o)=>{for(var n=0,i=e[t>>1],a=i&&i.length;n<a;n++)i[n].call(r)})(ef,5,this),this.client=void 0,this.dataset=void 0,this.task=void 0,this.scoringMetrics=void 0,this.projectName=void 0,this.nbSamples=void 0,this.scoringKeyMapping=void 0,this.experiment=void 0,this.rootTrace=void 0,this.client=t,this.dataset=e.dataset,this.experiment=r,this.task=e.task,this.scoringMetrics=e.scoringMetrics||[],this.projectName=e.projectName,this.nbSamples=e.nbSamples,this.scoringKeyMapping=e.scoringKeyMapping}async execute(){var e;let t=performance.now(),r=[],o=await this.dataset.getItems(this.nbSamples),n=o.length,i=dN.settings.minLevel;dN.settings.minLevel=6;let a=new o9({text:`Evaluating dataset (0/${n} items)`}).start(),s=[];for(let t=0;t<o.length;t++){let i=o[t];try{this.rootTrace=this.client.trace({projectName:this.projectName,name:"evaluation_task",createdBy:"evaluation",input:i}),xj.enterWith({trace:this.rootTrace});let e=await this.executeTask(i);s.push(e),this.rootTrace.update({output:e.testCase.taskOutput,endTime:new Date})}catch(r){let t=r instanceof Error?r.message:String(r);dN.error(`Error processing dataset item: ${i.id} - ${t}`),r instanceof Error&&this.rootTrace.update({errorInfo:{message:r.message,exceptionType:r.name,traceback:null!=(e=r.stack)?e:""},endTime:new Date})}r.push(new k0({datasetItemId:i.id,traceId:this.rootTrace.data.id})),a.text=`Evaluating dataset (${t+1}/${n} items, ${Math.round((t+1)/n*100)}%)`}let l=(performance.now()-t)/1e3;return a.succeed(`Evaluation complete: ${n} items processed in ${l.toFixed(2)}s`),dN.settings.minLevel=i,this.experiment.insert(r),await this.client.flush(),xN.processResults(s,this.experiment,l)}async executeTask(e){let t={};dN.debug(`Starting evaluation task on dataset item ${e.id}`),t=await xI({name:"llm_task",type:h6.General},this.task)(e),dN.debug(`Finished evaluation task on dataset item ${e.id}`);let r=this.prepareScoringInputs(e,t),o={traceId:this.rootTrace.data.id,datasetItemId:e.id,scoringInputs:r,taskOutput:t};return this.scoringMetrics.length>0?this.calculateScores(o):{testCase:o,scoreResults:[]}}async calculateScores(e){let t=[],{scoringInputs:r}=e;for(let e of this.scoringMetrics){dN.debug(`Calculating score for metric ${e.name}`);try{!function(e,t){if(!t||"object"!=typeof t)throw Error("Arguments must be an object");let r=e.validationSchema,o=r.extend(Object.fromEntries(Object.entries(r.shape).map(([e,t])=>[e,t.refine(e=>void 0!==e,{message:`${e} cannot be undefined`,path:[e]})]))).safeParse(t);if(!o.success)throw Error(function(e,t,r){let o=Object.keys(t),n=r.filter(e=>!(e in t));return`Metric '${e.name}' is skipped, missing required arguments: ${n.join(", ")}. Available arguments: ${o.join(", ")}.`}(e,t,[...new Set(o.error.issues.map(e=>e.path[0]).filter(Boolean))]))}(e,r);let o=await e.score(r),n=Array.isArray(o)?o:[o];t.push(...n)}catch(r){let t=r instanceof Error?r.message:String(r);dN.error(`Metric ${e.name} failed: ${t}`)}dN.debug(`Finished calculating score for metric ${e.name}`)}return t.forEach(e=>{var t;return null==(t=this.rootTrace)?void 0:t.score({name:e.name,value:e.value,reason:e.reason})}),{testCase:e,scoreResults:t}}prepareScoringInputs(e,t){let r={...e,...t};if(!this.scoringKeyMapping)return r;let o={...r};for(let[e,t]of Object.entries(this.scoringKeyMapping)){let n=function(e,t,r){if(!e||"string"!=typeof t||""===t.trim())return;let o=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),n=e;for(let e of o)if("object"!=typeof n||null===n||!(e in n))return;else n=n[e];return void 0===n?void 0:n}(r,t);void 0!==n&&(o[e]=n)}return o}};((e,t,r,o,n,i)=>{for(var a,s,l,u=7&t,p=dP[u+5],d=e[2]||(e[2]=[]),c=dR(n=n.prototype,r),h=o.length-1;h>=0;h--)(l=dI(u,r,s={},e[3],d)).static=!1,l.private=!1,(l.access={has:e=>r in e}).get=e=>e[r],a=(0,o[h])(c[p],l),s._=1,dO(a)&&(c[p]=a);return c&&dS(n,r,c)})(ef=[,,,dT(null)],1,"calculateScores",eg,xB),w=ef,u=(l=Symbol.metadata)?l:Symbol.for("Symbol.metadata"),p=w[3],u in xB?dS(xB,u,{enumerable:!0,configurable:!0,writable:!0,value:p}):xB[u]=p,lo.z.object({output:lo.z.unknown(),expected:lo.z.unknown()}),lo.z.object({output:lo.z.string(),substring:lo.z.string()}),lo.z.object({output:lo.z.string(),pattern:lo.z.string(),flags:lo.z.string().optional()}),lo.z.object({output:lo.z.unknown()}),lo.z.object({output:lo.z.string()}),lo.z.object({score:lo.z.number(),reason:lo.z.string()}),lo.z.object({input:lo.z.string(),output:lo.z.string()}),lo.z.object({score:lo.z.number(),reason:lo.z.string()}),lo.z.object({input:lo.z.string(),output:lo.z.string(),context:lo.z.array(lo.z.string()).optional()}),lo.z.object({score:lo.z.number(),reason:lo.z.union([lo.z.string(),lo.z.array(lo.z.string())])}),lo.z.object({input:lo.z.string(),output:lo.z.string(),context:lo.z.array(lo.z.string()).optional()}),lo.z.object({answer_relevance_score:lo.z.number(),reason:lo.z.string()});let xM=null;function xU(){if(!process.env.OPIK_API_KEY)return console.warn("OPIK_API_KEY not set - tracking disabled"),null;if(!xM)try{xM=new xR({apiKey:process.env.OPIK_API_KEY,projectName:process.env.OPIK_PROJECT_NAME||"adaptive-productivity-agent"}),console.log("Opik client initialized successfully")}catch(e){return console.error("Failed to initialize Opik client:",e),null}return xM}async function xL(e){let t=xU();if(t)try{await t.log({projectName:"adaptive-productivity-agent",name:"gemini_plan_generation",input:{userId:e.userId,capacityScore:e.capacityScore,mode:e.mode,taskCount:e.taskCount,prompt:e.prompt},output:{response:e.response,reasoning:e.reasoning},metadata:{model:"gemini-1.5-flash",duration_ms:e.duration,timestamp:e.timestamp.toISOString()},tags:["ai-planning","gemini",e.mode]}),console.log("AI request logged to Opik")}catch(e){console.error("Failed to log AI request to Opik:",e)}}async function xq(e){let t=xU();if(t)try{let r=e.predictedCapacity,o=e.actualCompletionRate,n=100-Math.abs(r-o);await t.log({projectName:"adaptive-productivity-agent",name:"capacity_accuracy",input:{userId:e.userId,predictedCapacity:e.predictedCapacity,mode:e.mode,date:e.date.toISOString()},output:{actualCompletionRate:e.actualCompletionRate,accuracyScore:n},metadata:{error:Math.abs(r-o),timestamp:new Date().toISOString()},tags:["capacity-tracking",e.mode],feedbackScores:[{name:"accuracy",value:n/100,reason:`Predicted ${r}%, actual ${o}%`}]}),console.log("Capacity accuracy tracked in Opik")}catch(e){console.error("Failed to track capacity accuracy in Opik:",e)}}async function x$(e){let t=xU();if(t)try{var r;let o,n=(r=e.reasoning,o=50,r.includes("capacity")&&(o+=10),(r.includes("priority")||r.includes("prioritize"))&&(o+=10),(r.includes("energy")||r.includes("focus"))&&(o+=10),(r.includes("balance")||r.includes("recovery"))&&(o+=10),r.length>100&&(o+=10),Math.min(100,o));await t.log({projectName:"adaptive-productivity-agent",name:"reasoning_quality",input:{userId:e.userId,taskCount:e.taskCount,reasoningLength:e.reasoning.length},output:{reasoning:e.reasoning,qualityScore:n},metadata:{userFeedback:e.userFeedback,completionRate:e.completionRate,timestamp:new Date().toISOString()},tags:["reasoning-quality","gemini"],feedbackScores:e.userFeedback?[{name:"user_satisfaction",value:+("helpful"===e.userFeedback)}]:void 0}),console.log("Reasoning quality tracked in Opik")}catch(e){console.error("Failed to track reasoning quality in Opik:",e)}}function xz(){let e=process.env.OPIK_PROJECT_NAME||"adaptive-productivity-agent";return`https://www.comet.com/opik/projects/${e}`}e.s(["getOpikDashboardUrl",()=>xz,"logAIRequest",()=>xL,"trackCapacityAccuracy",()=>xq,"trackReasoningQuality",()=>x$],49566)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__51248317._.js.map