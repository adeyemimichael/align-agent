module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42447,(a,b,c)=>{"use strict";b.exports=a.r(39422).vendored.contexts.AppRouterContext},43238,(a,b,c)=>{"use strict";b.exports=a.r(39422).vendored["react-ssr"].ReactServerDOMTurbopackClient},8554,(a,b,c)=>{"use strict";b.exports=a.r(39422).vendored.contexts.HooksClientContext},88339,(a,b,c)=>{"use strict";b.exports=a.r(39422).vendored.contexts.ServerInsertedHtml},6106,a=>{"use strict";let b=(0,a.i(59944).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],6106)},229,a=>{"use strict";let b=(0,a.i(59944).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],229)},49367,a=>{"use strict";var b=a.i(65528),c=a.i(81423),d=a.i(25542),e=a.i(17938),f=a.i(59944);let g=(0,f.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),h=(0,f.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var i=a.i(51080);function j({overallReasoning:a,modeRecommendation:d,taskReasonings:e}){let[f,j]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-lg p-4 mb-6",children:[(0,b.jsxs)("button",{onClick:()=>j(!f),className:"w-full flex items-center justify-between text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Sparkles,{className:"w-5 h-5 text-emerald-600"}),(0,b.jsx)("h3",{className:"font-semibold text-gray-900",children:"AI Planning Insights"})]}),f?(0,b.jsx)(h,{className:"w-5 h-5 text-gray-500"}):(0,b.jsx)(g,{className:"w-5 h-5 text-gray-500"})]}),f&&(0,b.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Planning Strategy"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:a})]}),d&&(0,b.jsxs)("div",{className:"bg-white rounded-md p-3 border border-emerald-100",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Capacity Recommendation"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:d})]}),e&&e.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Task Scheduling Rationale"}),(0,b.jsx)("div",{className:"space-y-2",children:e.map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-md p-3 border border-emerald-100",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-800 mb-1",children:a.taskTitle}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:a.reasoning})]},c))})]})]})]})}var k=a.i(8038);let l=(0,f.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=a.i(47318);let n=(0,f.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var o=a.i(229),p=a.i(6106),q=a.i(36577);function r(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(null),[h,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1);(0,c.useEffect)(()=>{w()},[]);let w=async()=>{try{r(!0);let a=await fetch("/api/plan/current");if(404===a.status)g(null),t(null);else if(a.ok){let b=await a.json();g(b.plan),t(null)}else{let b=await a.json();t(b.error||"Failed to load plan")}}catch(a){t("Failed to load plan")}finally{r(!1)}},x=async()=>{try{v(!0),t(null);let a=await fetch("/api/plan/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({syncToCalendar:!1})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to generate plan")}let b=await a.json();g(b.plan)}catch(a){t(a instanceof Error?a.message:"Failed to generate plan")}finally{v(!1)}},y=async(a,b)=>{if(f)try{let c=await fetch(`/api/plan/${f.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({tasks:[{id:a,completed:b}]})});if(c.ok){let a=await c.json();g(a.plan)}}catch(a){console.error("Failed to update task:",a)}};return h?(0,b.jsx)(e.default,{children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-emerald-600"})})}):(0,b.jsx)(e.default,{children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Today's Plan"}),(0,b.jsxs)("span",{className:"px-3 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-semibold rounded-full flex items-center gap-1",children:[(0,b.jsx)(i.Sparkles,{className:"w-3 h-3"}),"AI"]})]}),(0,b.jsx)("p",{className:"text-gray-600",children:"Personalized daily schedule based on your capacity and goals"})]}),s&&(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex items-start gap-3",children:[(0,b.jsx)(o.AlertCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-red-800",children:s}),s.includes("check-in")&&(0,b.jsx)("button",{onClick:()=>a.push("/checkin"),className:"mt-2 text-sm text-red-600 hover:text-red-700 underline",children:"Complete check-in now"})]})]}),!f&&!s&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border-2 border-emerald-200 p-12 text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-emerald-100 rounded-full mb-6",children:(0,b.jsx)(i.Sparkles,{className:"w-10 h-10 text-emerald-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Ready to Plan Your Day?"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Our AI will analyze your capacity, goals, and tasks to create a personalized schedule that works for you."}),(0,b.jsx)("button",{onClick:x,disabled:u,className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-8 py-4 rounded-xl hover:from-emerald-700 hover:to-teal-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 mx-auto font-semibold shadow-lg hover:shadow-xl transition-all",children:u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}),"Generating Your Plan..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Sparkles,{className:"w-5 h-5"}),"Generate AI Plan"]})})]}),f&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(k.Calendar,{className:"w-5 h-5 text-gray-500"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:new Date(f.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(q.TrendingUp,{className:"w-5 h-5 text-emerald-600"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[f.capacityScore.toFixed(0),"%"]}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"capacity"})]}),(0,b.jsxs)("span",{className:`px-4 py-1.5 rounded-full text-sm font-semibold border ${(a=>{switch(a){case"recovery":return"bg-blue-100 text-blue-800 border-blue-200";case"balanced":return"bg-green-100 text-green-800 border-green-200";case"deep_work":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(f.mode)}`,children:[f.mode.replace("_"," ").toUpperCase()," MODE"]}),(0,b.jsxs)("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-xs font-semibold rounded-full flex items-center gap-1",children:[(0,b.jsx)(i.Sparkles,{className:"w-3 h-3"}),"AI Generated"]})]})]}),(0,b.jsx)("button",{onClick:x,disabled:u,className:"px-4 py-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}),"Regenerating..."]}):"Regenerate"})]})}),(0,b.jsx)(j,{overallReasoning:f.reasoning}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Scheduled Tasks"}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[f.tasks.filter(a=>a.completed).length," of ",f.tasks.length," completed"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:f.tasks.map(a=>(0,b.jsx)("div",{className:`border-2 rounded-xl p-4 transition-all ${a.completed?"bg-gray-50 border-gray-200 opacity-60":"bg-white border-gray-200 hover:border-emerald-300 hover:shadow-md"}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("button",{onClick:()=>y(a.id,!a.completed),className:"mt-1 flex-shrink-0",children:a.completed?(0,b.jsx)(m.CheckCircle2,{className:"w-5 h-5 text-emerald-600"}):(0,b.jsx)(n,{className:"w-5 h-5 text-gray-400 hover:text-emerald-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:`font-medium ${a.completed?"text-gray-500 line-through":"text-gray-900"}`,children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),(0,b.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${(a=>{switch(a){case 1:return"text-red-600 bg-red-50 border-red-200";case 2:return"text-orange-600 bg-orange-50 border-orange-200";case 3:return"text-yellow-600 bg-yellow-50 border-yellow-200";case 4:return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}})(a.priority)}`,children:["P",a.priority]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[a.scheduledStart&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(l,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[new Date(a.scheduledStart).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})," - ",a.scheduledEnd&&new Date(a.scheduledEnd).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]}),(0,b.jsxs)("span",{children:[a.estimatedMinutes," min"]})]})]})]})},a.id))})]})]})]})})}a.s(["default",()=>r],49367)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5c75ece9._.js.map